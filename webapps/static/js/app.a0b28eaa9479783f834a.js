webpackJsonp([1],{"/u7W":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("5H02"),i={List:function(e){return a.a.apiGet("/file/v1/list",{path:e||""})},Delete:function(e){return a.a.apiDelete("/file/v1/del",{path:e||""})},Rename:function(e,t){return a.a.apiPost("/file/v1/rename",{path:e||"",name:t||""})},NewFolder:function(e){return a.a.apiPost("/file/v1/newfolder",{path:e||""})},GetStreamToken:function(e,t){return a.a.apiGet("/filestream/v1/token",{type:e||"",data:t||""})},GetDownloadUrl:function(e){return i.GetStreamToken("download",e).then(function(e){return a.a.buildAPIURL(a.a.getSignAPIURL("/filestream/v1/read/"+e.token))})},GetSteamUrl:function(e){return i.GetStreamToken("download",e).then(function(e){return encodeURI(a.a.buildAPIURL("/filestream/v1/read/"+e.token,{action:"stream"}))})},GetUploadUrl:function(e){return i.GetStreamToken("upload",e).then(function(e){return a.a.buildAPIURL("/filestream/v1/put/"+e.token)})},AsyncExec:function(e,t){return t||(t={}),t.func=e,a.a.apiPost("/filetask/v1/asyncexec",t)},AsyncExecToken:function(e,t,n){return n||(n={}),n.func=e,n.token=t,a.a.apiPost("/filetask/v1/asyncexectoken",n)},CopyAsync:function(e,t,n,a){return this.AsyncExec("CopyFile",{srcPath:e||"",dstPath:t||"",replace:n||!1,ignore:a||!1})},MoveAsync:function(e,t,n,a){return this.AsyncExec("MoveFile",{srcPath:e||"",dstPath:t||"",replace:n||!1,ignore:a||!1})}}},0:function(e,t){},"0lA4":function(e,t){},"22FI":function(e,t){},"3aDr":function(e,t,n){"use strict";(function(e){var t,a,i=n("woOf"),o=n.n(i),r=n("HSQo"),s=n.n(r),l=n("jJmG"),c=n.n(l),d=n("K6ED"),u=n.n(d),p=n("8hRR"),h=n.n(p),f=n("Zx67"),m=n.n(f),y=n("FUy+"),v=n.n(y),g=n("YQ7m"),b=n.n(g),w=n("fZjL"),x=n.n(w),k=n("//Fk"),S=n.n(k),_=n("mvHQ"),T=n.n(_),E=n("Zzip"),C=n.n(E),D=n("OvRC"),M=n.n(D),P=n("a1FJ"),A=n.n(P),L=n("5QVw"),F=n.n(L),R=n("C4MV"),B=n.n(R),I=n("pFYg"),O=n.n(I);t=window,a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||B()(e,t,{enumerable:!0,get:a})},n.r=function(e){void 0!==F.a&&A.a&&B()(e,A.a,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":O()(e))&&e&&e.__esModule)return e;var a=M()(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=58)}([function(e,t,n){function a(e){return(a="function"==typeof F.a&&"symbol"==O()(C.a)?function(e){return void 0===e?"undefined":O()(e)}:function(e){return e&&"function"==typeof F.a&&e.constructor===F.a&&e!==F.a.prototype?"symbol":void 0===e?"undefined":O()(e)})(e)}var i=n(6),o=Object.prototype.toString;function r(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function l(e){return null!==e&&"object"===a(e)}function c(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!==a(e)&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,i){"object"===a(t[i])&&"object"===a(n)?t[i]=e(t[i],n):t[i]=n}for(var i=0,o=arguments.length;i<o;i++)d(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"===a(t[i])&&"object"===a(n)?t[i]=e(t[i],n):"object"===a(n)?t[i]=e({},n):t[i]=n}for(var i=0,o=arguments.length;i<o;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,function(t,a){e[a]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var a=n(14);e.exports=function(e){var t="",n=(e=e||{}).enableSubtitle,i=e.subtitle,o=e.current,r=e.airplay,s=e.pic,l=a.$escape,c=e.screenshot,d=e.preload,u=e.url;return n=i&&"webvtt"===i.type,t+='\n<video\n    class="dplayer-video ',o&&(t+="dplayer-video-current"),t+='"\n    webkit-playsinline\n    ',r&&(t+=' x-webkit-airplay="allow" '),t+="\n    playsinline\n    ",s&&(t+='poster="',t+=l(s),t+='"'),t+="\n    ",(c||n)&&(t+='crossorigin="anonymous"'),t+="\n    ",d&&(t+='preload="',t+=l(d),t+='"'),t+="\n    ",u&&(t+='src="',t+=l(u),t+='"'),t+="\n    >\n    ",n&&(t+='\n    <track kind="metadata" default src="',t+=l(i.url),t+='"></track>\n    '),t+"\n</video>"}},function(e,t,n){e.exports=n(41)},function(e,t,n){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n,a,i,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var s=(n=r,a=btoa(unescape(encodeURIComponent(T()(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(i," */")),l=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")});return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){function n(e){return(n="function"==typeof F.a&&"symbol"==O()(C.a)?function(e){return void 0===e?"undefined":O()(e)}:function(e){return e&&"function"==typeof F.a&&e.constructor===F.a&&e!==F.a.prototype?"symbol":void 0===e?"undefined":O()(e)})(e)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(a=window)}e.exports=a},function(e,t){var n,a,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(e){a=r}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&h())}function h(){if(!d){var e=s(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}}},function(e,t,n){var a=n(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(a.isURLSearchParams(t))o=t.toString();else{var r=[];a.forEach(t,function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=T()(e)),r.push(i(t)+"="+i(e))}))}),o=r.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){(function(t){var a=n(0),i=n(46),o={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=n(10):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=n(10)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(r(t,"application/json;charset=utf-8"),T()(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],function(e){l.headers[e]={}}),a.forEach(["post","put","patch"],function(e){l.headers[e]=a.merge(o)}),e.exports=l}).call(this,n(5))},function(e,t,n){var a=n(0),i=n(47),o=n(7),r=n(49),s=n(52),l=n(53),c=n(11);e.exports=function(e){return new S.a(function(t,d){var u=e.data,p=e.headers;a.isFormData(u)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(f+":"+m)}var y=r(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(y,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,d,a),h=null}},h.onabort=function(){h&&(d(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){d(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(c(t,e,"ECONNABORTED",h)),h=null},a.isStandardBrowserEnv()){var v=n(54),g=(e.withCredentials||l(y))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&a.forEach(p,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)}),a.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),d(e),h=null)}),void 0===u&&(u=null),h.send(u)})}},function(e,t,n){var a=n(48);e.exports=function(e,t,n,i,o){var r=new Error(e);return a(r,t,n,i,o)}},function(e,t,n){var a=n(0);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];a.forEach(i,function(e){void 0!==t[e]&&(n[e]=t[e])}),a.forEach(o,function(i){a.isObject(t[i])?n[i]=a.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:a.isObject(e[i])?n[i]=a.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])}),a.forEach(r,function(a){void 0!==t[a]?n[a]=t[a]:void 0!==e[a]&&(n[a]=e[a])});var s=i.concat(o).concat(r),l=x()(t).filter(function(e){return-1===s.indexOf(e)});return a.forEach(l,function(a){void 0!==t[a]?n[a]=t[a]:void 0!==e[a]&&(n[a]=e[a])}),n}},function(e,t,n){function a(e){this.message=e}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,e.exports=a},function(e,t,n){e.exports=n(57)},function(e,t,n){(function(e){var a=n(16);function i(e){return(i="function"==typeof F.a&&"symbol"==O()(C.a)?function(e){return void 0===e?"undefined":O()(e)}:function(e){return e&&"function"==typeof F.a&&e.constructor===F.a&&e!==F.a.prototype?"symbol":void 0===e?"undefined":O()(e)})(e)}var o=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function s(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void u(t.promise,e)}d(t.promise,a)}else(1===e._state?d:u)(t.promise,e._value)})):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===i(t)||"function"==typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void h((a=n,o=t,function(){a.apply(o,arguments)}),e)}e._state=1,e._value=t,p(e)}catch(t){u(e,t)}var a,o}function u(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&l._immediateFn(function(){e._handled||l._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,d(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(s);return c(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},l.prototype.finally=a.a,l.all=function(e){return new l(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return t([]);var o=a.length;function s(e,r){try{if(r&&("object"===i(r)||"function"==typeof r)){var l=r.then;if("function"==typeof l)return void l.call(r,function(t){s(e,t)},n)}a[e]=r,0==--o&&t(a)}catch(e){n(e)}}for(var l=0;l<a.length;l++)s(l,a[l])})},l.resolve=function(e){return e&&"object"===i(e)&&e.constructor===l?e:new l(function(t){t(e)})},l.reject=function(e){return new l(function(t,n){n(e)})},l.race=function(e){return new l(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,i=e.length;a<i;a++)l.resolve(e[a]).then(t,n)})},l._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=l}).call(this,n(39).setImmediate)},function(e,t,n){t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(e,t,n){var a=n(14);e.exports=function(e){e=e||{};var t="",i=(arguments[1],function(e){return t+=e}),o=e.video,r=e.options,s=a.$escape,l=e.tran,c=e.icons,d=e.index,u=a.$each;return e.$value,e.$index,t+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',i(n(1)(o)),t+="\n    ",r.logo&&(t+='\n    <div class="dplayer-logo">\n        <img src="',t+=s(r.logo),t+='">\n    </div>\n    '),t+='\n    <div class="dplayer-danmaku"',r.danmaku&&r.danmaku.bottm&&(t+=' style="margin-bottom:',t+=s(r.danmaku.bottm),t+='"'),t+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',r.danmaku&&(t+='\n        <span class="dplayer-danloading">',t+=s(l("Danmaku is loading")),t+="</span>\n        "),t+='\n        <span class="diplayer-loading-icon">',t+=c.loading,t+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',t+=s(l("Setting")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=c.pallette,t+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',t+=s(l("Set danmaku color")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',t+=s(d),t+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',t+=s(l("Set danmaku type")),t+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(d),t+='" value="1">\n                    <span>',t+=s(l("Top")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(d),t+='" value="0" checked>\n                    <span>',t+=s(l("Rolling")),t+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',t+=s(d),t+='" value="2">\n                    <span>',t+=s(l("Bottom")),t+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',t+=s(l("Input danmaku, hit Enter")),t+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',t+=s(l("Send")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=c.send,t+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',t+=c.play,t+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',t+=c.volumeDown,t+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',t+=s(r.theme),t+=';">\n                        <span class="dplayer-thumb" style="background: ',t+=s(r.theme),t+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',r.live&&(t+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',t+=s(r.theme),t+=';"></span>',t+=s(l("Live")),t+="</span>\n        "),t+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',r.video.quality&&(t+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',t+=s(r.video.quality[r.video.defaultQuality].name),t+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',u(r.video.quality,function(e,n){t+='\n                    <div class="dplayer-quality-item" data-index="',t+=s(n),t+='">',t+=s(e.name),t+="</div>\n                "}),t+="\n                </div>\n            </div>\n        </div>\n        "),t+="\n        ",r.screenshot&&(t+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',t+=s(l("Screenshot")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=c.camera,t+="</span>\n        </div>\n        "),t+="\n        ",r.airplay&&(t+='\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="',t+=s(l("AirPlay")),t+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',t+=c.airplay,t+="</span>\n        </div>\n        "),t+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',t+=s(l("Send danmaku")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=c.comment,t+="</span>\n            </button>\n        </div>\n        ",r.subtitle&&(t+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',t+=s(l("Hide subtitle")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=c.subtitle,t+="</span>\n            </button>\n        </div>\n        "),t+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',t+=s(l("Setting")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=c.setting,t+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',t+=s(l("Speed")),t+='</span>\n                        <div class="dplayer-toggle">',t+=c.right,t+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',t+=s(l("Loop")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',t+=s(l("Show danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',t+=s(l("Unlimited danmaku")),t+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',t+=s(l("Opacity for danmaku")),t+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ',u(r.playbackSpeed,function(e,n){t+='\n                        <div class="dplayer-setting-speed-item" data-speed="',t+=s(e),t+='">\n                            <span class="dplayer-label">',t+=s(1===e?l("Normal"):e),t+="</span>\n                        </div>\n                    "}),t+='\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',t+=s(l("Web full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=c.fullWeb,t+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',t+=s(l("Full screen")),t+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',t+=c.full,t+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',t+=s(r.theme),t+='">\n                <span class="dplayer-thumb" style="background: ',t+=s(r.theme),t+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',r.danmaku&&(t+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),t+='\n</div>\n<div class="dplayer-menu">\n    ',u(r.contextmenu,function(e,n){t+='\n        <div class="dplayer-menu-item">\n            <a',e.link&&(t+=' target="_blank"'),t+=' href="',t+=s(e.link||"javascript:void(0);"),t+='">',t+=s(l(e.text)),t+="</a>\n        </div>\n    "}),t+='\n</div>\n<div class="dplayer-notice"></div>\n<button class="dplayer-mobile-play">\n    ',t+=c.play,t+="\n</button>"}},function(e,t,n){var a=n(36),i=n(37);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){var a,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],i=0;i<e.length;i++){var s=e[i],l=t.base?s[0]+t.base:s[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=r(d),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(o[u].references++,o[u].updater(p)):o.push({identifier:d,updater:f(p,t),references:1}),a.push(d)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(x()(a).forEach(function(e){t.setAttribute(e,a[e])}),"function"==typeof e.insert)e.insert(t);else{var r=i(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}var p=null,h=0;function f(e,t){var n,a,i;if(t.singleton){var o=h++;n=p||(p=l(t)),a=u.bind(null,n,o,!1),i=u.bind(null,n,o,!0)}else n=l(t),a=function(e,t,n){var a=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(T()(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var i=r(n[a]);o[i].references--}for(var l=s(e,t),c=0;c<n.length;c++){var d=r(n[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=l}}}},function(e,t,n){var a=n(3),i=n(38);(t=a(!1)).i(i),t.push([e.i,'@-webkit-keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}@keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}.dplayer{position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.dplayer *{box-sizing:content-box}.dplayer svg{width:100%;height:100%}.dplayer svg circle,.dplayer svg path{fill:#fff}.dplayer:-webkit-full-screen{width:100%;height:100%;background:#000;position:fixed;z-index:100000;left:0;top:0;margin:0;padding:0;transform:translate(0)}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{-webkit-animation:danmaku-center 6s linear;animation:danmaku-center 6s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{-webkit-animation:danmaku 8s linear;animation:danmaku 8s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer.dplayer-live .dplayer-bar-wrap,.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting,.dplayer.dplayer-live .dplayer-setting-loop,.dplayer.dplayer-live .dplayer-setting-speed,.dplayer.dplayer-live .dplayer-time,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,.dplayer.dplayer-no-danmaku .dplayer-danmaku{display:none}.dplayer.dplayer-arrow .dplayer-danmaku{font-size:18px}.dplayer.dplayer-arrow .dplayer-icon{margin:0 -3px}.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move{-webkit-animation-play-state:running;animation-play-state:running}@media (min-width:900px){.dplayer.dplayer-playing .dplayer-controller,.dplayer.dplayer-playing .dplayer-controller-mask{opacity:0}.dplayer.dplayer-playing:hover .dplayer-controller,.dplayer.dplayer-playing:hover .dplayer-controller-mask{opacity:1}}.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon{display:block}.dplayer.dplayer-loading .dplayer-danmaku,.dplayer.dplayer-loading .dplayer-danmaku-move,.dplayer.dplayer-paused .dplayer-danmaku,.dplayer.dplayer-paused .dplayer-danmaku-move{-webkit-animation-play-state:paused;animation-play-state:paused}.dplayer.dplayer-hide-controller{cursor:none}.dplayer.dplayer-hide-controller .dplayer-controller,.dplayer.dplayer-hide-controller .dplayer-controller-mask{opacity:0;transform:translateY(100%)}.dplayer.dplayer-show-controller .dplayer-controller,.dplayer.dplayer-show-controller .dplayer-controller-mask{opacity:1}.dplayer.dplayer-fulled{position:fixed;z-index:100000;left:0;top:0;width:100%!important;height:100%!important}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume{display:none}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:static;display:inline-block}.dplayer.dplayer-mobile .dplayer-bar-time,.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play{display:none}.dplayer.dplayer-mobile .dplayer-mobile-play{display:block}.dplayer-web-fullscreen-fix{position:fixed;top:0;left:0;margin:0;padding:0}[data-balloon]:before{display:none}[data-balloon]:after{padding:.3em .7em;background:rgba(17,17,17,.7)}[data-balloon][data-balloon-pos=up]:after{margin-bottom:0}.dplayer-bezel{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon{position:absolute;top:50%;left:50%;margin:-26px 0 0 -26px;height:52px;width:52px;padding:12px;box-sizing:border-box;background:rgba(0,0,0,.5);border-radius:50%;opacity:0;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition{-webkit-animation:bezel-hide .5s linear;animation:bezel-hide .5s linear}@-webkit-keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}@keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}.dplayer-bezel .dplayer-danloading{position:absolute;top:50%;margin-top:-7px;width:100%;text-align:center;font-size:14px;line-height:14px;-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-bezel .diplayer-loading-icon{display:none;position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;height:36px;width:36px;pointer-events:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide{display:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot{-webkit-animation:diplayer-loading-dot-fade .8s ease infinite;animation:diplayer-loading-dot-fade .8s ease infinite;opacity:0;transform-origin:4px 4px}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7{-webkit-animation-delay:.7s;animation-delay:.7s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6{-webkit-animation-delay:.6s;animation-delay:.6s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5{-webkit-animation-delay:.5s;animation-delay:.5s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4{-webkit-animation-delay:.4s;animation-delay:.4s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3{-webkit-animation-delay:.3s;animation-delay:.3s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2{-webkit-animation-delay:.2s;animation-delay:.2s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1{-webkit-animation-delay:.1s;animation-delay:.1s}@-webkit-keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}@keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}.dplayer-controller-mask{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;height:98px;width:100%}.dplayer-controller,.dplayer-controller-mask{position:absolute;bottom:0;transition:all .3s ease}.dplayer-controller{left:0;right:0;height:41px;padding:0 20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons{display:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box{display:block}.dplayer-controller .dplayer-bar-wrap{padding:5px 0;cursor:pointer;position:absolute;bottom:33px;width:calc(100% - 40px);height:3px}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight{display:block;width:8px;transform:translateX(-4px);top:4px;height:40%}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight{z-index:12;position:absolute;top:5px;width:6px;height:20%;border-radius:6px;background-color:#fff;text-align:center;transform:translateX(-3px);transition:all .2s ease-in-out}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text{display:block}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-preview,.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-time{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text{display:none;position:absolute;left:50%;top:-24px;padding:5px 8px;background-color:rgba(0,0,0,.62);color:#fff;border-radius:4px;font-size:12px;white-space:nowrap;transform:translateX(-50%)}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview{position:absolute;background:#fff;pointer-events:none;display:none;background-size:16000px 100%}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time{position:absolute;left:0;top:-20px;border-radius:4px;padding:5px 7px;background-color:rgba(0,0,0,.62);color:#fff;font-size:12px;text-align:center;opacity:1;transition:opacity .1s ease-in-out;word-wrap:normal;word-break:normal;z-index:2;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-bar{position:relative;height:3px;width:100%;background:hsla(0,0%,100%,.2);cursor:pointer}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded{background:hsla(0,0%,100%,.4);transition:all .5s ease}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded,.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played{position:absolute;left:0;top:0;bottom:0;height:3px;will-change:width}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons{height:38px;position:absolute;bottom:0}.dplayer-controller .dplayer-icons.dplayer-comment-box{display:none;position:absolute;transition:all .3s ease-in-out;z-index:2;height:38px;bottom:0;left:20px;right:20px;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon{position:absolute;left:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon{position:absolute;right:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box{position:absolute;background:rgba(28,28,28,.9);bottom:41px;left:0;box-shadow:0 0 25px rgba(0,0,0,.3);border-radius:4px;padding:10px 10px 16px;font-size:14px;width:204px;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open{transform:scale(1)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio]{display:none}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label{cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title{font-size:13px;color:#fff;line-height:30px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title{margin-bottom:6px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span{border-radius:4px 0 0 4px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span{border-radius:0 4px 4px 0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span{width:33%;padding:4px 6px;line-height:16px;display:inline-block;font-size:12px;color:#fff;border:1px solid #fff;margin-right:-1px;box-sizing:border-box;text-align:center;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked+span{background:#e4e4e6;color:#1c1c1c}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label{font-size:0;padding:6px;display:inline-block}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span{width:22px;height:22px;display:inline-block;border-radius:50%;box-sizing:border-box;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover{-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input{outline:none;border:none;padding:8px 31px;font-size:14px;line-height:18px;text-align:center;border-radius:4px;background:none;margin:0;height:100%;box-sizing:border-box;width:100%;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-webkit-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input:-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear{display:none}.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-icons-right{right:20px}.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon{padding:8px}.dplayer-controller .dplayer-icons .dplayer-live-badge,.dplayer-controller .dplayer-icons .dplayer-time{line-height:38px;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);vertical-align:middle;font-size:13px;cursor:default}.dplayer-controller .dplayer-icons .dplayer-live-dot{display:inline-block;width:6px;height:6px;vertical-align:4%;margin-right:5px;content:"";border-radius:6px}.dplayer-controller .dplayer-icons .dplayer-icon{width:40px;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;vertical-align:middle;box-sizing:border-box;display:inline-block}.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content{transition:all .2s ease-in-out;opacity:.8}.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content{opacity:1}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon{color:#fff;width:auto;line-height:22px;font-size:14px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon{padding:10px 9px 9px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon{padding-top:8.5px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon{width:43px}.dplayer-controller .dplayer-icons .dplayer-volume{position:relative;display:inline-block;cursor:pointer;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap{display:inline-block;margin:0 10px 0 -5px;vertical-align:middle;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar{position:relative;top:17px;width:0;height:3px;background:#aaa;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;will-change:width}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons .dplayer-setting,.dplayer-controller .dplayer-icons .dplayer-subtitle-btn{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box{position:absolute;right:0;bottom:50px;transform:scale(0);width:150px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 0;transition:all .3s ease-in-out;overflow:hidden;z-index:2}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div.dplayer-setting-origin-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow{width:70px;text-align:center}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item{height:30px;padding:5px 10px;box-sizing:border-box;cursor:pointer;position:relative}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku{padding:5px 0}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label{padding:0 10px;display:inline}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap{padding:0 10px;box-sizing:border-box;display:none;vertical-align:middle;height:100%;width:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar{position:relative;top:8.5px;width:100%;height:3px;background:#fff;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;background:#aaa;will-change:width}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;background:#aaa}.dplayer-controller .dplayer-icons .dplayer-full{display:inline-block;height:100%;position:relative}.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon{display:block}.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:absolute;top:-30px;z-index:1;display:none}.dplayer-controller .dplayer-icons .dplayer-quality{position:relative;display:inline-block;height:100%;z-index:2}.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list,.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask{display:block}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask{display:none;position:absolute;bottom:38px;left:-18px;width:80px;padding-bottom:12px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list{display:none;font-size:12px;width:80px;border-radius:2px;background:rgba(28,28,28,.9);padding:5px 0;transition:all .3s ease-in-out;overflow:hidden;color:#fff;text-align:center}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item{height:25px;box-sizing:border-box;cursor:pointer;line-height:25px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-comment{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-label{color:#eee;font-size:13px;display:inline-block;vertical-align:middle;white-space:nowrap}.dplayer-controller .dplayer-icons .dplayer-toggle{width:32px;height:20px;text-align:center;font-size:0;vertical-align:middle;position:absolute;top:5px;right:10px}.dplayer-controller .dplayer-icons .dplayer-toggle input{max-height:0;max-width:0;display:none}.dplayer-controller .dplayer-icons .dplayer-toggle input+label{display:inline-block;position:relative;box-shadow:inset 0 0 0 0 #dfdfdf;border:1px solid #dfdfdf;height:20px;width:32px;border-radius:10px;box-sizing:border-box;cursor:pointer;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after,.dplayer-controller .dplayer-icons .dplayer-toggle input+label:before{content:"";position:absolute;display:block;height:18px;width:18px;top:0;left:0;border-radius:15px;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after{background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label{border-color:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:before{width:30px;background:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:after{left:12px}.dplayer-mobile-play{display:none;width:50px;height:50px;border:none;background-color:transparent;outline:none;cursor:pointer;box-sizing:border-box;bottom:0;opacity:.8;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.dplayer-danmaku{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff}.dplayer-danmaku .dplayer-danmaku-item{display:inline-block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;white-space:nowrap;text-shadow:.5px .5px .5px rgba(0,0,0,.5)}.dplayer-danmaku .dplayer-danmaku-item--demo{position:absolute;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-right{position:absolute;right:0;transform:translateX(100%)}.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{will-change:transform;-webkit-animation:danmaku 5s linear;animation:danmaku 5s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku{0%{transform:translateX(100%)}}@keyframes danmaku{0%{transform:translateX(100%)}}.dplayer-danmaku .dplayer-danmaku-bottom,.dplayer-danmaku .dplayer-danmaku-top{position:absolute;width:100%;text-align:center;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{will-change:visibility;-webkit-animation:danmaku-center 4s linear;animation:danmaku-center 4s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}@keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}.dplayer-logo{pointer-events:none;position:absolute;left:20px;top:20px;max-width:50px;max-height:50px}.dplayer-logo img{max-width:100%;max-height:100%;background:none}.dplayer-menu{position:absolute;width:170px;border-radius:2px;background:rgba(28,28,28,.85);padding:5px 0;overflow:hidden;z-index:3;display:none}.dplayer-menu.dplayer-menu-show{display:block}.dplayer-menu .dplayer-menu-item{height:30px;box-sizing:border-box;cursor:pointer}.dplayer-menu .dplayer-menu-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-menu .dplayer-menu-item a{padding:0 10px;line-height:30px;color:#eee;font-size:13px;display:inline-block;vertical-align:middle;width:100%;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-menu .dplayer-menu-item a:hover{text-decoration:none}.dplayer-notice{opacity:0;position:absolute;bottom:60px;left:20px;font-size:14px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 20px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none}.dplayer-subtitle{position:absolute;bottom:40px;width:90%;left:5%;text-align:center;color:#fff;text-shadow:.5px .5px .5px rgba(0,0,0,.5);font-size:20px}.dplayer-subtitle.dplayer-subtitle-hide{display:none}.dplayer-mask{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:none}.dplayer-mask.dplayer-mask-show{display:block}.dplayer-video-wrap{position:relative;background:#000;font-size:0;width:100%;height:100%}.dplayer-video-wrap .dplayer-video{width:100%;height:100%;display:none}.dplayer-video-wrap .dplayer-video-current{display:block}.dplayer-video-wrap .dplayer-video-prepare{display:none}.dplayer-info-panel{position:absolute;top:10px;left:10px;width:400px;background:rgba(28,28,28,.8);padding:10px;color:#fff;font-size:12px;border-radius:2px}.dplayer-info-panel-hide{display:none}.dplayer-info-panel .dplayer-info-panel-close{cursor:pointer;position:absolute;right:10px;top:10px}.dplayer-info-panel .dplayer-info-panel-item>span{display:inline-block;vertical-align:middle;line-height:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-info-panel .dplayer-info-panel-item-title{width:100px;text-align:right;margin-right:10px}.dplayer-info-panel .dplayer-info-panel-item-data{width:260px}',""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,':root{--balloon-border-radius:2px;--balloon-color:rgba(16,16,16,0.95);--balloon-text-color:#fff;--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{position:relative;cursor:pointer}[aria-label][data-balloon-pos]:after{text-indent:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:var(--balloon-font-size);background:var(--balloon-color);border-radius:2px;color:var(--balloon-text-color);border-radius:var(--balloon-border-radius);content:attr(aria-label);padding:.5em 1em;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;transition:all .18s ease-out .18s;position:absolute;z-index:10}[aria-label][data-balloon-pos]:before{width:0;height:0;border:5px solid transparent;border-top:5px solid var(--balloon-color);content:""}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before,[aria-label][data-balloon-pos][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-visible]:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos].font-awesome:after{font-family:FontAwesome,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}[aria-label][data-balloon-pos][data-balloon-break]:after{white-space:pre}[aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after{white-space:pre-line;word-break:break-word}[aria-label][data-balloon-pos][data-balloon-blunt]:after,[aria-label][data-balloon-pos][data-balloon-blunt]:before{transition:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:after{bottom:100%;left:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:before{bottom:100%;left:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:after{bottom:100%;right:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:before{bottom:100%;right:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down]:after{left:50%;margin-top:10px;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:50%;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:after{left:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:after{right:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);right:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=left]:after{margin-right:10px;right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:before{width:0;height:0;border:5px solid transparent;border-left:5px solid var(--balloon-color);right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:after{left:100%;margin-left:10px;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:before{width:0;height:0;border:5px solid transparent;border-right:5px solid var(--balloon-color);left:100%;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-length=small]:after{white-space:normal;width:80px}[aria-label][data-balloon-pos][data-balloon-length=medium]:after{white-space:normal;width:150px}[aria-label][data-balloon-pos][data-balloon-length=large]:after{white-space:normal;width:260px}[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:380px}@media screen and (max-width:768px){[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:90vw}}[aria-label][data-balloon-pos][data-balloon-length=fit]:after{white-space:normal;width:100%}',""]),e.exports=t},function(e,t,n){var a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(40),t.setImmediate=b.a,t.clearImmediate=v.a},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var a,i,o,r,s,l=1,c={},d=!1,u=e.document,p=m.a&&m()(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&f(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),a=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},a=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,a=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):a=function(e){setTimeout(f,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,a(l),l++},p.clearImmediate=h}function h(e){delete c[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a)}}(t)}finally{h(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(5))},function(e,t,n){var a=n(0),i=n(6),o=n(42),r=n(12);function s(e){var t=new o(e),n=i(o.prototype.request,t);return a.extend(n,o.prototype,t),a.extend(n,t),n}var l=s(n(9));l.Axios=o,l.create=function(e){return s(r(l.defaults,e))},l.Cancel=n(13),l.CancelToken=n(55),l.isCancel=n(8),l.all=function(e){return S.a.all(e)},l.spread=n(56),e.exports=l,e.exports.default=l},function(e,t,n){var a=n(0),i=n(7),o=n(43),r=n(44),s=n(12);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[r,void 0],n=S.a.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,i){return this.request(a.merge(i||{},{method:e,url:t,data:n}))}}),e.exports=l},function(e,t,n){var a=n(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){a.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){var a=n(0),i=n(45),o=n(8),r=n(9);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||r.adapter)(e).then(function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),S.a.reject(t)})}},function(e,t,n){var a=n(0);e.exports=function(e,t,n){return a.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){var a=n(0);e.exports=function(e,t){a.forEach(e,function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])})}},function(e,t,n){var a=n(11);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(a("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){e.exports=function(e,t,n,a,i){return e.config=t,n&&(e.code=n),e.request=a,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){var a=n(50),i=n(51);e.exports=function(e,t){return e&&!a(t)?i(e,t):t}},function(e,t,n){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){var a=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,r={};return e?(a.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=a.trim(e.substr(0,o)).toLowerCase(),n=a.trim(e.substr(o+1)),t){if(r[t]&&i.indexOf(t)>=0)return;r[t]="set-cookie"===t?(r[t]?r[t]:[]).concat([n]):r[t]?r[t]+", "+n:n}}),r):r}},function(e,t,n){var a=n(0);e.exports=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var a=e;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=a.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){var a=n(0);e.exports=a.isStandardBrowserEnv()?{write:function(e,t,n,i,o,r){var s=[];s.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),a.isString(i)&&s.push("path="+i),a.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){var a=n(13);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new S.a(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new a(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},a=M()(n),i=/["&'<>]/;a.$escape=function(e){return function(e){var t=""+e,n=i.exec(t);if(!n)return e;var a="",o=void 0,r=void 0,s=void 0;for(o=n.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}r!==o&&(a+=t.substring(r,o)),r=o+1,a+=s}return r!==o?a+t.substring(r,o):a}(function e(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):T()(t)),t}(e))},a.$each=function(e,t){if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=a}).call(this,n(4))},function(e,t,n){n.r(t),n(35);var a=n(15),i=/mobile/i.test(window.navigator.userAgent),r={secondToTime:function(e){if(0===(e=e||0)||e===1/0||"NaN"===e.toString())return"00:00";var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return(t>0?[t,n,a]:[n,a]).map(function(e){return e<10?"0"+e:""+e}).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,a=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-a},getBoundingClientRectViewLeft:function(e){var t=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(e.getBoundingClientRect){if("number"!=typeof this.getBoundingClientRectViewLeft.offset){var n=document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-t,document.body.removeChild(n),n=null}var a=e.getBoundingClientRect(),i=this.getBoundingClientRectViewLeft.offset;return a.left+i}return this.getElementViewLeft(e)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,a=e.top,i=void 0===a?0:a;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=i):window.scrollTo(n,i)},isMobile:i,isSafari:/Safari/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},nameMap:{dragStart:i?"touchstart":"mousedown",dragMove:i?"touchmove":"mousemove",dragEnd:i?"touchend":"mouseup"},color2Number:function(e){return"#"===e[0]&&(e=e.substr(1)),3===e.length&&(e="".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2])),parseInt(e,16)+0&16777215},number2Color:function(e){return"#"+("00000"+e.toString(16)).slice(-6)},number2Type:function(e){switch(e){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},l=n(2),d=n.n(l),p={send:function(e){d.a.post(e.url,e.data).then(function(t){var n=t.data;n&&0===n.code?e.success&&e.success(n):e.error&&e.error(n&&n.msg)}).catch(function(t){console.error(t),e.error&&e.error()})},read:function(e){d.a.get(e.url).then(function(t){var n=t.data;n&&0===n.code?e.success&&e.success(n.data.map(function(e){return{time:e[0],type:e[1],color:e[2],author:e[3],text:e[4]}})):e.error&&e.error(n&&n.msg)}).catch(function(t){console.error(t),e.error&&e.error()})}};function f(e){return(f="function"==typeof F.a&&"symbol"==O()(C.a)?function(e){return void 0===e?"undefined":O()(e)}:function(e){return e&&"function"==typeof F.a&&e.constructor===F.a&&e!==F.a.prototype?"symbol":void 0===e?"undefined":O()(e)})(e)}var m=function(e){var t={container:e.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:p,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}}};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e.video&&!e.video.type&&(e.video.type="auto"),"object"===f(e.danmaku)&&e.danmaku&&!e.danmaku.user&&(e.danmaku.user="DIYgod"),e.subtitle&&(!e.subtitle.type&&(e.subtitle.type="webvtt"),!e.subtitle.fontSize&&(e.subtitle.fontSize="20px"),!e.subtitle.bottom&&(e.subtitle.bottom="40px"),!e.subtitle.color&&(e.subtitle.color="#fff")),e.video.quality&&(e.video.url=e.video.quality[e.video.defaultQuality].url),e.lang&&(e.lang=e.lang.toLowerCase()),e.contextmenu=e.contextmenu.concat([{text:"Video info",click:function(e){e.infoPanel.triggle()}}]),e},y={"zh-cn":{"Danmaku is loading":"",Top:"",Bottom:"",Rolling:"","Input danmaku, hit Enter":"","About author":"","DPlayer feedback":"","About DPlayer":" DPlayer ",Loop:"",Speed:"","Opacity for danmaku":"",Normal:"","Please input danmaku content!":"","Set danmaku color":"","Set danmaku type":"","Show danmaku":"","Video load failed":"","Danmaku load failed":"","Danmaku send failed":"","Switching to":"","Switched to":"",quality:"",FF:"",REW:"","Unlimited danmaku":"","Send danmaku":"",Setting:"","Full screen":"","Web full screen":"",Send:"",Screenshot:"",AirPlay:"",s:"","Show subtitle":"","Hide subtitle":"",Volume:"",Live:"","Video info":""},"zh-tw":{"Danmaku is loading":"",Top:"",Bottom:"",Rolling:"","Input danmaku, hit Enter":"Enter ","About author":"","DPlayer feedback":"","About DPlayer":" DPlayer ",Loop:"",Speed:"","Opacity for danmaku":"",Normal:"","Please input danmaku content!":"","Set danmaku color":"","Set danmaku type":"","Show danmaku":"","Video load failed":"","Danmaku load failed":"","Danmaku send failed":"","Switching to":"","Switched to":"",quality:"",FF:"",REW:"","Unlimited danmaku":"","Send danmaku":"",Setting:"","Full screen":"","Web full screen":"",Send:"",Screenshot:"",AirPlay:"",s:"","Show subtitle":"","Hide subtitle":"",Volume:"",Live:"","Video info":""}},v=function(e){var t=this;this.lang=e,this.tran=function(e){return y[t.lang]&&y[t.lang][e]?y[t.lang][e]:e}},g=n(17),b=n.n(g),w=n(18),k=n.n(w),S=n(19),_=n.n(S),T=n(20),E=n.n(T),D=n(21),M=n.n(D),P=n(22),A=n.n(P),L=n(23),R=n.n(L),I=n(24),q=n.n(I),z=n(25),H=n.n(z),N=n(26),$=n.n(N),U=n(27),j=n.n(U),W=n(28),V=n.n(W),Y=n(29),X=n.n(Y),G=n(30),K=n.n(G),Q=n(31),Z=n.n(Q),J=n(32),ee=n.n(J),te=n(33),ne=n.n(te),ae={play:b.a,pause:k.a,volumeUp:_.a,volumeDown:E.a,volumeOff:M.a,full:A.a,fullWeb:R.a,setting:q.a,right:H.a,comment:$.a,commentOff:j.a,send:V.a,pallette:X.a,camera:K.a,subtitle:ee.a,loading:ne.a,airplay:Z.a},ie=n(34),oe=n.n(ie);function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){this.container.innerHTML=oe()({options:this.options,index:this.index,tran:this.tran,icons:ae,mobile:r.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:this.options.airplay,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&re(t.prototype,n),e}();function le(e){return(le="function"==typeof F.a&&"symbol"==O()(C.a)?function(e){return void 0===e?"undefined":O()(e)}:function(e){return e&&"function"==typeof F.a&&e.constructor===F.a&&e!==F.a.prototype?"symbol":void 0===e?"undefined":O()(e)})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var de=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var t,n;return t=e,(n=[{key:"load",value:function(){var e,t=this;e=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var n=(this.options.api.addition||[]).slice(0);n.push(e),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,function(e){t.dan=[].concat.apply([],e).sort(function(e,t){return e.time-t.time}),window.requestAnimationFrame(function(){t.frame()}),t.options.callback(),t.events&&t.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(e){this.options.api=e,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(e,t){for(var n=this,a=[],i=0,o=function(o){n.options.apiBackend.read({url:e[o],success:function(n){a[o]=n,++i===e.length&&t(a)},error:function(r){n.options.error(r||n.options.tran("Danmaku load failed")),a[o]=[],++i===e.length&&t(a)}})},r=0;r<e.length;++r)o(r)}},{key:"send",value:function(e,t){var n=this,a={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:e.text,color:e.color,type:e.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:a,success:t,error:function(e){n.options.error(e||n.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,a),this.danIndex++;var i={text:this.htmlEncode(a.text),color:a.color,type:a.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(i),this.events&&this.events.trigger("danmaku_send",a)}},{key:"frame",value:function(){var e=this;if(this.dan.length&&!this.paused&&this.showing){for(var t=this.dan[this.danIndex],n=[];t&&this.options.time()>parseFloat(t.time);)n.push(t),t=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame(function(){e.frame()})}},{key:"opacity",value:function(e){if(void 0!==e){for(var t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.opacity=e;this._opacity=e,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(e){var t=this;if(this.showing){var n=this.options.height,a=this.container.offsetWidth,i=this.container.offsetHeight,o=parseInt(i/n),s=function(e){var n=e.offsetWidth||parseInt(e.style.width),a=e.getBoundingClientRect().right||t.container.getBoundingClientRect().right+n;return t.container.getBoundingClientRect().right-a},l=function(e){return(a+e)/5},c=function(e,n,i){for(var r=a/l(i),c=function(i){var c=t.danTunnel[n][i+""];if(!c||!c.length)return t.danTunnel[n][i+""]=[e],e.addEventListener("animationend",function(){t.danTunnel[n][i+""].splice(0,1)}),{v:i%o};if("right"!==n)return"continue";for(var d=0;d<c.length;d++){var u=s(c[d])-10;if(u<=a-r*l(parseInt(c[d].style.width))||u<=0)break;if(d===c.length-1)return t.danTunnel[n][i+""].push(e),e.addEventListener("animationend",function(){t.danTunnel[n][i+""].splice(0,1)}),{v:i%o}}},d=0;t.unlimited||d<o;d++){var u=c(d);switch(u){case"continue":continue;default:if("object"===le(u))return u.v}}return-1};"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var d=document.createDocumentFragment(),u=function(i){e[i].type=r.number2Type(e[i].type),e[i].color||(e[i].color=16777215);var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-".concat(e[i].type)),e[i].border?o.innerHTML='<span style="border:'.concat(e[i].border,'">').concat(e[i].text,"</span>"):o.innerHTML=e[i].text,o.style.opacity=t._opacity,o.style.color=r.number2Color(e[i].color),o.addEventListener("animationend",function(){t.container.removeChild(o)});var s=t._measure(e[i].text),l=void 0;switch(e[i].type){case"right":(l=c(o,e[i].type,s))>=0&&(o.style.width=s+1+"px",o.style.top=n*l+"px",o.style.transform="translateX(-".concat(a,"px)"));break;case"top":(l=c(o,e[i].type))>=0&&(o.style.top=n*l+"px");break;case"bottom":(l=c(o,e[i].type))>=0&&(o.style.bottom=n*l+"px");break;default:console.error("Can't handled danmaku type: ".concat(e[i].type))}l>=0&&(o.classList.add("dplayer-danmaku-move"),d.appendChild(o))},p=0;p<e.length;p++)u(p);return this.container.appendChild(d),d}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(e){if(!this.context){var t=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=t.getPropertyValue("font")}return this.context.measureText(e).width}},{key:"seek",value:function(){this.clear();for(var e=0;e<this.dan.length;e++){if(this.dan[e].time>=this.options.time()){this.danIndex=e;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var e=this.container.offsetWidth,t=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<t.length;n++)t[n].style.transform="translateX(-".concat(e,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(e){this.unlimited=e}}])&&ce(t.prototype,n),e}();function ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var t,n;return t=e,(n=[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("Unknown event name: ".concat(e)),null)}}])&&ue(t.prototype,n),e}();function he(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var fe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){n.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){n.player.resize(),r.setScrollPosition(n.lastScrollPosition)});var a=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(r.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))},i=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e&&e!==n.player.container||(n.player.resize(),e?n.player.events.trigger("fullscreen"):(r.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",i),document.addEventListener("fullscreenchange",i)):(this.player.container.addEventListener("fullscreenchange",a),this.player.container.addEventListener("webkitfullscreenchange",a),document.addEventListener("msfullscreenchange",i),document.addEventListener("MSFullscreenChange",i))}var t,n;return t=e,(n=[{key:"isFullScreen",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t="browser"===e?"web":"browser",n=this.isFullScreen(t);switch(n||(this.lastScrollPosition=r.getScrollPosition()),e){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(t)}},{key:"cancel",value:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser"){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(e)?this.cancel(e):this.request(e)}}])&&he(t.prototype,n),e}();function me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:t.options.hasOwnProperty("volume")?t.options.volume:.7,unlimited:(t.options.danmaku&&t.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(r.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,r.storage.set(this.storageName[e],t)}}])&&me(t.prototype,n),e}();function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var ge=function(){function e(t,n,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.video=n,this.options=a,this.events=i,this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var t=this.video.textTracks[0];t.oncuechange=function(){var n=t.activeCues[0];if(e.container.innerHTML="",n){var a=document.createElement("div");a.appendChild(n.getCueAsHTML());var i=a.innerHTML.split(/\r?\n/).map(function(e){return"<p>".concat(e,"</p>")}).join("");e.container.innerHTML=i}e.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&ve(t.prototype,n),e}();function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var we=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.elements.volume=t.volumeBar,this.elements.played=t.playedBar,this.elements.loaded=t.loadedBar,this.elements.danmaku=t.danmakuOpacityBar}var t,n;return t=e,(n=[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}])&&be(t.prototype,n),e}();function xe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading","info","fps"],this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this;this.types.map(function(t){return"fps"!==t&&e["init".concat(t,"Checker")](),t})}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,a=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.video.currentTime,a||n!==t||e.player.video.paused||(e.player.container.classList.add("dplayer-loading"),a=!0),a&&n>t&&!e.player.video.paused&&(e.player.container.classList.remove("dplayer-loading"),a=!1),t=n)},100)}},{key:"initfpsChecker",value:function(){var e=this;window.requestAnimationFrame(function(){if(e.enablefpsChecker)if(e.initfpsChecker(),e.fpsStart){e.fpsIndex++;var t=new Date;t-e.fpsStart>1e3&&(e.player.infoPanel.fps(e.fpsIndex/(t-e.fpsStart)*1e3),e.fpsStart=new Date,e.fpsIndex=0)}else e.fpsStart=new Date,e.fpsIndex=0;else e.fpsStart=0,e.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var e=this;this.infoChecker=setInterval(function(){e.enableinfoChecker&&e.player.infoPanel.update()},1e3)}},{key:"enable",value:function(e){this["enable".concat(e,"Checker")]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable".concat(e,"Checker")]=!1}},{key:"destroy",value:function(){var e=this;this.types.map(function(t){return e["enable".concat(t,"Checker")]=!1,e["".concat(t,"Checker")]&&clearInterval(e["".concat(t,"Checker")]),t})}}])&&xe(t.prototype,n),e}();function Se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var _e=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("dplayer-bezel-transition")})}var t,n;return t=e,(n=[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("dplayer-bezel-transition")}}])&&Se(t.prototype,n),e}();function Te(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.barWidth=t.barWidth,this.container.style.backgroundImage="url('".concat(t.url,"')"),this.events=t.events}var t,n;return t=e,(n=[{key:"resize",value:function(e,t,n){this.container.style.width="".concat(e,"px"),this.container.style.height="".concat(t,"px"),this.container.style.top="".concat(2-t,"px"),this.barWidth=n}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(e){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(e/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(e-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&Te(t.prototype,n),e}();function Ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var De=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.autoHideTimer=0,r.isMobile||(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.on("play",function(){n.setAutoHide()}),this.player.on("pause",function(){n.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),r.isSafari&&this.initAirplayButton(),r.isMobile||this.initVolumeButton()}var t,n;return t=e,(n=[{key:"initPlayButton",value:function(){var e=this;this.player.template.playButton.addEventListener("click",function(){e.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){e.player.toggle()}),r.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){e.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){e.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){e.player.toggle()}))}},{key:"initHighlights",value:function(){var e=this;this.player.on("durationchange",function(){if(1!==e.player.video.duration&&e.player.video.duration!==1/0&&e.player.options.highlight){var t=document.querySelectorAll(".dplayer-highlight");[].slice.call(t,0).forEach(function(t){e.player.template.playedBarWrap.removeChild(t)});for(var n=0;n<e.player.options.highlight.length;n++)if(e.player.options.highlight[n].text&&e.player.options.highlight[n].time){var a=document.createElement("div");a.classList.add("dplayer-highlight"),a.style.left=e.player.options.highlight[n].time/e.player.video.duration*100+"%",a.innerHTML='<span class="dplayer-highlight-text">'+e.player.options.highlight[n].text+"</span>",e.player.template.playedBarWrap.insertBefore(a,e.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var e=this;this.player.options.video.thumbnails&&(this.thumbnails=new Ee({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){e.thumbnails.resize(160,e.player.video.videoHeight/e.player.video.videoWidth*160,e.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.template.ptime.innerHTML=r.secondToTime(n*e.player.video.duration)},n=function n(a){document.removeEventListener(r.nameMap.dragEnd,n),document.removeEventListener(r.nameMap.dragMove,t);var i=((a.clientX||a.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(e.player.template.playedBarWrap))/e.player.template.playedBarWrap.clientWidth;i=Math.max(i,0),i=Math.min(i,1),e.player.bar.set("played",i,"width"),e.player.seek(e.player.bar.get("played")*e.player.video.duration),e.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(r.nameMap.dragStart,function(){e.player.timer.disable("progress"),document.addEventListener(r.nameMap.dragMove,t),document.addEventListener(r.nameMap.dragEnd,n)}),this.player.template.playedBarWrap.addEventListener(r.nameMap.dragMove,function(t){if(e.player.video.duration){var n=e.player.template.playedBarWrap.getBoundingClientRect().left,a=(t.clientX||t.changedTouches[0].clientX)-n;if(a<0||a>e.player.template.playedBarWrap.offsetWidth)return;var i=e.player.video.duration*(a/e.player.template.playedBarWrap.offsetWidth);r.isMobile&&e.thumbnails&&e.thumbnails.show(),e.thumbnails&&e.thumbnails.move(a),e.player.template.playedBarTime.style.left="".concat(a-(i>=3600?25:20),"px"),e.player.template.playedBarTime.innerText=r.secondToTime(i),e.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(r.nameMap.dragEnd,function(){r.isMobile&&e.thumbnails&&e.thumbnails.hide()}),r.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.show(),e.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){e.player.video.duration&&(e.thumbnails&&e.thumbnails.hide(),e.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var e=this;this.player.template.browserFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){e.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var e=this,t=function(t){var n=t||window.event,a=((n.clientX||n.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(a)},n=function n(){document.removeEventListener(r.nameMap.dragEnd,n),document.removeEventListener(r.nameMap.dragMove,t),e.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(t){var n=t||window.event,a=((n.clientX||n.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(e.player.template.volumeBarWrap)-5.5)/35;e.player.volume(a)}),this.player.template.volumeBarWrapWrap.addEventListener(r.nameMap.dragStart,function(){document.addEventListener(r.nameMap.dragMove,t),document.addEventListener(r.nameMap.dragEnd,n),e.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,e.player.template.volumeIcon.innerHTML=ae.volumeOff,e.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var e=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(t){t.target.classList.contains("dplayer-quality-item")&&e.player.switchQuality(t.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var e=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var t,n=document.createElement("canvas");n.width=e.player.video.videoWidth,n.height=e.player.video.videoHeight,n.getContext("2d").drawImage(e.player.video,0,0,n.width,n.height),n.toBlob(function(e){t=URL.createObjectURL(e);var n=document.createElement("a");n.href=t,n.download="DPlayer.png",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}),e.player.events.trigger("screenshot",t)})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(e){switch(e.availability){case"available":this.template.airplayButton.disable=!1;break;default:this.template.airplayButton.disable=!0}this.template.airplayButton.addEventListener("click",function(){this.video.webkitShowPlaybackTargetPicker()}.bind(this))}.bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initSubtitleButton",value:function(){var e=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Hide subtitle"),e.player.template.subtitleButtonInner.style.opacity="",e.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){e.player.template.subtitleButton.dataset.balloon=e.player.tran("Show subtitle"),e.player.template.subtitleButtonInner.style.opacity="0.4",e.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){e.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!e.player.video.played.length||e.player.paused||e.disableAutoHide||e.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&Ce(t.prototype,n),e}();function Me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Pe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.settingButton.addEventListener("click",function(){n.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()}),this.player.template.speed.addEventListener("click",function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var a=function(e){n.player.template.speedItem[e].addEventListener("click",function(){n.player.speed(n.player.template.speedItem[e].dataset.speed),n.hide()})},i=0;i<this.player.template.speedItem.length;i++)a(i);if(this.player.danmaku){this.player.on("danmaku_opacity",function(e){n.player.bar.set("danmaku",e,"width"),n.player.user.set("opacity",e)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(e){var t=e||window.event,a=((t.clientX||t.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;a=Math.max(a,0),a=Math.min(a,1),n.player.danmaku.opacity(a)},s=function e(){document.removeEventListener(r.nameMap.dragEnd,e),document.removeEventListener(r.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(e){var t=e||window.event,a=((t.clientX||t.changedTouches[0].clientX)-r.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;a=Math.max(a,0),a=Math.min(a,1),n.player.danmaku.opacity(a)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(r.nameMap.dragStart,function(){document.addEventListener(r.nameMap.dragMove,o),document.addEventListener(r.nameMap.dragEnd,s),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var t,n;return t=e,(n=[{key:"hide",value:function(){var e=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){e.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),e.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&Me(t.prototype,n),e}();function Ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Le=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()}),this.player.template.commentButton.addEventListener("click",function(){n.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){n.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var e=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=e,n.player.template.commentInput.style.color=e,n.player.template.commentSendFill.style.fill=e}}),this.player.template.commentInput.addEventListener("click",function(){n.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(e){13===(e||window.event).keyCode&&n.send()}),this.player.template.commentSendButton.addEventListener("click",function(){n.send()})}var t,n;return t=e,(n=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var e=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:r.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){e.player.template.commentInput.value="",e.hide()}):this.player.notice(this.player.tran("Please input danmaku content!"))}}])&&Ae(t.prototype,n),e}(),Fe=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),a=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==a&&"true"!==a){var i,o=e||window.event;switch(o.keyCode){case 32:o.preventDefault(),t.toggle();break;case 37:if(o.preventDefault(),t.options.live)break;t.seek(t.video.currentTime-5),t.controller.setAutoHide();break;case 39:if(o.preventDefault(),t.options.live)break;t.seek(t.video.currentTime+5),t.controller.setAutoHide();break;case 38:o.preventDefault(),i=t.volume()+.1,t.volume(i);break;case 40:o.preventDefault(),i=t.volume()-.1,t.volume(i)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};function Re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Be=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(e,t){n.player.options.contextmenu[t].click&&e.addEventListener("click",function(){n.player.options.contextmenu[t].click(n.player),n.hide()})}),this.player.container.addEventListener("contextmenu",function(e){if(n.shown)n.hide();else{var t=e||window.event;t.preventDefault();var a=n.player.container.getBoundingClientRect();n.show(t.clientX-a.left,t.clientY-a.top),n.player.template.mask.addEventListener("click",function(){n.hide()})}})}var t,n;return t=e,(n=[{key:"show",value:function(e,t){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&Re(t.prototype,n),e}();function Ie(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Oe=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.template.infoPanel,this.template=t.template,this.video=t.video,this.player=t,this.template.infoPanelClose.addEventListener("click",function(){n.hide()})}var t,n;return t=e,(n=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.26.0"," ").concat("63275c8"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(e){this.template.infoFPS.innerHTML="".concat(e.toFixed(1))}}])&&Ie(t.prototype,n),e}(),qe=n(1),ze=n.n(qe);function He(e,t){var n=x()(e);if(h.a){var a=h()(e);t&&(a=a.filter(function(t){return u()(e,t).enumerable})),n.push.apply(n,a)}return n}function Ne(e,t,n){return t in e?B()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),B()(e,a.key,a)}}var Ue=0,je=[],We=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){Ne(e,t,n[t])}):c.a?s()(e,c()(n)):He(Object(n)).forEach(function(t){B()(e,t,u()(n,t))})}return e}({preload:"webtorrent"===t.video.type?"none":"metadata"},t)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new v(this.options.lang).tran,this.events=new pe,this.user=new ye(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),r.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new se({container:this.container,options:this.options,index:Ue,tran:this.tran}),this.video=this.template.video,this.bar=new we(this.template),this.bezel=new _e(this.template.bezel),this.fullScreen=new fe(this),this.controller=new De(this),this.options.danmaku&&(this.danmaku=new de({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){n.template.danmakuLoading.style.display="none",n.options.autoplay&&n.play()},0)},error:function(e){n.notice(e)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(e){return n.tran(e)}}),this.comment=new Le(this)),this.setting=new Pe(this),this.plugins={},document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.timer=new ke(this),this.hotkey=new Fe(this),this.contextmenu=new Be(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new Oe(this),!this.danmaku&&this.options.autoplay&&this.play(),Ue++,je.push(this)}var t,n,i;return t=e,i=[{key:"version",get:function(){return"1.26.0"}}],(n=[{key:"seek",value:function(e){e=Math.max(e,0),this.video.duration&&(e=Math.min(e,this.video.duration)),this.video.currentTime<e?this.notice("".concat(this.tran("FF")," ").concat((e-this.video.currentTime).toFixed(0)," ").concat(this.tran("s"))):this.video.currentTime>e&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-e).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=e,this.danmaku&&this.danmaku.seek(),this.bar.set("played",e/this.video.duration,"width"),this.template.ptime.innerHTML=r.secondToTime(e)}},{key:"play",value:function(e){var t=this;if(this.paused=!1,this.video.paused&&!r.isMobile&&this.bezel.switch(ae.play),this.template.playButton.innerHTML=ae.pause,this.template.mobilePlayButton.innerHTML=ae.pause,e||a.a.resolve(this.video.play()).catch(function(){t.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var n=0;n<je.length;n++)this!==je[n]&&je[n].pause()}},{key:"pause",value:function(e){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||r.isMobile||this.bezel.switch(ae.pause),this.template.playButton.innerHTML=ae.play,this.template.mobilePlayButton.innerHTML=ae.play,e||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=ae.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=ae.volumeDown:this.template.volumeIcon.innerHTML=ae.volumeOff}},{key:"volume",value:function(e,t,n){if(e=parseFloat(e),!isNaN(e)){e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width");var a="".concat((100*e).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=a,t||this.user.set("volume",e),n||this.notice("".concat(this.tran("Volume")," ").concat((100*e).toFixed(0),"%")),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"switchVideo",value:function(e,t){this.pause(),this.video.poster=e.pic?e.pic:"",this.video.src=e.url,this.initMSE(this.video,e.type||"auto"),t&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:t.id,address:t.api,token:t.token,maximum:t.maximum,addition:t.addition,user:t.user}))}},{key:"initMSE",value:function(e,t){var n=this;if(this.type=t,this.options.video.customType&&this.options.video.customType[t])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[t])?this.options.video.customType[t](this.video,this):console.error("Illegal customType: ".concat(t));else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(e.src)?this.type="hls":/.flv(#|\?|$)/i.exec(e.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(e.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var a=this.options.pluginOptions.hls,i=new window.Hls(a);this.plugins.hls=i,i.loadSource(e.src),i.attachMedia(e),this.events.on("destroy",function(){i.destroy(),delete n.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var r=window.flvjs.createPlayer(o()(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:e.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=r,r.attachMediaElement(e),r.load(),this.events.on("destroy",function(){r.unload(),r.detachMediaElement(),r.destroy(),delete n.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var s=window.dashjs.MediaPlayer().create().initialize(e,e.src,!1),l=this.options.pluginOptions.dash;s.updateSettings(l),this.plugins.dash=s,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete n.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var c=this.options.pluginOptions.webtorrent,d=new window.WebTorrent(c);this.plugins.webtorrent=d;var u=e.src;e.src="",e.preload="metadata",e.addEventListener("durationchange",function(){return n.container.classList.remove("dplayer-loading")},{once:!0}),d.add(u,function(e){e.files.find(function(e){return e.name.endsWith(".mp4")}).renderTo(n.video,{autoplay:n.options.autoplay,controls:!1})}),this.events.on("destroy",function(){d.remove(u),d.destroy(),delete n.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(e,t){var n=this;this.initMSE(e,t),this.on("durationchange",function(){1!==e.duration&&e.duration!==1/0&&(n.template.dtime.innerHTML=r.secondToTime(e.duration))}),this.on("progress",function(){var t=e.buffered.length?e.buffered.end(e.buffered.length-1)/e.duration:0;n.bar.set("loaded",t,"width")}),this.on("error",function(){n.video.error&&n.tran&&n.notice&&"webtorrent"!==n.type&&n.notice(n.tran("Video load failed"),-1)}),this.on("ended",function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),n.play()):n.pause(),n.danmaku&&(n.danmaku.danIndex=0)}),this.on("play",function(){n.paused&&n.play(!0)}),this.on("pause",function(){n.paused||n.pause(!0)}),this.on("timeupdate",function(){n.bar.set("played",n.video.currentTime/n.video.duration,"width");var e=r.secondToTime(n.video.currentTime);n.template.ptime.innerHTML!==e&&(n.template.ptime.innerHTML=e)});for(var a=function(t){e.addEventListener(n.events.videoEvents[t],function(){n.events.trigger(n.events.videoEvents[t])})},i=0;i<this.events.videoEvents.length;i++)a(i);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new ge(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(e){var t=this;if(e="string"==typeof e?parseInt(e):e,this.qualityIndex!==e&&!this.switchingQuality){this.qualityIndex=e,this.switchingQuality=!0,this.quality=this.options.video.quality[e],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var a=ze()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),i=(new DOMParser).parseFromString(a,"text/html").body.firstChild;this.template.videoWrap.insertBefore(i,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=i,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(t.prevVideo){if(t.video.currentTime!==t.prevVideo.currentTime)return void t.seek(t.prevVideo.currentTime);t.template.videoWrap.removeChild(t.prevVideo),t.video.classList.add("dplayer-video-current"),n||t.video.play(),t.prevVideo=null,t.notice("".concat(t.tran("Switched to")," ").concat(t.quality.name," ").concat(t.tran("quality"))),t.switchingQuality=!1,t.events.trigger("quality_end")}})}}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=a,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),n>0&&(this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(e){this.video.playbackRate=e}},{key:"destroy",value:function(){je.splice(je.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&$e(t.prototype,n),i&&$e(t,i),e}();t.default=We}]).default},"object"==("undefined"==typeof exports?"undefined":O()(exports))&&"object"==O()(e)?e.exports=a():"function"==typeof define&&n("nErl")?define("DPlayer",[],a):"object"==("undefined"==typeof exports?"undefined":O()(exports))?exports.DPlayer=a():t.DPlayer=a()}).call(t,n("f1Eh")(e))},"5H02":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n("mvHQ"),i=n.n(a),o=n("//Fk"),r=n.n(o),s=n("fZjL"),l=n.n(s),c=n("mF0L"),d=n("zIZW"),u=(n.n(d),n("mP1F")),p=n.n(u),h={_Const:{ack:"access_object",host:"access_host",hosturi:localStorage.getItem("access_host")},setAPIHost:function(e){e&&e.length>0?(localStorage.setItem(this._Const.host,e),this._Const.hosturi=e):localStorage.removeItem(this._Const.host)},getAPIHost:function(){return this._Const.hosturi?this._Const.hosturi:""},buildAPIURL:function(e,t){var n=this._Const.hosturi?this._Const.hosturi+e:window.location.origin+e;if(t){for(var a=[],i=l()(t),o=0;o<i.length;o++)void 0!==t[i[o]]&&a.push(i[o]+"="+encodeURIComponent(t[i[o]]));n=n+"?"+a.join("&")}return n},getSignAPIURL:function(e,t){t||(t={});var n=this.getSession();if(n&&n.secretKey&&n.accessKey){var a={};for(var i in t)void 0!=t[i]&&null!=t[i]&&0!=t[i].length&&(a[i]=t[i]);var o=[],r=[],s=l()(a);if(s.length>0){s=s.sort();for(var c=0;c<s.length;c++){var d=a[s[c]];o.push(s[c]+"="+d),r.push(s[c]+"="+encodeURIComponent(d))}}return o.length>0?e+"?"+r.join("&")+"&x-Ack="+n.accessKey+"&X-Sign="+p()(o.join("&")+n.secretKey):e+"?x-Ack="+n.accessKey+"&X-Sign="+p()(n.secretKey)}this.apiResponseStautsHandler({code:401})},apiRequest:function(e){var t=this.getSession();if(e.session=t,t&&t.secretKey&&t.accessKey){this._Const.hosturi&&this._Const.hosturi.length>0&&(e.uri.startWith("http://")||e.uri.startWith("https://")||(e.uri=this._Const.hosturi+e.uri));var n=c.a.AjaxRequest(e),a=n.payload.payload;return a&&a.length>0?a+=e.session.secretKey:a=e.session.secretKey,n.setHeader("X-Ack",t.accessKey),n.setHeader("X-Sign",p()(a)),n}this.apiResponseStautsHandler({code:401})},apiResponseFormat:function(e){var t={code:0,data:""},n={};if(void 0!=e.responseText)if(c.a.isString(e.responseText))try{n=JSON.parse(e.responseText)}catch(t){n=e.responseText}else n=e.responseText;return void 0==n.code&&void 0==n.data?(t.code=e.status,t.data=n):(t.code=void 0==n.code?e.status:n.code,t.data=void 0==n.data?"":n.data),this.apiResponseStautsHandler(t),t},apiResponseStautsHandler:function(e){e&&(401==e.code?(e.data=",",(top.location||window.location).href="/"):403==e.code&&(e.data=","))},apiGet:function(e,t){var n=this;return new r.a(function(a,i){n.apiRequest({uri:e,datas:t}).do(function(e,t){if(4===e.readyState){var o=n.apiResponseFormat(e);200===o.code?a(o.data):i(o.data)}})})},apiPost:function(e,t){var n=this;return new r.a(function(a,i){n.apiRequest({uri:e,method:"POST",datas:t}).do(function(e,t){if(4===e.readyState){var o=n.apiResponseFormat(e);200===o.code?a(o.data):i(o.data)}})})},apiPostSync:function(e,t){var n=this;return this.apiRequest({uri:e,method:"POST",datas:t,async:!1}).do(function(e,t){if(4===e.readyState){var a=n.apiResponseFormat(e);if(200===a.code)return a.data;throw a.data}})},apiDelete:function(e,t){var n=this;return new r.a(function(a,i){n.apiRequest({uri:e,method:"DELETE",datas:t}).do(function(e,t){if(4===e.readyState){var o=n.apiResponseFormat(e);200===o.code?a(o.data):i(o.data)}})})},apiDeleteSync:function(e,t){var n=this;return this.apiRequest({uri:e,method:"DELETE",datas:t,async:!1}).do(function(e,t){if(4===e.readyState){var a=n.apiResponseFormat(e);if(200===a.code)return a.data;throw a.data}})},saveSession:function(e){localStorage.setItem(this._Const.ack,""),e&&e.accessKey&&(localStorage.setItem(this._Const.ack,i()(e)),c.a.setCookie("X-Ack",e.accessKey))},getSession:function(){try{return JSON.parse(localStorage.getItem(this._Const.ack))}catch(e){return{}}},destroySession:function(){localStorage.setItem(this._Const.ack,""),c.a.setCookie("X-Ack","")}}},"7M5M":function(e,t){},"7QVd":function(e,t){},"9Ctb":function(e,t){},"9a7g":function(e,t){},CjfL:function(e,t){},DNQM:function(e,t,n){"use strict";(function(e){var t,a,i=n("FUy+"),o=n.n(i),r=n("YQ7m"),s=n.n(r),l=n("Zx67"),c=n.n(l),d=n("OvRC"),u=n.n(d),p=n("mvHQ"),h=n.n(p),f=n("Zzip"),m=n.n(f),y=n("5QVw"),v=n.n(y),g=n("c/Tr"),b=n.n(g),w=n("C4MV"),x=n.n(w),k=n("pFYg"),S=n.n(k);t=window,a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||x()(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=41)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=/mobile/i.test(window.navigator.userAgent),i={secondToTime:function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return(t>0?[t,n,a]:[n,a]).map(function(e){return e<10?"0"+e:""+e}).join(":")},getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,a=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-a},getElementViewTop:function(e,t){for(var n,a=e.offsetTop,i=e.offsetParent;null!==i;)a+=i.offsetTop,i=i.offsetParent;return n=document.body.scrollTop+document.documentElement.scrollTop,t?a:a-n},isMobile:a,storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},nameMap:{dragStart:a?"touchstart":"mousedown",dragMove:a?"touchmove":"mousemove",dragEnd:a?"touchend":"mouseup"},randomOrder:function(e){return function(e){for(var t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[n];e[n]=e[t],e[t]=a}return e}([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return b()(e)}(Array(e))).map(function(e,t){return t}))}};t.default=i},function(e,t,n){var a=n(2);e.exports=function(e){e=e||{};var t="",n=a.$each,i=e.audio,o=(e.$value,e.$index,a.$escape),r=e.theme,s=e.index;return n(i,function(e,n){t+='\n<li>\n    <span class="aplayer-list-cur" style="background-color: ',t+=o(e.theme||r),t+=';"></span>\n    <span class="aplayer-list-index">',t+=o(n+s),t+='</span>\n    <span class="aplayer-list-title">',t+=o(e.name),t+='</span>\n    <span class="aplayer-list-author">',t+=o(e.artist),t+="</span>\n</li>\n"}),t}},function(e,t,n){e.exports=n(15)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=g(n(33)),i=g(n(32)),o=g(n(31)),r=g(n(30)),s=g(n(29)),l=g(n(28)),c=g(n(27)),d=g(n(26)),u=g(n(25)),p=g(n(24)),h=g(n(23)),f=g(n(22)),m=g(n(21)),y=g(n(20)),v=g(n(19));function g(e){return e&&e.__esModule?e:{default:e}}var b={play:a.default,pause:i.default,volumeUp:o.default,volumeDown:r.default,volumeOff:s.default,orderRandom:l.default,orderList:c.default,menu:d.default,loopAll:u.default,loopOne:p.default,loopNone:h.default,loading:f.default,right:m.default,skip:y.default,lrc:v.default};t.default=b},function(e,t,n){var a,i="function"==typeof v.a&&"symbol"==S()(m.a)?function(e){return void 0===e?"undefined":S()(e)}:function(e){return e&&"function"==typeof v.a&&e.constructor===v.a&&e!==v.a.prototype?"symbol":void 0===e?"undefined":S()(e)};a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(a=window)}e.exports=a},function(e,t,n){var a,i,o="function"==typeof v.a&&"symbol"==S()(m.a)?function(e){return void 0===e?"undefined":S()(e)}:function(e){return e&&"function"==typeof v.a&&e.constructor===v.a&&e!==v.a.prototype?"symbol":void 0===e?"undefined":S()(e)};void 0===(i="function"==typeof(a=function(){if("object"===("undefined"==typeof window?"undefined":o(window))&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var e=function(e,t,n,a){return n>a?t:e+(t-e)*((i=n/a)<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1);var i},t=function(t,n,a,i){n=n||500;var o=(i=i||window).scrollTop||window.pageYOffset;if("number"==typeof t)var r=parseInt(t);else r=function(e,t){return"HTML"===e.nodeName?-t:e.getBoundingClientRect().top+t}(t,o);var s=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)};!function c(){var d=Date.now()-s;i!==window?i.scrollTop=e(o,r,d,n):window.scroll(0,e(o,r,d,n)),d>n?"function"==typeof a&&a(t):l(c)}()},n=function(e){if(!e.defaultPrevented){e.preventDefault(),location.hash!==this.hash&&window.history.pushState(null,null,this.hash);var n=document.getElementById(this.hash.substring(1));if(!n)return;t(n,500,function(e){location.replace("#"+e.id)})}};return document.addEventListener("DOMContentLoaded",function(){for(var e,t=document.querySelectorAll('a[href^="#"]:not([href="#"])'),a=t.length;e=t[--a];)e.addEventListener("click",n,!1)}),t}})?a.call(t,n,t,e):a)||(e.exports=i)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=s(n(1)),o=s(n(0)),r=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.index=0,this.audios=this.player.options.audio,this.bindEvents()}return a(e,[{key:"bindEvents",value:function(){var e=this;this.player.template.list.addEventListener("click",function(t){var n=void 0;n="LI"===t.target.tagName.toUpperCase()?t.target:t.target.parentElement;var a=parseInt(n.getElementsByClassName("aplayer-list-index")[0].innerHTML)-1;a!==e.index?(e.switch(a),e.player.play()):e.player.toggle()})}},{key:"show",value:function(){this.player.events.trigger("listshow"),this.player.template.list.classList.remove("aplayer-list-hide"),this.player.template.listOl.scrollTop=33*this.index}},{key:"hide",value:function(){this.player.events.trigger("listhide"),this.player.template.list.classList.add("aplayer-list-hide")}},{key:"toggle",value:function(){this.player.template.list.classList.contains("aplayer-list-hide")?this.show():this.hide()}},{key:"add",value:function(e){this.player.events.trigger("listadd",{audios:e}),"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.map(function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e});var t=!(this.audios.length>1),n=0===this.audios.length;this.player.template.listOl.innerHTML+=(0,i.default)({theme:this.player.options.theme,audio:e,index:this.audios.length+1}),this.audios=this.audios.concat(e),t&&this.audios.length>1&&this.player.container.classList.add("aplayer-withlist"),this.player.randomOrder=o.default.randomOrder(this.audios.length),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur"),this.player.template.listCurs[this.audios.length-1].style.backgroundColor=e.theme||this.player.options.theme,n&&("random"===this.player.options.order?this.switch(this.player.randomOrder[0]):this.switch(0))}},{key:"remove",value:function(e){if(this.player.events.trigger("listremove",{index:e}),this.audios[e])if(this.audios.length>1){var t=this.player.container.querySelectorAll(".aplayer-list li");t[e].remove(),this.audios.splice(e,1),this.player.lrc&&this.player.lrc.remove(e),e===this.index&&(this.audios[e]?this.switch(e):this.switch(e-1)),this.index>e&&this.index--;for(var n=e;n<t.length;n++)t[n].getElementsByClassName("aplayer-list-index")[0].textContent=n;1===this.audios.length&&this.player.container.classList.remove("aplayer-withlist"),this.player.template.listCurs=this.player.container.querySelectorAll(".aplayer-list-cur")}else this.clear()}},{key:"switch",value:function(e){if(this.player.events.trigger("listswitch",{index:e}),void 0!==e&&this.audios[e]){this.index=e;var t=this.audios[this.index];this.player.template.pic.style.backgroundImage=t.cover?"url('"+t.cover+"')":"",this.player.theme(this.audios[this.index].theme||this.player.options.theme,this.index,!1),this.player.template.title.innerHTML=t.name,this.player.template.author.innerHTML=t.artist?" - "+t.artist:"";var n=this.player.container.getElementsByClassName("aplayer-list-light")[0];n&&n.classList.remove("aplayer-list-light"),this.player.container.querySelectorAll(".aplayer-list li")[this.index].classList.add("aplayer-list-light"),(0,r.default)(33*this.index,500,null,this.player.template.listOl),this.player.setAudio(t),this.player.lrc&&this.player.lrc.switch(this.index),this.player.lrc&&this.player.lrc.update(0),1!==this.player.duration&&(this.player.template.dtime.innerHTML=o.default.secondToTime(this.player.duration))}}},{key:"clear",value:function(){this.player.events.trigger("listclear"),this.index=0,this.player.container.classList.remove("aplayer-withlist"),this.player.pause(),this.audios=[],this.player.lrc&&this.player.lrc.clear(),this.player.audio.src="",this.player.template.listOl.innerHTML="",this.player.template.pic.style.backgroundImage="",this.player.theme(this.player.options.theme,this.index,!1),this.player.template.title.innerHTML="No audio",this.player.template.author.innerHTML="",this.player.bar.set("loaded",0,"width"),this.player.template.dtime.innerHTML=o.default.secondToTime(0)}}]),e}();t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.audioEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["destroy","listshow","listhide","listadd","listremove","listswitch","listclear","noticeshow","noticehide","lrcshow","lrchide"]}return a(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.audioEvents.indexOf(e)?"audio":(console.error("Unknown event name: "+e),null)}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this.types=["loading"],this.init()}return a(e,[{key:"init",value:function(){var e=this;this.types.forEach(function(t){e["init"+t+"Checker"]()})}},{key:"initloadingChecker",value:function(){var e=this,t=0,n=0,a=!1;this.loadingChecker=setInterval(function(){e.enableloadingChecker&&(n=e.player.audio.currentTime,a||n!==t||e.player.audio.paused||(e.player.container.classList.add("aplayer-loading"),a=!0),a&&n>t&&!e.player.audio.paused&&(e.player.container.classList.remove("aplayer-loading"),a=!1),t=n)},100)}},{key:"enable",value:function(e){this["enable"+e+"Checker"]=!0,"fps"===e&&this.initfpsChecker()}},{key:"disable",value:function(e){this["enable"+e+"Checker"]=!1}},{key:"destroy",value:function(){var e=this;this.types.forEach(function(t){e["enable"+t+"Checker"]=!1,e[t+"Checker"]&&clearInterval(e[t+"Checker"])})}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=r(n(0)),o=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.initPlayButton(),this.initPlayBar(),this.initOrderButton(),this.initLoopButton(),this.initMenuButton(),i.default.isMobile||this.initVolumeButton(),this.initMiniSwitcher(),this.initSkipButton(),this.initLrcButton()}return a(e,[{key:"initPlayButton",value:function(){var e=this;this.player.template.pic.addEventListener("click",function(){e.player.toggle()})}},{key:"initPlayBar",value:function(){var e=this,t=function(t){var n=((t.clientX||t.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),e.player.bar.set("played",n,"width"),e.player.lrc&&e.player.lrc.update(n*e.player.duration),e.player.template.ptime.innerHTML=i.default.secondToTime(n*e.player.duration)},n=function n(a){document.removeEventListener(i.default.nameMap.dragEnd,n),document.removeEventListener(i.default.nameMap.dragMove,t);var o=((a.clientX||a.changedTouches[0].clientX)-i.default.getElementViewLeft(e.player.template.barWrap))/e.player.template.barWrap.clientWidth;o=Math.max(o,0),o=Math.min(o,1),e.player.bar.set("played",o,"width"),e.player.seek(e.player.bar.get("played","width")*e.player.duration),e.player.disableTimeupdate=!1};this.player.template.barWrap.addEventListener(i.default.nameMap.dragStart,function(){e.player.disableTimeupdate=!0,document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,n)})}},{key:"initVolumeButton",value:function(){var e=this;this.player.template.volumeButton.addEventListener("click",function(){e.player.audio.muted?(e.player.audio.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"height")):(e.player.audio.muted=!0,e.player.switchVolumeIcon(),e.player.bar.set("volume",0,"height"))});var t=function(t){var n=1-((t.clientY||t.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;n=Math.max(n,0),n=Math.min(n,1),e.player.volume(n)},n=function n(a){e.player.template.volumeBarWrap.classList.remove("aplayer-volume-bar-wrap-active"),document.removeEventListener(i.default.nameMap.dragEnd,n),document.removeEventListener(i.default.nameMap.dragMove,t);var o=1-((a.clientY||a.changedTouches[0].clientY)-i.default.getElementViewTop(e.player.template.volumeBar,e.player.options.fixed))/e.player.template.volumeBar.clientHeight;o=Math.max(o,0),o=Math.min(o,1),e.player.volume(o)};this.player.template.volumeBarWrap.addEventListener(i.default.nameMap.dragStart,function(){e.player.template.volumeBarWrap.classList.add("aplayer-volume-bar-wrap-active"),document.addEventListener(i.default.nameMap.dragMove,t),document.addEventListener(i.default.nameMap.dragEnd,n)})}},{key:"initOrderButton",value:function(){var e=this;this.player.template.order.addEventListener("click",function(){"list"===e.player.options.order?(e.player.options.order="random",e.player.template.order.innerHTML=o.default.orderRandom):"random"===e.player.options.order&&(e.player.options.order="list",e.player.template.order.innerHTML=o.default.orderList)})}},{key:"initLoopButton",value:function(){var e=this;this.player.template.loop.addEventListener("click",function(){e.player.list.audios.length>1?"one"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=o.default.loopNone):"none"===e.player.options.loop?(e.player.options.loop="all",e.player.template.loop.innerHTML=o.default.loopAll):"all"===e.player.options.loop&&(e.player.options.loop="one",e.player.template.loop.innerHTML=o.default.loopOne):"one"===e.player.options.loop||"all"===e.player.options.loop?(e.player.options.loop="none",e.player.template.loop.innerHTML=o.default.loopNone):"none"===e.player.options.loop&&(e.player.options.loop="all",e.player.template.loop.innerHTML=o.default.loopAll)})}},{key:"initMenuButton",value:function(){var e=this;this.player.template.menu.addEventListener("click",function(){e.player.list.toggle()})}},{key:"initMiniSwitcher",value:function(){var e=this;this.player.template.miniSwitcher.addEventListener("click",function(){e.player.setMode("mini"===e.player.mode?"normal":"mini")})}},{key:"initSkipButton",value:function(){var e=this;this.player.template.skipBackButton.addEventListener("click",function(){e.player.skipBack()}),this.player.template.skipForwardButton.addEventListener("click",function(){e.player.skipForward()}),this.player.template.skipPlayButton.addEventListener("click",function(){e.player.toggle()})}},{key:"initLrcButton",value:function(){var e=this;this.player.template.lrcButton.addEventListener("click",function(){e.player.template.lrcButton.classList.contains("aplayer-icon-lrc-inactivity")?(e.player.template.lrcButton.classList.remove("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.show()):(e.player.template.lrcButton.classList.add("aplayer-icon-lrc-inactivity"),e.player.lrc&&e.player.lrc.hide())})}}]),e}();t.default=s},function(e,t,n){var a=n(2);e.exports=function(e){e=e||{};var t="",n=a.$each,i=e.lyrics,o=(e.$value,e.$index,a.$escape);return n(i,function(e,n){t+="\n    <p",0===n&&(t+=' class="aplayer-lrc-current"'),t+=">",t+=o(e[1]),t+="</p>\n"}),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(a=n(10))&&a.__esModule?a:{default:a},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.async=t.async,this.player=t.player,this.parsed=[],this.index=0,this.current=[]}return i(e,[{key:"show",value:function(){this.player.events.trigger("lrcshow"),this.player.template.lrcWrap.classList.remove("aplayer-lrc-hide")}},{key:"hide",value:function(){this.player.events.trigger("lrchide"),this.player.template.lrcWrap.classList.add("aplayer-lrc-hide")}},{key:"toggle",value:function(){this.player.template.lrcWrap.classList.contains("aplayer-lrc-hide")?this.show():this.hide()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.player.audio.currentTime;if(this.index>this.current.length-1||e<this.current[this.index][0]||!this.current[this.index+1]||e>=this.current[this.index+1][0])for(var t=0;t<this.current.length;t++)e>=this.current[t][0]&&(!this.current[t+1]||e<this.current[t+1][0])&&(this.index=t,this.container.style.transform="translateY("+16*-this.index+"px)",this.container.style.webkitTransform="translateY("+16*-this.index+"px)",this.container.getElementsByClassName("aplayer-lrc-current")[0].classList.remove("aplayer-lrc-current"),this.container.getElementsByTagName("p")[t].classList.add("aplayer-lrc-current"))}},{key:"switch",value:function(e){var t=this;if(!this.parsed[e])if(this.async){this.parsed[e]=[["00:00","Loading"]];var n=new XMLHttpRequest;n.onreadystatechange=function(){e===t.player.list.index&&4===n.readyState&&(n.status>=200&&n.status<300||304===n.status?t.parsed[e]=t.parse(n.responseText):(t.player.notice("LRC file request fails: status "+n.status),t.parsed[e]=[["00:00","Not available"]]),t.container.innerHTML=(0,o.default)({lyrics:t.parsed[e]}),t.update(0),t.current=t.parsed[e])};var a=this.player.list.audios[e].lrc;n.open("get",a,!0),n.send(null)}else this.player.list.audios[e].lrc?this.parsed[e]=this.parse(this.player.list.audios[e].lrc):this.parsed[e]=[["00:00","Not available"]];this.container.innerHTML=(0,o.default)({lyrics:this.parsed[e]}),this.update(0),this.current=this.parsed[e]}},{key:"parse",value:function(e){if(e){for(var t=(e=e.replace(/([^\]^\n])\[/g,function(e,t){return t+"\n["})).split("\n"),n=[],a=t.length,i=0;i<a;i++){var o=t[i].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),r=t[i].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(o)for(var s=o.length,l=0;l<s;l++){var c=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(o[l]),d=60*c[1]+parseInt(c[2])+(c[4]?parseInt(c[4])/(2===(c[4]+"").length?100:1e3):0);n.push([d,r])}}return(n=n.filter(function(e){return e[1]})).sort(function(e,t){return e[0]-t[0]}),n}return[]}},{key:"remove",value:function(e){this.parsed.splice(e,1)}},{key:"clear",value:function(){this.parsed=[],this.container.innerHTML=""}}]),e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(a=n(0))&&a.__esModule?a:{default:a},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageName=t.options.storageName,this.data=JSON.parse(o.default.storage.get(this.storageName)),this.data||(this.data={}),this.data.volume=this.data.volume||t.options.volume}return i(e,[{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,o.default.storage.set(this.storageName,h()(this.data))}}]),e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={},this.elements.volume=t.volume,this.elements.played=t.played,this.elements.loaded=t.loaded}return a(e,[{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e,t){return parseFloat(this.elements[e].style[t])/100}}]),e}();t.default=i},function(e,t,n){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(this,n(4))},function(e,t,n){(function(t){var a=n(14),i=u()(a?t:window),o=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var a="",i=void 0,r=void 0,s=void 0;for(i=n.index,r=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}r!==i&&(a+=t.substring(r,i)),r=i+1,a+=s}return r!==i?a+t.substring(r,i):a}(function e(t){return"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?e(t.call(t)):h()(t)),t}(e))},i.$each=function(e,t){if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=i}).call(this,n(4))},function(e,t,n){var a=n(2);e.exports=function(e){var t="",i=(e=e||{}).options,o=e.cover,r=a.$escape,s=e.icons,l=(arguments[1],function(e){return t+=e}),c=e.getObject;return e.theme,e.audio,e.index,i.fixed?(t+='\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=r(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=r(i.listMaxHeight),t+='"'),t+=">\n        ",l(n(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+='\n    </ol>\n</div>\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(t+="background-image: url(&quot;",t+=r(o),t+="&quot;);"),t+="background-color: ",t+=r(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=s.play,t+='</div>\n    </div>\n    <div class="aplayer-info" style="display: none;">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=r(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=r(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=s.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=s.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=s.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=s.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=s.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=r(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=s.orderList:"random"===i.order&&(t+=s.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=s.loopOne:"all"===i.loop?t+=s.loopAll:"none"===i.loop&&(t+=s.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=s.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=s.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=s.right,t+='</button></div>\n</div>\n<div class="aplayer-lrc">\n    <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n</div>\n'):(t+='\n<div class="aplayer-body">\n    <div class="aplayer-pic" style="',o&&(t+="background-image: url(&quot;",t+=r(o),t+="&quot;);"),t+="background-color: ",t+=r(i.theme),t+=';">\n        <div class="aplayer-button aplayer-play">',t+=s.play,t+='</div>\n    </div>\n    <div class="aplayer-info">\n        <div class="aplayer-music">\n            <span class="aplayer-title">No audio</span>\n            <span class="aplayer-author"></span>\n        </div>\n        <div class="aplayer-lrc">\n            <div class="aplayer-lrc-contents" style="transform: translateY(0); -webkit-transform: translateY(0);"></div>\n        </div>\n        <div class="aplayer-controller">\n            <div class="aplayer-bar-wrap">\n                <div class="aplayer-bar">\n                    <div class="aplayer-loaded" style="width: 0"></div>\n                    <div class="aplayer-played" style="width: 0; background: ',t+=r(i.theme),t+=';">\n                        <span class="aplayer-thumb" style="background: ',t+=r(i.theme),t+=';">\n                            <span class="aplayer-loading-icon">',t+=s.loading,t+='</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class="aplayer-time">\n                <span class="aplayer-time-inner">\n                    <span class="aplayer-ptime">00:00</span> / <span class="aplayer-dtime">00:00</span>\n                </span>\n                <span class="aplayer-icon aplayer-icon-back">\n                    ',t+=s.skip,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-play">\n                    ',t+=s.play,t+='\n                </span>\n                <span class="aplayer-icon aplayer-icon-forward">\n                    ',t+=s.skip,t+='\n                </span>\n                <div class="aplayer-volume-wrap">\n                    <button type="button" class="aplayer-icon aplayer-icon-volume-down">\n                        ',t+=s.volumeDown,t+='\n                    </button>\n                    <div class="aplayer-volume-bar-wrap">\n                        <div class="aplayer-volume-bar">\n                            <div class="aplayer-volume" style="height: 80%; background: ',t+=r(i.theme),t+=';"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type="button" class="aplayer-icon aplayer-icon-order">\n                    ',"list"===i.order?t+=s.orderList:"random"===i.order&&(t+=s.orderRandom),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-loop">\n                    ',"one"===i.loop?t+=s.loopOne:"all"===i.loop?t+=s.loopAll:"none"===i.loop&&(t+=s.loopNone),t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-menu">\n                    ',t+=s.menu,t+='\n                </button>\n                <button type="button" class="aplayer-icon aplayer-icon-lrc">\n                    ',t+=s.lrc,t+='\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="aplayer-notice"></div>\n    <div class="aplayer-miniswitcher"><button class="aplayer-icon">',t+=s.right,t+='</button></div>\n</div>\n<div class="aplayer-list',i.listFolded&&(t+=" aplayer-list-hide"),t+='"',i.listMaxHeight&&(t+=' style="max-height: ',t+=r(i.listMaxHeight),t+='"'),t+=">\n    <ol",i.listMaxHeight&&(t+=' style="max-height: ',t+=r(i.listMaxHeight),t+='"'),t+=">\n        ",l(n(1)(c({theme:i.theme,audio:i.audio,index:1}))),t+="\n    </ol>\n</div>\n"),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=r(n(3)),o=r(n(16));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t.container,this.options=t.options,this.randomOrder=t.randomOrder,this.init()}return a(e,[{key:"init",value:function(){var e="";this.options.audio.length&&(e="random"===this.options.order?this.options.audio[this.randomOrder[0]].cover:this.options.audio[0].cover),this.container.innerHTML=(0,o.default)({options:this.options,icons:i.default,cover:e,getObject:function(e){return e}}),this.lrc=this.container.querySelector(".aplayer-lrc-contents"),this.lrcWrap=this.container.querySelector(".aplayer-lrc"),this.ptime=this.container.querySelector(".aplayer-ptime"),this.info=this.container.querySelector(".aplayer-info"),this.time=this.container.querySelector(".aplayer-time"),this.barWrap=this.container.querySelector(".aplayer-bar-wrap"),this.button=this.container.querySelector(".aplayer-button"),this.body=this.container.querySelector(".aplayer-body"),this.list=this.container.querySelector(".aplayer-list"),this.listOl=this.container.querySelector(".aplayer-list ol"),this.listCurs=this.container.querySelectorAll(".aplayer-list-cur"),this.played=this.container.querySelector(".aplayer-played"),this.loaded=this.container.querySelector(".aplayer-loaded"),this.thumb=this.container.querySelector(".aplayer-thumb"),this.volume=this.container.querySelector(".aplayer-volume"),this.volumeBar=this.container.querySelector(".aplayer-volume-bar"),this.volumeButton=this.container.querySelector(".aplayer-time button"),this.volumeBarWrap=this.container.querySelector(".aplayer-volume-bar-wrap"),this.loop=this.container.querySelector(".aplayer-icon-loop"),this.order=this.container.querySelector(".aplayer-icon-order"),this.menu=this.container.querySelector(".aplayer-icon-menu"),this.pic=this.container.querySelector(".aplayer-pic"),this.title=this.container.querySelector(".aplayer-title"),this.author=this.container.querySelector(".aplayer-author"),this.dtime=this.container.querySelector(".aplayer-dtime"),this.notice=this.container.querySelector(".aplayer-notice"),this.miniSwitcher=this.container.querySelector(".aplayer-miniswitcher"),this.skipBackButton=this.container.querySelector(".aplayer-icon-back"),this.skipForwardButton=this.container.querySelector(".aplayer-icon-forward"),this.skipPlayButton=this.container.querySelector(".aplayer-icon-play"),this.lrcButton=this.container.querySelector(".aplayer-icon-lrc")}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={container:e.element||document.getElementsByClassName("aplayer")[0],mini:e.narrow||e.fixed||!1,fixed:!1,autoplay:!1,mutex:!0,lrcType:e.showlrc||e.lrc||0,preload:"auto",theme:"#b7daff",loop:"all",order:"list",volume:.7,listFolded:e.fixed,listMaxHeight:e.listmaxheight||"250px",audio:e.music||[],storageName:"aplayer-setting"};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return"[object Array]"!==Object.prototype.toString.call(e.audio)&&(e.audio=[e.audio]),e.audio.map(function(e){return e.name=e.name||e.title||"Audio name",e.artist=e.artist||e.author||"Audio artist",e.cover=e.cover||e.pic,e.type=e.type||"normal",e}),e.audio.length<=1&&"one"===e.loop&&(e.loop="all"),e}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 33 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 29 32"><path d="M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 22 32"><path d="M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(e,t,n){var a,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(a===setTimeout)return setTimeout(e,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:r}catch(e){a=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,d=[],u=!1,p=-1;function h(){u&&c&&(u=!1,c.length?d=c.concat(d):p=-1,d.length&&f())}function f(){if(!u){var e=l(h);u=!0;for(var t=d.length;t;){for(c=d,d=[];++p<t;)c&&c[p].run();p=-1,t=d.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new m(e,t)),1!==d.length||u||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var a,i,o,r,s,l=1,d={},u=!1,p=e.document,h=c.a&&c()(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick(function(){m(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&m(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),a=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},a=function(e){o.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,a=function(e){var t=p.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):a=function(e){setTimeout(m,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return d[l]=i,a(l),l++},h.clearImmediate=f}function f(e){delete d[e]}function m(e){if(u)setTimeout(m,0,e);else{var t=d[e];if(t){u=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(n,a)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,n(4),n(34))},function(e,t,n){var a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(35),t.setImmediate=s.a,t.clearImmediate=o.a},function(e,t,n){(function(t){var n="function"==typeof v.a&&"symbol"==S()(m.a)?function(e){return void 0===e?"undefined":S()(e)}:function(e){return e&&"function"==typeof v.a&&e.constructor===v.a&&e!==v.a.prototype?"symbol":void 0===e?"undefined":S()(e)},a=setTimeout;function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void l(t.promise,e)}s(t.promise,a)}else(1===e._state?s:l)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":n(t))||"function"==typeof t)){var a=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof a)return void d((i=a,r=t,function(){i.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}var i,r}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(e){if(n)return;n=!0,l(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,a){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,s){try{if(s&&("object"===(void 0===s?"undefined":n(s))||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(t){r(e,t)},a)}i[e]=s,0==--o&&t(i)}catch(e){a(e)}}for(var s=0;s<i.length;s++)r(s,i[s])})},o.resolve=function(e){return e&&"object"===(void 0===e?"undefined":n(e))&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var a=0,i=e.length;a<i;a++)e[a].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=o}).call(this,n(36).setImmediate)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=y(n(37)),o=y(n(0)),r=y(n(3)),s=y(n(18)),l=y(n(17)),c=y(n(13)),d=y(n(12)),u=y(n(11)),p=y(n(9)),h=y(n(8)),f=y(n(7)),m=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}var v=[],g=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=(0,s.default)(t),this.container=this.options.container,this.paused=!0,this.playedPromise=i.default.resolve(),this.mode="normal",this.randomOrder=o.default.randomOrder(this.options.audio.length),this.container.classList.add("aplayer"),this.options.lrcType&&!this.options.fixed&&this.container.classList.add("aplayer-withlrc"),this.options.audio.length>1&&this.container.classList.add("aplayer-withlist"),o.default.isMobile&&this.container.classList.add("aplayer-mobile"),this.arrow=this.container.offsetWidth<=300,this.arrow&&this.container.classList.add("aplayer-arrow"),this.container=this.options.container,2===this.options.lrcType||!0===this.options.lrcType)for(var n=this.container.getElementsByClassName("aplayer-lrc-content"),a=0;a<n.length;a++)this.options.audio[a]&&(this.options.audio[a].lrc=n[a].innerHTML);this.template=new l.default({container:this.container,options:this.options,randomOrder:this.randomOrder}),this.options.fixed&&(this.container.classList.add("aplayer-fixed"),this.template.body.style.width=this.template.body.offsetWidth-18+"px"),this.options.mini&&(this.setMode("mini"),this.template.info.style.display="block"),this.template.info.offsetWidth<200&&this.template.time.classList.add("aplayer-time-narrow"),this.options.lrcType&&(this.lrc=new u.default({container:this.template.lrc,async:3===this.options.lrcType,player:this})),this.events=new f.default,this.storage=new d.default(this),this.bar=new c.default(this.template),this.controller=new p.default(this),this.timer=new h.default(this),this.list=new m.default(this),this.initAudio(),this.bindEvents(),"random"===this.options.order?this.list.switch(this.randomOrder[0]):this.list.switch(0),this.options.autoplay&&this.play(),v.push(this)}return a(e,[{key:"initAudio",value:function(){var e=this;this.audio=document.createElement("audio"),this.audio.preload=this.options.preload;for(var t=function(t){e.audio.addEventListener(e.events.audioEvents[t],function(n){e.events.trigger(e.events.audioEvents[t],n)})},n=0;n<this.events.audioEvents.length;n++)t(n);this.volume(this.storage.get("volume"),!0)}},{key:"bindEvents",value:function(){var e=this;this.on("play",function(){e.paused&&e.setUIPlaying()}),this.on("pause",function(){e.paused||e.setUIPaused()}),this.on("timeupdate",function(){if(!e.disableTimeupdate){e.bar.set("played",e.audio.currentTime/e.duration,"width"),e.lrc&&e.lrc.update();var t=o.default.secondToTime(e.audio.currentTime);e.template.ptime.innerHTML!==t&&(e.template.ptime.innerHTML=t)}}),this.on("durationchange",function(){1!==e.duration&&(e.template.dtime.innerHTML=o.default.secondToTime(e.duration))}),this.on("progress",function(){var t=e.audio.buffered.length?e.audio.buffered.end(e.audio.buffered.length-1)/e.duration:0;e.bar.set("loaded",t,"width")});var t=void 0;this.on("error",function(){e.list.audios.length>1?(e.notice("An audio error has occurred, player will skip forward in 2 seconds."),t=setTimeout(function(){e.skipForward(),e.paused||e.play()},2e3)):1===e.list.audios.length&&e.notice("An audio error has occurred.")}),this.events.on("listswitch",function(){t&&clearTimeout(t)}),this.on("ended",function(){"none"===e.options.loop?"list"===e.options.order?e.list.index<e.list.audios.length-1?(e.list.switch((e.list.index+1)%e.list.audios.length),e.play()):(e.list.switch((e.list.index+1)%e.list.audios.length),e.pause()):"random"===e.options.order&&(e.randomOrder.indexOf(e.list.index)<e.randomOrder.length-1?(e.list.switch(e.nextIndex()),e.play()):(e.list.switch(e.nextIndex()),e.pause())):"one"===e.options.loop?(e.list.switch(e.list.index),e.play()):"all"===e.options.loop&&(e.skipForward(),e.play())})}},{key:"setAudio",value:function(e){this.hls&&(this.hls.destroy(),this.hls=null);var t=e.type;this.options.customAudioType&&this.options.customAudioType[t]?"[object Function]"===Object.prototype.toString.call(this.options.customAudioType[t])?this.options.customAudioType[t](this.audio,e,this):console.error("Illegal customType: "+t):(t&&"auto"!==t||(t=/m3u8(#|\?|$)/i.exec(e.url)?"hls":"normal"),"hls"===t?Hls.isSupported()?(this.hls=new Hls,this.hls.loadSource(e.url),this.hls.attachMedia(this.audio)):this.audio.canPlayType("application/x-mpegURL")||this.audio.canPlayType("application/vnd.apple.mpegURL")?this.audio.src=e.url:this.notice("Error: HLS is not supported."):"normal"===t&&(this.audio.src=e.url)),this.seek(0),this.paused||this.audio.play()}},{key:"theme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.audios[this.list.index].theme||this.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.index;(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.list.audios[t]&&(this.list.audios[t].theme=e),this.template.listCurs[t]&&(this.template.listCurs[t].style.backgroundColor=e),t===this.list.index&&(this.template.pic.style.backgroundColor=e,this.template.played.style.background=e,this.template.thumb.style.background=e,this.template.volume.style.background=e)}},{key:"seek",value:function(e){e=Math.max(e,0),e=Math.min(e,this.duration),this.audio.currentTime=e,this.bar.set("played",e/this.duration,"width"),this.template.ptime.innerHTML=o.default.secondToTime(e)}},{key:"setUIPlaying",value:function(){var e=this;if(this.paused&&(this.paused=!1,this.template.button.classList.remove("aplayer-play"),this.template.button.classList.add("aplayer-pause"),this.template.button.innerHTML="",setTimeout(function(){e.template.button.innerHTML=r.default.pause},100),this.template.skipPlayButton.innerHTML=r.default.pause),this.timer.enable("loading"),this.options.mutex)for(var t=0;t<v.length;t++)this!==v[t]&&v[t].pause()}},{key:"play",value:function(){var e=this;this.setUIPlaying();var t=this.audio.play();t&&t.catch(function(t){console.warn(t),"NotAllowedError"===t.name&&e.setUIPaused()})}},{key:"setUIPaused",value:function(){var e=this;this.paused||(this.paused=!0,this.template.button.classList.remove("aplayer-pause"),this.template.button.classList.add("aplayer-play"),this.template.button.innerHTML="",setTimeout(function(){e.template.button.innerHTML=r.default.play},100),this.template.skipPlayButton.innerHTML=r.default.play),this.container.classList.remove("aplayer-loading"),this.timer.disable("loading")}},{key:"pause",value:function(){this.setUIPaused(),this.audio.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeButton.innerHTML=r.default.volumeUp:this.volume()>0?this.template.volumeButton.innerHTML=r.default.volumeDown:this.template.volumeButton.innerHTML=r.default.volumeOff}},{key:"volume",value:function(e,t){return e=parseFloat(e),isNaN(e)||(e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"height"),t||this.storage.set("volume",e),this.audio.volume=e,this.audio.muted&&(this.audio.muted=!1),this.switchVolumeIcon()),this.audio.muted?0:this.audio.volume}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"toggle",value:function(){this.template.button.classList.contains("aplayer-play")?this.play():this.template.button.classList.contains("aplayer-pause")&&this.pause()}},{key:"switchAudio",value:function(e){this.list.switch(e)}},{key:"addAudio",value:function(e){this.list.add(e)}},{key:"removeAudio",value:function(e){this.list.remove(e)}},{key:"destroy",value:function(){v.splice(v.indexOf(this),1),this.pause(),this.container.innerHTML="",this.audio.src="",this.timer.destroy(),this.events.trigger("destroy")}},{key:"setMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";this.mode=e,"mini"===e?this.container.classList.add("aplayer-narrow"):"normal"===e&&this.container.classList.remove("aplayer-narrow")}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=a,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("noticeshow",{text:e}),n&&(this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("noticehide")},n))}},{key:"prevIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return this.list.index-1<0?this.list.audios.length-1:this.list.index-1;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return 0===e?this.randomOrder[this.randomOrder.length-1]:this.randomOrder[e-1]}}},{key:"nextIndex",value:function(){if(!(this.list.audios.length>1))return 0;if("list"===this.options.order)return(this.list.index+1)%this.list.audios.length;if("random"===this.options.order){var e=this.randomOrder.indexOf(this.list.index);return e===this.randomOrder.length-1?this.randomOrder[0]:this.randomOrder[e+1]}}},{key:"skipBack",value:function(){this.list.switch(this.prevIndex())}},{key:"skipForward",value:function(){this.list.switch(this.nextIndex())}},{key:"duration",get:function(){return isNaN(this.audio.duration)?0:this.audio.duration}}],[{key:"version",get:function(){return"1.10.1"}}]),e}();t.default=g},,function(e,t,n){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(40);var a,i=(a=n(38))&&a.__esModule?a:{default:a};t.default=i.default}]).default},"object"==("undefined"==typeof exports?"undefined":S()(exports))&&"object"==S()(e)?e.exports=a():"function"==typeof define&&n("nErl")?define("APlayer",[],a):"object"==("undefined"==typeof exports?"undefined":S()(exports))?exports.APlayer=a():t.APlayer=a()}).call(t,n("f1Eh")(e))},KXTU:function(e,t,n){"use strict";(function(e,t,a,i){var o,r=n("Zx67"),s=n.n(r),l=n("kiBT"),c=n.n(l),d=n("Zzip"),u=n.n(d),p=n("5QVw"),h=n.n(p),f=n("pQ2V"),m=n.n(f),y=n("OvRC"),v=n.n(y),g=n("pFYg"),b=n.n(g),w=n("C4MV"),x=n.n(w),k=n("HSQo"),S=n.n(k),_=_||{};_.scope={},_.ASSUME_ES5=!1,_.ASSUME_NO_NATIVE_MAP=!1,_.ASSUME_NO_NATIVE_SET=!1,_.defineProperty=_.ASSUME_ES5||"function"==typeof S.a?x.a:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},_.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==e&&null!=e?e:t},_.global=_.getGlobal(this),_.polyfill=function(e,t,n,a){if(t){for(n=_.global,e=e.split("."),a=0;a<e.length-1;a++){var i=e[a];i in n||(n[i]={}),n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&_.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},_.polyfill("Object.setPrototypeOf",function(e){return e||("object"!=b()("".__proto__)?null:function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e})},"es6","es5"),_.objectCreate=_.ASSUME_ES5||"function"==typeof v.a?v.a:function(e){var t=function(){};return t.prototype=e,new t},_.construct="undefined"!=typeof Reflect&&m.a||function(e,t,n){return void 0===n&&(n=e),n=_.objectCreate(n.prototype||Object.prototype),Function.prototype.apply.call(e,n,t)||n},_.polyfill("Reflect.construct",function(e){return e||_.construct},"es6","es3"),function(t){"object"===("undefined"==typeof exports?"undefined":b()(exports))&&void 0!==i?i.exports=t():"function"==typeof define&&n("nErl")?define([],t):("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).jsmediatags=t()}(function(){return function(){return function e(t,n,a){function i(s,l){if(!n[s]){if(!t[s]){if(!l&&"function"==typeof o&&o)return o(s,!0);if(r)return r(s,!0);throw(l=Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",l}l=n[s]={exports:{}},t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,n,a)}return n[s].exports}for(var r="function"==typeof o&&o,s=0;s<a.length;s++)i(a[s]);return i}}()({1:[function(e,t,n){},{}],2:[function(e,t,n){t.exports=XMLHttpRequest},{}],3:[function(e,n,a){function i(e){"@babel/helpers - typeof";return(i="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function r(e,t){return(r=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=p(e);if(t){var a=p(this).constructor;n=m()(n,arguments,a)}else n=n.apply(this,arguments);return n=!n||"object"!==i(n)&&"function"!=typeof n?d(this):n}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}function f(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=function(n){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var t=i.call(this);return f(d(t),"_array",void 0),f(d(t),"_size",void 0),t._array=e,t._size=e.length,t._isInitialized=!0,t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(a,e("./MediaFileReader"));var i=l(a);return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(a,[{key:"init",value:function(e){setTimeout(e.onSuccess,0)}},{key:"loadRange",value:function(e,t){setTimeout(t.onSuccess,0)}},{key:"getByteAt",value:function(e){if(e>=this._array.length)throw Error("Offset "+e+" hasn't been loaded yet.");return this._array[e]}}],[{key:"canReadFile",value:function(e){return Array.isArray(e)||"function"==typeof t&&t.isBuffer(e)}}]),a}(),n.exports=e},{"./MediaFileReader":11}],4:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){return(o=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=d(e);if(t){var i=d(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);return n=!n||"object"!==a(n)&&"function"!=typeof n?l(this):n}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}function p(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=e("./ChunkedFileData");e=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var t=a.call(this);return p(l(t),"_blob",void 0),p(l(t),"_fileData",void 0),t._blob=e,t._fileData=new f,t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e("./MediaFileReader"));var a=r(n);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"_init",value:function(e){this._size=this._blob.size,setTimeout(e.onSuccess,1)}},{key:"loadRange",value:function(e,t){var n=this,a=(this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice).call(this._blob,e[0],e[1]+1),i=new FileReader;i.onloadend=function(a){a=new Uint8Array(i.result),n._fileData.addData(e[0],a),t.onSuccess()},i.onerror=i.onabort=function(e){t.onError&&t.onError({type:"blob",info:i.error})},i.readAsArrayBuffer(a)}},{key:"getByteAt",value:function(e){return this._fileData.getByteAt(e)}}],[{key:"canReadFile",value:function(e){return"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof File&&e instanceof File}}]),n}(),t.exports=e},{"./ChunkedFileData":5,"./MediaFileReader":11}],5:[function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");"_fileData"in this?Object.defineProperty(this,"_fileData",{value:void 0,enumerable:!0,configurable:!0,writable:!0}):this._fileData=void 0,this._fileData=[]}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"addData",value:function(e,t){var n=e+t.length-1,a=this._getChunkRange(e,n);if(-1===a.startIx)this._fileData.splice(a.insertIx||0,0,{offset:e,data:t});else{var i=this._fileData[a.startIx],o=this._fileData[a.endIx];n=n<o.offset+o.data.length-1;var r={offset:Math.min(e,i.offset),data:t};e>i.offset&&(e=this._sliceData(i.data,0,e-i.offset),r.data=this._concatData(e,t)),n&&(e=this._sliceData(r.data,0,o.offset-r.offset),r.data=this._concatData(e,o.data)),this._fileData.splice(a.startIx,a.endIx-a.startIx+1,r)}}},{key:"_concatData",value:function(e,t){if("undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e)){var n=new e.constructor(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}return e.concat(t)}},{key:"_sliceData",value:function(e,t,n){return e.slice?e.slice(t,n):e.subarray(t,n)}},{key:"_getChunkRange",value:function(e,t){for(var n,a,i=-1,o=-1,r=0,s=0;s<this._fileData.length&&(n=(a=this._fileData[s].offset)+this._fileData[s].data.length,!(t<a-1));r=++s)if(e<=n+1&&t>=a-1){i=s;break}if(-1===i)return{startIx:-1,endIx:-1,insertIx:r};for(s=i;s<this._fileData.length&&(n=(a=this._fileData[s].offset)+this._fileData[s].data.length,t>=a-1&&(o=s),!(t<=n+1));s++);return-1===o&&(o=i),{startIx:i,endIx:o}}},{key:"hasDataRange",value:function(e,t){for(var n=0;n<this._fileData.length;n++){var a=this._fileData[n];if(t<a.offset)break;if(e>=a.offset&&t<a.offset+a.data.length)return!0}return!1}},{key:"getByteAt",value:function(e){for(var t,n=0;n<this._fileData.length;n++){var a=this._fileData[n].offset,i=a+this._fileData[n].data.length-1;if(e>=a&&e<=i){t=this._fileData[n];break}}if(t)return t.data[e-t.offset];throw Error("Offset "+e+" hasn't been loaded yet.")}}],[{key:"NOT_FOUND",get:function(){return-1}}]),e}(),t.exports=e},{}],6:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){return(o=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=d(e);if(t){var i=d(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);return n=!n||"object"!==a(n)&&"function"!=typeof n?l(this):n}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}function p(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=[4,132],y=[6,134],g="Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. label side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");e=function(t){function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return p(l(e=a.call.apply(a,[this].concat(t))),"_commentOffset",void 0),p(l(e),"_pictureOffset",void 0),e}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e("./MediaTagReader"));var a=r(n);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"_loadData",value:function(e,t){var n=this;e.loadRange([4,7],{onSuccess:function(){n._loadBlock(e,4,t)}})}},{key:"_loadBlock",value:function(e,t,n){var a=this,i=e.getByteAt(t),o=e.getInteger24At(t+1,!0);if(-1!==f.indexOf(i)){var r=t+4;e.loadRange([r,r+o],{onSuccess:function(){a._commentOffset=r,a._nextBlock(e,t,i,o,n)}})}else-1!==y.indexOf(i)?(r=t+4,e.loadRange([r,r+o],{onSuccess:function(){a._pictureOffset=r,a._nextBlock(e,t,i,o,n)}})):a._nextBlock(e,t,i,o,n)}},{key:"_nextBlock",value:function(e,t,n,a,i){var o=this;127<n?o._commentOffset?i.onSuccess():i.onError({type:"loadData",info:"Comment block could not be found."}):e.loadRange([t+4+a,t+4+4+a],{onSuccess:function(){o._loadBlock(e,t+4+a,i)}})}},{key:"_parseData",value:function(e,t){var n=e.getLongAt(this._commentOffset,!1)+(this._commentOffset+4);t=e.getLongAt(n,!1),n+=4;for(var a,i,o,r,s,l,c=0;c<t;c++){var d=e.getLongAt(n,!1),u=e.getStringWithCharsetAt(n+4,d,"utf-8").toString(),p=u.indexOf("=");switch((u=[u.slice(0,p),u.slice(p+1)])[0].toUpperCase()){case"TITLE":a=u[1];break;case"ARTIST":i=u[1];break;case"ALBUM":o=u[1];break;case"TRACKNUMBER":r=u[1];break;case"GENRE":s=u[1]}n+=4+d}return this._pictureOffset&&(l=e.getLongAt(this._pictureOffset,!0),t=this._pictureOffset+4,n=e.getLongAt(t,!0),c=t+4,t=e.getStringAt(c,n),n=c+n,c=e.getLongAt(n,!0),d=n+4,n=e.getStringWithCharsetAt(d,c,"utf-8").toString(),c=d+c+16,d=e.getLongAt(c,!0),e=e.getBytesAt(c+4,d,!0),l={format:t,type:g[l],description:n,data:e}),{type:"FLAC",version:"1",tags:{title:a,artist:i,album:o,track:r,genre:s,picture:l}}}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:4}}},{key:"canReadTagFormat",value:function(e){return"fLaC"===String.fromCharCode.apply(String,e.slice(0,4))}}]),n}(),t.exports=e},{"./MediaTagReader":12}],7:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){return(o=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=l(e);if(t){var i=l(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);if(!n||"object"!==a(n)&&"function"!=typeof n){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=this}return n}}function l(e){return(l=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}n=e("./MediaTagReader"),e("./MediaFileReader"),e=function(e){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");return a.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,n);var a=r(t);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"_loadData",value:function(e,t){var n=e.getSize();e.loadRange([n-128,n-1],t)}},{key:"_parseData",value:function(e,t){var n=e.getSize()-128,a=e.getStringWithCharsetAt(n+3,30).toString(),i=e.getStringWithCharsetAt(n+33,30).toString(),o=e.getStringWithCharsetAt(n+63,30).toString(),r=e.getStringWithCharsetAt(n+93,4).toString(),s=e.getByteAt(n+97+28);if(t=e.getByteAt(n+97+29),0==s&&0!=t){var l="1.1";s=e.getStringWithCharsetAt(n+97,28).toString()}else l="1.0",s=e.getStringWithCharsetAt(n+97,30).toString(),t=0;return e={type:"ID3",version:l,tags:{title:a,artist:i,album:o,year:r,comment:s,genre:255>(e=e.getByteAt(n+97+30))?d[e]:""}},t&&(e.tags.track=t),e}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(e){return"TAG"===String.fromCharCode.apply(String,e.slice(0,3))}}]),t}();var d="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");t.exports=e},{"./MediaFileReader":11,"./MediaTagReader":12}],8:[function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function i(e){switch(e){case 0:e="iso-8859-1";break;case 1:e="utf-16";break;case 2:e="utf-16be";break;case 3:e="utf-8";break;default:e="iso-8859-1"}return e}function o(e,t,n,a){var i=n.getStringWithCharsetAt(e+1,t-1,a);return e=n.getStringWithCharsetAt(e+1+i.bytesReadCount,t-1-i.bytesReadCount,a),{user_description:i.toString(),data:e.toString()}}e("./MediaFileReader");var r=e("./StringUtils"),s=e("./ArrayFileReader"),l={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",CHAP:"Chapter",CTOC:"Table of contents",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,null,[{key:"getFrameReaderFunction",value:function(e){return e in c?c[e]:"T"===e[0]?c["T*"]:"W"===e[0]?c["W*"]:null}},{key:"readFrames",value:function(t,n,a,i,o){for(var r={},s=this._getFrameHeaderSize(i);t<n-s;){var l=this._readFrameHeader(a,t,i),c=l.id;if(!c)break;var d=l.flags,u=l.size,p=t+l.headerSize,h=a;if(t+=l.headerSize+l.size,!o||-1!==o.indexOf(c)){if("MP3e"===c||"\0MP3"===c||"\0\0MP"===c||" MP3"===c)break;d&&d.format.unsynchronisation&&!i.flags.unsynchronisation&&(h=this.getUnsyncFileReader(h,p,u),p=0,u=h.getSize()),d&&d.format.data_length_indicator&&(p+=4,u-=4),d=(l=e.getFrameReaderFunction(c))?l.apply(this,[p,u,h,d,i]):null,u={id:c,size:u,description:p=this._getFrameDescription(c),data:d},c in r?(r[c].id&&(r[c]=[r[c]]),r[c].push(u)):r[c]=u}}return r}},{key:"_getFrameHeaderSize",value:function(e){return 2==(e=e.major)?6:3==e||4==e?10:0}},{key:"_readFrameHeader",value:function(e,t,n){var a=n.major,i=null;switch(n=this._getFrameHeaderSize(n),a){case 2:var o=e.getStringAt(t,3),r=e.getInteger24At(t+3,!0);break;case 3:o=e.getStringAt(t,4),r=e.getLongAt(t+4,!0);break;case 4:o=e.getStringAt(t,4),r=e.getSynchsafeInteger32At(t+4)}return o!=String.fromCharCode(0,0,0)&&o!=String.fromCharCode(0,0,0,0)||(o=""),o&&2<a&&(i=this._readFrameFlags(e,t+8)),{id:o||"",size:r||0,headerSize:n||0,flags:i}}},{key:"_readFrameFlags",value:function(e,t){return{message:{tag_alter_preservation:e.isBitSetAt(t,6),file_alter_preservation:e.isBitSetAt(t,5),read_only:e.isBitSetAt(t,4)},format:{grouping_identity:e.isBitSetAt(t+1,7),compression:e.isBitSetAt(t+1,3),encryption:e.isBitSetAt(t+1,2),unsynchronisation:e.isBitSetAt(t+1,1),data_length_indicator:e.isBitSetAt(t+1,0)}}}},{key:"_getFrameDescription",value:function(e){return e in l?l[e]:"Unknown"}},{key:"getUnsyncFileReader",value:function(e,t,n){for(e=e.getBytesAt(t,n),t=0;t<e.length-1;t++)255===e[t]&&0===e[t+1]&&e.splice(t+1,1);return new s(e)}}]),e}();var c={APIC:function(e,t,n,a,o){a=e;var r=i(n.getByteAt(e));switch(o&&o.major){case 2:o=n.getStringAt(e+1,3),e+=4;break;case 3:case 4:e+=1+(o=n.getStringWithCharsetAt(e+1,t-1)).bytesReadCount;break;default:throw Error("Couldn't read ID3v2 major version.")}var s=n.getByteAt(e);return s=d[s],e+=1+(r=n.getStringWithCharsetAt(e+1,t-(e-a)-1,r)).bytesReadCount,{format:o.toString(),type:s,description:r.toString(),data:n.getBytesAt(e,a+t-e)}},CHAP:function(e,t,n,a,i){a=e;var o={},s=r.readNullTerminatedString(n.getBytesAt(e,t));return o.id=s.toString(),e+=s.bytesReadCount,o.startTime=n.getLongAt(e,!0),e+=4,o.endTime=n.getLongAt(e,!0),e+=4,o.startOffset=n.getLongAt(e,!0),e+=4,o.endOffset=n.getLongAt(e,!0),e+=4,o.subFrames=this.readFrames(e,e+(t-(e-a)),n,i),o},CTOC:function(e,t,n,a,i){a=e;var o={childElementIds:[],id:void 0,topLevel:void 0,ordered:void 0,entryCount:void 0,subFrames:void 0},s=r.readNullTerminatedString(n.getBytesAt(e,t));for(o.id=s.toString(),e+=s.bytesReadCount,o.topLevel=n.isBitSetAt(e,1),o.ordered=n.isBitSetAt(e,0),e++,o.entryCount=n.getByteAt(e),e++,s=0;s<o.entryCount;s++){var l=r.readNullTerminatedString(n.getBytesAt(e,t-(e-a)));o.childElementIds.push(l.toString()),e+=l.bytesReadCount}return o.subFrames=this.readFrames(e,e+(t-(e-a)),n,i),o},COMM:function(e,t,n,a,o){var r=e,s=i(n.getByteAt(e));return a=n.getStringAt(e+1,3),e+=4+(o=n.getStringWithCharsetAt(e+4,t-4,s)).bytesReadCount,e=n.getStringWithCharsetAt(e,r+t-e,s),{language:a,short_description:o.toString(),text:e.toString()}}};c.COM=c.COMM,c.PIC=function(e,t,n,a,i){return c.APIC(e,t,n,a,i)},c.PCNT=function(e,t,n,a,i){return n.getLongAt(e,!1)},c.CNT=c.PCNT,c["T*"]=function(e,t,n,a,o){return a=i(n.getByteAt(e)),n.getStringWithCharsetAt(e+1,t-1,a).toString()},c.TXXX=function(e,t,n,a,r){return o(e,t,n,i(n.getByteAt(e)))},c.WXXX=function(e,t,n,a,r){return 0===t?null:o(e,t,n,i(n.getByteAt(e)))},c["W*"]=function(e,t,n,a,i){return 0===t?null:n.getStringWithCharsetAt(e,t,"iso-8859-1").toString()},c.TCON=function(e,t,n,a){return c["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")},c.TCO=c.TCON,c.USLT=function(e,t,n,a,o){var r=e,s=i(n.getByteAt(e));return a=n.getStringAt(e+1,3),e+=4+(o=n.getStringWithCharsetAt(e+4,t-4,s)).bytesReadCount,e=n.getStringWithCharsetAt(e,r+t-e,s),{language:a,descriptor:o.toString(),lyrics:e.toString()}},c.ULT=c.USLT,c.UFID=function(e,t,n,a,i){return e+=(a=r.readNullTerminatedString(n.getBytesAt(e,t))).bytesReadCount,e=n.getBytesAt(e,t-a.bytesReadCount),{ownerIdentifier:a.toString(),identifier:e}};var d="Other;32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. label side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");t.exports=e},{"./ArrayFileReader":3,"./MediaFileReader":11,"./StringUtils":13}],9:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){return(o=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=l(e);if(t){var i=l(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);if(!n||"object"!==a(n)&&"function"!=typeof n){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=this}return n}}function l(e){return(l=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}n=e("./MediaTagReader"),e("./MediaFileReader");var d=e("./ID3v2FrameReader");e=function(e){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");return a.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,n);var a=r(t);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"_loadData",value:function(e,t){e.loadRange([6,9],{onSuccess:function(){e.loadRange([0,10+e.getSynchsafeInteger32At(6)-1],t)},onError:t.onError})}},{key:"_parseData",value:function(e,t){var n,a=0,i=e.getByteAt(a+3);if(4<i)return{type:"ID3",version:">2.4",tags:{}};var o=e.getByteAt(a+4),r=e.isBitSetAt(a+5,7),s=e.isBitSetAt(a+5,6),l=e.isBitSetAt(a+5,5),c=e.getSynchsafeInteger32At(a+6);if(a+=10,s)if(4===i){var u=e.getSynchsafeInteger32At(a);a+=u}else a+=(u=e.getLongAt(a,!0))+4;for(var h in u={type:"ID3",version:"2."+i+"."+o,major:i,revision:o,flags:{unsynchronisation:r,extended_header:s,experimental_indicator:l,footer_present:!1},size:c,tags:{}},t&&(n=this._expandShortcutTags(t)),t=c+10,u.flags.unsynchronisation&&(e=d.getUnsyncFileReader(e,a,c),a=0,t=e.getSize()),e=d.readFrames(a,t,e,u,n),p)p.hasOwnProperty(h)&&(n=this._getFrameData(e,p[h]))&&(u.tags[h]=n);for(var f in e)e.hasOwnProperty(f)&&(u.tags[f]=e[f]);return u}},{key:"_getFrameData",value:function(e,t){for(var n,a=0;n=t[a];a++)if(n in e)return(e=e[n]instanceof Array?e[n][0]:e[n]).data}},{key:"getShortcuts",value:function(){return p}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:10}}},{key:"canReadTagFormat",value:function(e){return"ID3"===String.fromCharCode.apply(String,e.slice(0,3))}}]),t}();var p={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};t.exports=e},{"./ID3v2FrameReader":8,"./MediaFileReader":11,"./MediaTagReader":12}],10:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=d(e);if(t){var i=d(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);if(!n||"object"!==a(n)&&"function"!=typeof n){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=this}return n}}function d(e){return(d=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}n=e("./MediaTagReader"),e("./MediaFileReader"),e=function(e){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");return a.apply(this,arguments)}o(t,n);var a=l(t);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"_loadData",value:function(e,t){var n=this;e.loadRange([0,16],{onSuccess:function(){n._loadAtom(e,0,"",t)},onError:t.onError})}},{key:"_loadAtom",value:function(e,t,n,a){if(t>=e.getSize())a.onSuccess();else{var i=this,o=e.getLongAt(t,!0);if(0==o||isNaN(o))a.onSuccess();else{var r=e.getStringAt(t+4,4);if(this._isContainerAtom(r)){"meta"==r&&(t+=4);var s=(n?n+".":"")+r;"moov.udta.meta.ilst"===s?e.loadRange([t,t+o],a):e.loadRange([t+8,t+8+8],{onSuccess:function(){i._loadAtom(e,t+8,s,a)},onError:a.onError})}else e.loadRange([t+o,t+o+8],{onSuccess:function(){i._loadAtom(e,t+o,n,a)},onError:a.onError})}}}},{key:"_isContainerAtom",value:function(e){return 0<=["moov","udta","meta","ilst"].indexOf(e)}},{key:"_canReadAtom",value:function(e){return"----"!==e}},{key:"_parseData",value:function(e,t){var n={};for(var a in t=this._expandShortcutTags(t),this._readAtom(n,e,0,e.getSize(),t),y)y.hasOwnProperty(a)&&(t=n[y[a]])&&(n[a]="track"===a?t.data.track:t.data);return{type:"MP4",ftyp:e.getStringAt(8,4),version:e.getLongAt(12,!0),tags:n}}},{key:"_readAtom",value:function(e,t,n,a,i,o,r){r=void 0===r?"":r+"  ";for(var s=n;s<n+a;){var l=t.getLongAt(s,!0);if(0==l)break;var c=t.getStringAt(s+4,4);if(this._isContainerAtom(c)){"meta"==c&&(s+=4),this._readAtom(e,t,s+8,l-8,i,(o?o+".":"")+c,r);break}(!i||0<=i.indexOf(c))&&"moov.udta.meta.ilst"===o&&this._canReadAtom(c)&&(e[c]=this._readMetadataAtom(t,s)),s+=l}}},{key:"_readMetadataAtom",value:function(e,t){var n=e.getLongAt(t,!0),a=e.getStringAt(t+4,4),i=e.getInteger24At(t+16+1,!0);if(i=p[i],"trkn"==a)var o={track:e.getShortAt(t+16+10,!0),total:e.getShortAt(t+16+14,!0)};else if("disk"==a)o={disk:e.getShortAt(t+16+10,!0),total:e.getShortAt(t+16+14,!0)};else{t+=24;var r=n-24;switch("covr"===a&&"uint8"===i&&(i="jpeg"),i){case"text":o=e.getStringWithCharsetAt(t,r,"utf-8").toString();break;case"uint8":o=e.getShortAt(t,!1);break;case"int":case"uint":o=("int"==i?1==r?e.getSByteAt:2==r?e.getSShortAt:4==r?e.getSLongAt:e.getLongAt:1==r?e.getByteAt:2==r?e.getShortAt:e.getLongAt).call(e,t+(8==r?4:0),!0);break;case"jpeg":case"png":o={format:"image/"+i,data:e.getBytesAt(t,r)}}}return{id:a,size:n,description:f[a]||"Unknown",data:o}}},{key:"getShortcuts",value:function(){return y}}],[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(e){return"ftyp"===String.fromCharCode.apply(String,e.slice(4,8))}}]),t}();var p={0:"uint8",1:"text",13:"jpeg",14:"png",21:"int",22:"uint"},f={"alb":"Album","ART":"Artist",aART:"Album Artist","day":"Release Date","nam":"Title","gen":"Genre",gnre:"Genre",trkn:"Track Number","wrt":"Composer","too":"Encoding Tool","enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","grp":"Grouping",keyw:"Keywords","lyr":"Lyrics","cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",flvr:"Codec Flavor"},y={title:"nam",artist:"ART",album:"alb",year:"day",comment:"cmt",track:"trkn",genre:"gen",picture:"covr",lyrics:"lyr"};t.exports=e},{"./MediaFileReader":11,"./MediaTagReader":12}],11:[function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function i(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./StringUtils");e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"_isInitialized",void 0),i(this,"_size",void 0),this._isInitialized=!1,this._size=0}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"init",value:function(e){var t=this;if(!this._isInitialized)return this._init({onSuccess:function(){t._isInitialized=!0,e.onSuccess()},onError:e.onError});setTimeout(e.onSuccess,1)}},{key:"_init",value:function(e){throw Error("Must implement init function")}},{key:"loadRange",value:function(e,t){throw Error("Must implement loadRange function")}},{key:"getSize",value:function(){if(!this._isInitialized)throw Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(e){throw Error("Must implement getByteAt function")}},{key:"getBytesAt",value:function(e,t){for(var n=Array(t),a=0;a<t;a++)n[a]=this.getByteAt(e+a);return n}},{key:"isBitSetAt",value:function(e,t){return 0!=(this.getByteAt(e)&1<<t)}},{key:"getSByteAt",value:function(e){return 127<(e=this.getByteAt(e))?e-256:e}},{key:"getShortAt",value:function(e,t){return 0>(e=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e))&&(e+=65536),e}},{key:"getSShortAt",value:function(e,t){return 32767<(e=this.getShortAt(e,t))?e-65536:e}},{key:"getLongAt",value:function(e,t){var n=this.getByteAt(e),a=this.getByteAt(e+1),i=this.getByteAt(e+2);return e=this.getByteAt(e+3),0>(t=t?(((n<<8)+a<<8)+i<<8)+e:(((e<<8)+i<<8)+a<<8)+n)&&(t+=4294967296),t}},{key:"getSLongAt",value:function(e,t){return 2147483647<(e=this.getLongAt(e,t))?e-4294967296:e}},{key:"getInteger24At",value:function(e,t){var n=this.getByteAt(e),a=this.getByteAt(e+1);return e=this.getByteAt(e+2),0>(t=t?((n<<8)+a<<8)+e:((e<<8)+a<<8)+n)&&(t+=16777216),t}},{key:"getStringAt",value:function(e,t){for(var n=[],a=e,i=0;a<e+t;a++,i++)n[i]=String.fromCharCode(this.getByteAt(a));return n.join("")}},{key:"getStringWithCharsetAt",value:function(e,t,n){switch(e=this.getBytesAt(e,t),(n||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":n=o.readUTF16String(e,"utf-16be"===n);break;case"utf-8":n=o.readUTF8String(e);break;default:n=o.readNullTerminatedString(e)}return n}},{key:"getCharAt",value:function(e){return String.fromCharCode(this.getByteAt(e))}},{key:"getSynchsafeInteger32At",value:function(e){var t=this.getByteAt(e),n=this.getByteAt(e+1),a=this.getByteAt(e+2);return 127&this.getByteAt(e+3)|(127&a)<<7|(127&n)<<14|(127&t)<<21}}],[{key:"canReadFile",value:function(e){throw Error("Must implement canReadFile function")}}]),e}(),t.exports=e},{"./StringUtils":13}],12:[function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function i(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./MediaFileReader"),e=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"_mediaFileReader",void 0),i(this,"_tags",void 0),this._mediaFileReader=t,this._tags=null}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"setTagsToRead",value:function(e){return this._tags=e,this}},{key:"read",value:function(e){var t=this;this._mediaFileReader.init({onSuccess:function(){t._loadData(t._mediaFileReader,{onSuccess:function(){try{var n=t._parseData(t._mediaFileReader,t._tags)}catch(t){if(e.onError)return void e.onError({type:"parseData",info:t.message})}e.onSuccess(n)},onError:e.onError})},onError:e.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(e,t){throw Error("Must implement _loadData function")}},{key:"_parseData",value:function(e,t){throw Error("Must implement _parseData function")}},{key:"_expandShortcutTags",value:function(e){if(!e)return null;for(var t,n=[],a=this.getShortcuts(),i=0;t=e[i];i++)n=n.concat(a[t]||[t]);return n}}],[{key:"getTagIdentifierByteRange",value:function(){throw Error("Must implement")}},{key:"canReadTagFormat",value:function(e){throw Error("Must implement")}}]),e}(),t.exports=e},{"./MediaFileReader":11}],13:[function(e,t,n){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function i(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i(this,"_value",void 0),i(this,"bytesReadCount",void 0),i(this,"length",void 0),this._value=t,this.bytesReadCount=n,this.length=t.length}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"toString",value:function(){return this._value}}]),e}();t.exports={readUTF16String:function(e,t,n){var a=0,i=1,r=0;n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,a=2):255==e[0]&&254==e[1]&&(t=!1,a=2),t&&(i=0,r=1),t=[];for(var s=0;a<n;s++){var l=e[a+i],c=(l<<8)+e[a+r];if(a+=2,0==c)break;216>l||224<=l?t[s]=String.fromCharCode(c):(l=(e[a+i]<<8)+e[a+r],a+=2,t[s]=String.fromCharCode(c,l))}return new o(t.join(""),a)},readUTF8String:function(e,t){var n=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3);for(var a=[],i=0;n<t;i++){var r=e[n++];if(0==r)break;if(128>r)a[i]=String.fromCharCode(r);else if(194<=r&&224>r){var s=e[n++];a[i]=String.fromCharCode(((31&r)<<6)+(63&s))}else if(224<=r&&240>r){s=e[n++];var l=e[n++];a[i]=String.fromCharCode(((255&r)<<12)+((63&s)<<6)+(63&l))}else if(240<=r&&245>r){l=((7&r)<<18)+((63&(s=e[n++]))<<12)+((63&(l=e[n++]))<<6)+(63&e[n++])-65536,a[i]=String.fromCharCode(55296+(l>>10),56320+(1023&l))}}return new o(a.join(""),n)},readNullTerminatedString:function(e,t){var n=[];t=t||e.length;for(var a=0;a<t;){var i=e[a++];if(0==i)break;n[a-1]=String.fromCharCode(i)}return new o(n.join(""),a)}}},{}],14:[function(e,t,n){function a(e){"@babel/helpers - typeof";return(a="function"==typeof h.a&&"symbol"===b()(u.a)?function(e){return void 0===e?"undefined":b()(e)}:function(e){return e&&"function"==typeof h.a&&e.constructor===h.a&&e!==h.a.prototype?"symbol":void 0===e?"undefined":b()(e)})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=v()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!m.a||m.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n=p(e);if(t){var i=p(this).constructor;n=m()(n,arguments,i)}else n=n.apply(this,arguments);return n=!n||"object"!==a(n)&&"function"!=typeof n?d(this):n}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=c.a?s.a:function(e){return e.__proto__||s()(e)})(e)}function f(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=e("./ChunkedFileData");f(n=function(t){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var t=a.call(this);return f(d(t),"_url",void 0),f(d(t),"_fileData",void 0),t._url=e,t._fileData=new y,t}o(n,e("./MediaFileReader"));var a=l(n);return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"_init",value:function(e){n._config.avoidHeadRequests?this._fetchSizeWithGetRequest(e):this._fetchSizeWithHeadRequest(e)}},{key:"_fetchSizeWithHeadRequest",value:function(e){var t=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(n){(n=t._parseContentLength(n))?(t._size=n,e.onSuccess()):t._fetchSizeWithGetRequest(e)},onError:e.onError})}},{key:"_fetchSizeWithGetRequest",value:function(e){var t=this,n=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",n,{onSuccess:function(n){var a=t._parseContentRange(n);if(n=t._getXhrResponseContent(n),a){if(null==a.instanceLength)return void t._fetchEntireFile(e);t._size=a.instanceLength}else t._size=n.length;t._fileData.addData(0,n),e.onSuccess()},onError:e.onError})}},{key:"_fetchEntireFile",value:function(e){var t=this;this._makeXHRRequest("GET",null,{onSuccess:function(n){n=t._getXhrResponseContent(n),t._size=n.length,t._fileData.addData(0,n),e.onSuccess()},onError:e.onError})}},{key:"_getXhrResponseContent",value:function(e){return e.responseBody||e.responseText||""}},{key:"_parseContentLength",value:function(e){return null==(e=this._getResponseHeader(e,"Content-Length"))?e:parseInt(e,10)}},{key:"_parseContentRange",value:function(e){if(e=this._getResponseHeader(e,"Content-Range")){var t=e.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!t)throw Error("FIXME: Unknown Content-Range syntax: "+e);return{firstBytePosition:parseInt(t[1],10),lastBytePosition:parseInt(t[2],10),instanceLength:t[3]?parseInt(t[3],10):null}}return null}},{key:"loadRange",value:function(e,t){var n=this;n._fileData.hasDataRange(e[0],Math.min(n._size,e[1]))?setTimeout(t.onSuccess,1):((e=this._roundRangeToChunkMultiple(e))[1]=Math.min(n._size,e[1]),this._makeXHRRequest("GET",e,{onSuccess:function(a){a=n._getXhrResponseContent(a),n._fileData.addData(e[0],a),t.onSuccess()},onError:t.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(e){return[e[0],e[0]+1024*Math.ceil((e[1]-e[0]+1)/1024)-1]}},{key:"_makeXHRRequest",value:function(e,t,a){var i=this._createXHRObject();i.open(e,this._url);var o=function(){200===i.status||206===i.status?a.onSuccess(i):a.onError&&a.onError({type:"xhr",info:"Unexpected HTTP status "+i.status+".",xhr:i}),i=null};void 0!==i.onload?(i.onload=o,i.onerror=function(){a.onError&&a.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:i})}):i.onreadystatechange=function(){4===i.readyState&&o()},n._config.timeoutInSec&&(i.timeout=1e3*n._config.timeoutInSec,i.ontimeout=function(){a.onError&&a.onError({type:"xhr",info:"Timeout after "+i.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:i})}),i.overrideMimeType("text/plain; charset=x-user-defined"),t&&this._setRequestHeader(i,"Range","bytes="+t[0]+"-"+t[1]),this._setRequestHeader(i,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),i.send(null)}},{key:"_setRequestHeader",value:function(e,t,a){0>n._config.disallowedXhrHeaders.indexOf(t.toLowerCase())&&e.setRequestHeader(t,a)}},{key:"_hasResponseHeader",value:function(e,t){if(!(e=e.getAllResponseHeaders()))return!1;e=e.split("\r\n");for(var n=[],a=0;a<e.length;a++)n[a]=e[a].split(":")[0].toLowerCase();return 0<=n.indexOf(t.toLowerCase())}},{key:"_getResponseHeader",value:function(e,t){return this._hasResponseHeader(e,t)?e.getResponseHeader(t):null}},{key:"getByteAt",value:function(e){return 255&this._fileData.getByteAt(e).charCodeAt(0)}},{key:"_isWebWorker",value:function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}},{key:"_createXHRObject",value:function(){if("undefined"==typeof window&&!this._isWebWorker())return new(e("xhr2").XMLHttpRequest);if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;throw Error("XMLHttpRequest is not supported")}}],[{key:"canReadFile",value:function(e){return"string"==typeof e&&/^[a-z]+:\/\//i.test(e)}},{key:"setConfig",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._config[t]=e[t]);for(e=this._config.disallowedXhrHeaders,t=0;t<e.length;t++)e[t]=e[t].toLowerCase()}}]),n}(),"_config",void 0),n._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30},t.exports=n},{"./ChunkedFileData":5,"./MediaFileReader":11,xhr2:2}],15:[function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x()(e,a.key,a)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n){return t in e?x()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=0>e.offset&&(-e.offset>t||0<e.offset+e.length);return!(0<=e.offset&&e.offset+e.length>=t||n)}e("./MediaFileReader");var c=e("./XhrFileReader"),d=e("./BlobFileReader"),u=e("./ArrayFileReader");e("./MediaTagReader");var p=e("./ID3v1TagReader"),h=e("./ID3v2TagReader"),f=e("./MP4TagReader"),m=e("./FLACTagReader"),y=[],v=[],g=function(){function e(t){i(this,e),s(this,"_file",void 0),s(this,"_tagsToRead",void 0),s(this,"_fileReader",void 0),s(this,"_tagReader",void 0),this._file=t}return r(e,[{key:"setTagsToRead",value:function(e){return this._tagsToRead=e,this}},{key:"setFileReader",value:function(e){return this._fileReader=e,this}},{key:"setTagReader",value:function(e){return this._tagReader=e,this}},{key:"read",value:function(e){var t=new(this._getFileReader())(this._file),n=this;t.init({onSuccess:function(){n._getTagReader(t,{onSuccess:function(a){new a(t).setTagsToRead(n._tagsToRead).read(e)},onError:e.onError})},onError:e.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var e=0;e<y.length;e++)if(y[e].canReadFile(this._file))return y[e];throw Error("No suitable file reader found for "+this._file)}},{key:"_getTagReader",value:function(e,t){if(this._tagReader){var n=this._tagReader;setTimeout(function(){t.onSuccess(n)},1)}else this._findTagReader(e,t)}},{key:"_findTagReader",value:function(e,t){for(var n=[],a=[],i=e.getSize(),o=0;o<v.length;o++){var r=v[o].getTagIdentifierByteRange();l(r,i)&&(0<=r.offset&&r.offset<i/2||0>r.offset&&r.offset<-i/2?n.push(v[o]):a.push(v[o]))}var s=!1;o={onSuccess:function(){if(s){for(var n=0;n<v.length;n++){var a=v[n].getTagIdentifierByteRange();if(l(a,i)){try{var o=e.getBytesAt(0<=a.offset?a.offset:a.offset+i,a.length)}catch(e){return void(t.onError&&t.onError({type:"fileReader",info:e.message}))}if(v[n].canReadTagFormat(o))return void t.onSuccess(v[n])}}t.onError&&t.onError({type:"tagFormat",info:"No suitable tag reader found"})}else s=!0},onError:t.onError},this._loadTagIdentifierRanges(e,n,o),this._loadTagIdentifierRanges(e,a,o)}},{key:"_loadTagIdentifierRanges",value:function(e,t,n){if(0===t.length)setTimeout(n.onSuccess,1);else{for(var a=[Number.MAX_VALUE,0],i=e.getSize(),o=0;o<t.length;o++){var r=t[o].getTagIdentifierByteRange(),s=0<=r.offset?r.offset:r.offset+i;r=s+r.length-1,a[0]=Math.min(s,a[0]),a[1]=Math.max(r,a[1])}e.loadRange(a,n)}}}]),e}();(n=function(){function e(){i(this,e)}return r(e,null,[{key:"addFileReader",value:function(t){return y.push(t),e}},{key:"addTagReader",value:function(t){return v.push(t),e}},{key:"removeTagReader",value:function(t){return 0<=(t=v.indexOf(t))&&v.splice(t,1),e}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){c.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(e){c.setConfig({disallowedXhrHeaders:e})}},{key:"setXhrTimeoutInSec",value:function(e){c.setConfig({timeoutInSec:e})}}]),e}()).addFileReader(c).addFileReader(d).addFileReader(u).addTagReader(h).addTagReader(p).addTagReader(f).addTagReader(m),void 0===a||a.browser||(e="undefined"!=typeof navigator&&"ReactNative"===navigator.product?e("./ReactNativeFileReader"):e("./NodeFileReader"),n.addFileReader(e)),t.exports={read:function(e,t){new g(e).read(t)},Reader:g,Config:n}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./FLACTagReader":6,"./ID3v1TagReader":7,"./ID3v2TagReader":9,"./MP4TagReader":10,"./MediaFileReader":11,"./MediaTagReader":12,"./NodeFileReader":1,"./ReactNativeFileReader":1,"./XhrFileReader":14}]},{},[15])(15)})}).call(t,n("DuR2"),n("EuP9").Buffer,n("W2nU"),n("f1Eh")(e))},LFj0:function(e,t){},MIAn:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW");a.default.directive("watch-height",{bind:function(e,t,n){},inserted:function(){},update:function(e,t,n){},componentUpdated:function(e,t,n,a){n.v_unbind_watch_height&&n.v_unbind_watch_height(),a.v_unbind_watch_height&&a.v_unbind_watch_height(),"function"==typeof t.value&&(n.v_watch_height=function(a){try{t.value(e.clientHeight,e.parentNode.clientHeight)}catch(e){console.error(err)}!0===a&&window.addEventListener("resize",n.v_watch_height,!1)},n.v_unbind_watch_height=function(){window.removeEventListener("resize",n.v_watch_height,!1),n.v_watch_height=void 0,n.v_unbind_watch_height=void 0},n.v_watch_height(!0))},unbind:function(e,t,n){n.v_unbind_watch_height&&n.v_unbind_watch_height()}}),a.default.component("right-click-menu",{props:["bindRef","menus"],data:function(){return{posX:0,posY:0,currentVisible:!1}},template:"\n\t<Dropdown :style='locatorStyle' placement='right-start' trigger='custom' :visible='currentVisible' @on-click='onClick' @on-clickoutside='handleCancel'>\n\t\t<Dropdown-Menu slot='list'>\n\t\t\t<Dropdown-Item v-for='(val, key) in menus' v-show='val.show' :name='key' :divided='val.divided'>\n\t\t\t<i v-if='val.icon' :class='val.icon' style='padding-right: 3px;'></i> <span style='vertical-align: middle;'>{{val.name}}</span>\n\t\t\t</Dropdown-Item>\n\t\t</Dropdown-Menu>\n\t</Dropdown>\n\t",computed:{locatorStyle:function(){return{position:"fixed",left:this.posX+"px",top:this.posY+"px",maxHeight:"unset",binddom:null}}},methods:{onClick:function(e){if(this.currentVisible=!1,this.menus[e]&&this.menus[e].handler)try{this.menus[e].handler(this.menus[e])}catch(e){console.error(e)}},handleContextmenu:function(e){var t=this;e.preventDefault(),e.stopPropagation(),e.returnValue=!1,2===e.button&&(this.currentVisible=!1,this.posX!==e.clientX&&(this.posX=e.clientX),this.posY!==e.clientY&&(this.posY=e.clientY),this.$nextTick(function(){t.currentVisible=!0}))},handleCancel:function(){this.currentVisible=!1},getRefNode:function(){if(!this.bindRef)return document;for(var e=this;!e.$refs[this.bindRef]&&(e=e.$parent););return e?e.$refs[this.bindRef].$el:{}}},mounted:function(){this.binddom=this.getRefNode(),this.binddom.addEventListener("contextmenu",this.handleContextmenu,!0),this.binddom.addEventListener("mouseup",this.handleCancel,!0)},destroyed:function(){try{this.currentVisible=!1,this.binddom.removeEventListener("contextmenu",this.handleContextmenu,!0),this.binddom.removeEventListener("mouseup",this.handleCancel,!0)}catch(e){}},watch:{}});var i=n("5H02"),o={name:"App",created:function(){i.a.setAPIHost("http://127.0.0.1:8080"),this.$nextTick(this.stopDrop)},methods:{stopDrop:function(){try{this.$el.ondrop=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragover=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragleave=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragenter=function(e){e.preventDefault(),e.stopPropagation()},this.$el.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()}}catch(e){console.error(e)}}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")(o,r,!1,function(e){n("Tt9T")},null,null).exports,c=n("/ocq"),d=n("OvRC"),u=n.n(d);!function(){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];var n=0;window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime();return f=Math.max(0,1-(t-n)),g=window.setTimeout(function(){e(t+f)},f),n=t+f,g}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(e,t){return e+(t-e)*Math.random()},Math.clamp=function(e,t,n){return e=Math.max(e,t),Math.min(e,n)};var p={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"};function h(e,t){if(document.createElement("canvas").getContext){var n,a,i,o,r,s,c,d=function(){c=new p.CanvasRenderer,u(T.renderer)},u=function(e){switch(a&&M.removeChild(a.element),e){case _:a=c}a.setSize(M.offsetWidth,M.offsetHeight),M.appendChild(a.element)},h=function(){i=new p.Scene},f=function(){var e,t;for(i.remove(o),a.clear(),r=new p.Plane(k.width*a.width,k.height*a.height,k.segments,k.slices),s=new p.Material(k.ambient,k.diffuse),o=new p.Mesh(r,s),i.add(o),e=r.vertices.length-1;e>=0;e--)(t=r.vertices[e]).anchor=p.Vector3.clone(t.position),t.step=p.Vector3.create(Math.randomInRange(.1,1),Math.randomInRange(.1,1),Math.randomInRange(.1,1)),t.time=Math.randomInRange(0,Math.PIM2)},m=function(){var e,t;for(e=i.lights.length-1;e>=0;e--)t=i.lights[e],i.remove(t);for(a.clear(),e=0;e<S.count;e++)(t=new p.Light(S.ambient,S.diffuse)).ambientHex=t.ambient.format(),t.diffuseHex=t.diffuse.format(),i.add(t),t.mass=Math.randomInRange(.5,1),t.velocity=p.Vector3.create(),t.acceleration=p.Vector3.create(),t.force=p.Vector3.create()},y=function(e,t){a.setSize(e,t),p.Vector3.set(C,a.halfWidth,a.halfHeight),f()},v=function e(){n=Date.now()-E,g(),b(),requestAnimationFrame(e)},g=function(){var e,t,a,o,s,l,c,d=k.depth/2;for(p.Vector3.copy(S.bounds,C),p.Vector3.multiplyScalar(S.bounds,S.xyScalar),p.Vector3.setZ(D,S.zOffset),o=i.lights.length-1;o>=0;o--){s=i.lights[o],p.Vector3.setZ(s.position,S.zOffset);var u=Math.clamp(p.Vector3.distanceSquared(s.position,D),S.minDistance,S.maxDistance),h=S.gravity*s.mass/u;p.Vector3.subtractVectors(s.force,D,s.position),p.Vector3.normalise(s.force),p.Vector3.multiplyScalar(s.force,h),p.Vector3.set(s.acceleration),p.Vector3.add(s.acceleration,s.force),p.Vector3.add(s.velocity,s.acceleration),p.Vector3.multiplyScalar(s.velocity,S.dampening),p.Vector3.limit(s.velocity,S.minLimit,S.maxLimit),p.Vector3.add(s.position,s.velocity)}for(l=r.vertices.length-1;l>=0;l--)c=r.vertices[l],e=Math.sin(c.time+c.step[0]*n*k.speed),t=Math.cos(c.time+c.step[1]*n*k.speed),a=Math.sin(c.time+c.step[2]*n*k.speed),p.Vector3.set(c.position,k.xRange*r.segmentWidth*e,k.yRange*r.sliceHeight*t,k.zRange*d*a-d),p.Vector3.add(c.position,c.anchor);r.dirty=!0},b=function(){a.render(i)},w=function(){window.addEventListener("resize",x)},x=function(e){y(M.offsetWidth,M.offsetHeight),b()},k={width:1.5,height:1.5,depth:10,segments:12,slices:6,xRange:.8,yRange:.1,zRange:1,ambient:"#6b6b6b",diffuse:"#A5A5A5",speed:1e-4},S={count:2,xyScalar:1,zOffset:100,ambient:"#039AE6",diffuse:"#039AE6",speed:.001,gravity:1200,dampening:.95,minLimit:10,maxLimit:null,minDistance:20,maxDistance:400,autopilot:!1,draw:!1,bounds:p.Vector3.create(),step:p.Vector3.create(Math.randomInRange(.1,1),Math.randomInRange(.1,1),Math.randomInRange(.1,1))},_="canvas",T={renderer:_},E=Date.now(),C=p.Vector3.create(),D=p.Vector3.create(),M=document.getElementById(e||"container");return d(),h(),f(),m(),w(),y(M.offsetWidth,M.offsetHeight),v(),function(e){var t,n,a=e;return{set:function(){!function(e){for(t=0,l=i.lights.length;t<l;t++)(n=i.lights[t]).ambient.set(e),n.ambientHex=n.ambient.format()}(a[0]),function(e){for(t=0,l=i.lights.length;t<l;t++)(n=i.lights[t]).diffuse.set(e),n.diffuseHex=n.diffuse.format()}(a[1])}}}}}p.Array="function"==typeof Float32Array?Float32Array:Array,p.Utils={isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},p.Vector3={create:function(e,t,n){var a=new p.Array(3);return this.set(a,e,t,n),a},clone:function(e){var t=this.create();return this.copy(t,e),t},set:function(e,t,n,a){return e[0]=t||0,e[1]=n||0,e[2]=a||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],this},addVectors:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],this},addScalar:function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,this},subtract:function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],this},subtractVectors:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],this},subtractScalar:function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,this},multiply:function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],this},multiplyVectors:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,this},divide:function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],this},divideVectors:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],this},divideScalar:function(e,t){return 0!==t?(e[0]/=t,e[1]/=t,e[2]/=t):(e[0]=0,e[1]=0,e[2]=0),this},cross:function(e,t){var n=e[0],a=e[1],i=e[2];return e[0]=a*t[2]-i*t[1],e[1]=i*t[0]-n*t[2],e[2]=n*t[1]-a*t[0],this},crossVectors:function(e,t,n){return e[0]=t[1]*n[2]-t[2]*n[1],e[1]=t[2]*n[0]-t[0]*n[2],e[2]=t[0]*n[1]-t[1]*n[0],this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),this},clamp:function(e,t,n){return this.min(e,t),this.max(e,n),this},limit:function(e,t,n){var a=this.length(e);return null!==t&&a<t?this.setLength(e,t):null!==n&&a>n&&this.setLength(e,n),this},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},normalise:function(e){return this.divideScalar(e,this.length(e))},negate:function(e){return this.multiplyScalar(e,-1)},distanceSquared:function(e,t){var n=e[0]-t[0],a=e[1]-t[1],i=e[2]-t[2];return n*n+a*a+i*i},distance:function(e,t){return Math.sqrt(this.distanceSquared(e,t))},lengthSquared:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},length:function(e){return Math.sqrt(this.lengthSquared(e))},setLength:function(e,t){var n=this.length(e);return 0!==n&&t!==n&&this.multiplyScalar(e,t/n),this}},p.Vector4={create:function(e,t,n){var a=new p.Array(4);return this.set(a,e,t,n),a},set:function(e,t,n,a,i){return e[0]=t||0,e[1]=n||0,e[2]=a||0,e[3]=i||0,this},setX:function(e,t){return e[0]=t||0,this},setY:function(e,t){return e[1]=t||0,this},setZ:function(e,t){return e[2]=t||0,this},setW:function(e,t){return e[3]=t||0,this},add:function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],this},multiplyVectors:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],this},multiplyScalar:function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,this},min:function(e,t){return e[0]<t&&(e[0]=t),e[1]<t&&(e[1]=t),e[2]<t&&(e[2]=t),e[3]<t&&(e[3]=t),this},max:function(e,t){return e[0]>t&&(e[0]=t),e[1]>t&&(e[1]=t),e[2]>t&&(e[2]=t),e[3]>t&&(e[3]=t),this},clamp:function(e,t,n){return this.min(e,t),this.max(e,n),this}},p.Color=function(e,t){this.rgba=p.Vector4.create(),this.hex=e||"#000000",this.opacity=p.Utils.isNumber(t)?t:1,this.set(this.hex,this.opacity)},p.Color.prototype={set:function(e,t){var n=(e=e.replace("#","")).length/3;return this.rgba[0]=parseInt(e.substring(0*n,1*n),16)/255,this.rgba[1]=parseInt(e.substring(1*n,2*n),16)/255,this.rgba[2]=parseInt(e.substring(2*n,3*n),16)/255,this.rgba[3]=p.Utils.isNumber(t)?t:this.rgba[3],this},hexify:function(e){return 1===(e=Math.ceil(255*e).toString(16)).length&&(e="0"+e),e},format:function(){var e=this.hexify(this.rgba[0]),t=this.hexify(this.rgba[1]),n=this.hexify(this.rgba[2]);return this.hex="#"+e+t+n}},p.Object=function(){this.position=p.Vector3.create()},p.Object.prototype={setPosition:function(e,t,n){return p.Vector3.set(this.position,e,t,n),this}},p.Light=function(e,t){p.Object.call(this),this.ambient=new p.Color(e||"#FFFFFF"),this.diffuse=new p.Color(t||"#FFFFFF"),this.ray=p.Vector3.create()},p.Light.prototype=u()(p.Object.prototype),p.Vertex=function(e,t,n){this.position=p.Vector3.create(e,t,n)},p.Vertex.prototype={setPosition:function(e,t,n){return p.Vector3.set(this.position,e,t,n),this}},p.Triangle=function(e,t,n){this.a=e||new p.Vertex,this.b=t||new p.Vertex,this.c=n||new p.Vertex,this.vertices=[this.a,this.b,this.c],this.u=p.Vector3.create(),this.v=p.Vector3.create(),this.centroid=p.Vector3.create(),this.normal=p.Vector3.create(),this.color=new p.Color,this.polygon=document.createElementNS(p.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},p.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],p.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return p.Vector3.subtractVectors(this.u,this.b.position,this.a.position),p.Vector3.subtractVectors(this.v,this.c.position,this.a.position),p.Vector3.crossVectors(this.normal,this.u,this.v),p.Vector3.normalise(this.normal),this}},p.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},p.Geometry.prototype={update:function(){if(this.dirty){var e,t;for(e=this.triangles.length-1;e>=0;e--)(t=this.triangles[e]).computeCentroid(),t.computeNormal();this.dirty=!1}return this}},p.Plane=function(e,t,n,a){p.Geometry.call(this),this.width=e||100,this.height=t||100,this.segments=n||4,this.slices=a||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var i,o,r,s,l;n=[];for(i=-.5*this.width,o=.5*this.height,e=0;e<=this.segments;e++)for(n.push([]),t=0;t<=this.slices;t++)a=new p.Vertex(i+e*this.segmentWidth,o-t*this.sliceHeight),n[e].push(a),this.vertices.push(a);for(e=0;e<this.segments;e++)for(t=0;t<this.slices;t++)a=n[e+0][t+0],i=n[e+0][t+1],o=n[e+1][t+0],r=n[e+1][t+1],s=new p.Triangle(a,i,o),l=new p.Triangle(o,i,r),this.triangles.push(s,l)},p.Plane.prototype=u()(p.Geometry.prototype),p.Material=function(e,t){this.ambient=new p.Color(e||"#444444"),this.diffuse=new p.Color(t||"#FFFFFF"),this.slave=new p.Color},p.Mesh=function(e,t){p.Object.call(this),this.geometry=e||new p.Geometry,this.material=t||new p.Material,this.side=p.FRONT,this.visible=!0},p.Mesh.prototype=u()(p.Object.prototype),p.Mesh.prototype.update=function(e,t){var n,a,i,o,r;if(this.geometry.update(),t)for(n=this.geometry.triangles.length-1;n>=0;n--){for(a=this.geometry.triangles[n],p.Vector4.set(a.color.rgba),i=e.length-1;i>=0;i--)o=e[i],p.Vector3.subtractVectors(o.ray,o.position,a.centroid),p.Vector3.normalise(o.ray),r=p.Vector3.dot(a.normal,o.ray),this.side===p.FRONT?r=Math.max(r,0):this.side===p.BACK?r=Math.abs(Math.min(r,0)):this.side===p.DOUBLE&&(r=Math.max(Math.abs(r),0)),p.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),p.Vector4.add(a.color.rgba,this.material.slave.rgba),p.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),p.Vector4.multiplyScalar(this.material.slave.rgba,r),p.Vector4.add(a.color.rgba,this.material.slave.rgba);p.Vector4.clamp(a.color.rgba,0,1)}return this},p.Scene=function(){this.meshes=[],this.lights=[]},p.Scene.prototype={add:function(e){return e instanceof p.Mesh&&!~this.meshes.indexOf(e)?this.meshes.push(e):e instanceof p.Light&&!~this.lights.indexOf(e)&&this.lights.push(e),this},remove:function(e){return e instanceof p.Mesh&&~this.meshes.indexOf(e)?this.meshes.splice(this.meshes.indexOf(e),1):e instanceof p.Light&&~this.lights.indexOf(e)&&this.lights.splice(this.lights.indexOf(e),1),this}},p.Renderer=function(){this.halfHeight=this.halfWidth=this.height=this.width=0},p.Renderer.prototype={setSize:function(e,t){if(this.width!==e||this.height!==t)return this.width=e,this.height=t,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this},clear:function(){return this},render:function(){return this}},p.CanvasRenderer=function(){p.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},p.CanvasRenderer.prototype=u()(p.Renderer.prototype),p.CanvasRenderer.prototype.setSize=function(e,t){return p.Renderer.prototype.setSize.call(this,e,t),this.element.width=e,this.element.height=t,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},p.CanvasRenderer.prototype.clear=function(){return p.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},p.CanvasRenderer.prototype.render=function(e){var t,n,a,i,o;for(p.Renderer.prototype.render.call(this,e),this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,t=e.meshes.length-1;t>=0;t--)if((n=e.meshes[t]).visible)for(n.update(e.lights,!0),a=n.geometry.triangles.length-1;a>=0;a--)o=(i=n.geometry.triangles[a]).color.format(),this.context.beginPath(),this.context.moveTo(i.a.position[0],i.a.position[1]),this.context.lineTo(i.b.position[0],i.b.position[1]),this.context.lineTo(i.c.position[0],i.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this};var m=n("mF0L"),y=n("//Fk"),v=n.n(y),b={$TYPES:{1:"",0:""},login:function(e,t){return new v.a(function(n,a){m.a.AjaxRequest({method:"POST",uri:i.a.buildAPIURL("/user/v1/checkpwd"),datas:{userid:e,pwd:t}}).do(function(e,t){if(4===e.readyState){var o=i.a.apiResponseFormat(e);200===o.code?n(o.data):a(o.data)}})})},logout:function(){return i.a.apiPost("/user/v1/logout")},queryuser:function(e){return i.a.apiGet("/user/v1/queryuser",{userid:e})},updateUserName:function(e,t){return i.a.apiPost("/user/v1/updateusername",{userid:e,username:t})},updateUserPwd:function(e,t){return i.a.apiPost("/user/v1/updateuserpwd",{userid:e,userpwd:t})},listAllUsers:function(e,t){return i.a.apiGet("/user/v1/listallusers",{})},addUser:function(e,t,n){return i.a.apiPost("/user/v1/adduser",{userid:e,username:t,userpwd:n||""})},delUser:function(e){return i.a.apiDelete("/user/v1/deluser",{userid:e})},sync:{updateUserName:function(e,t){return i.a.apiPostSync("/user/v1/updateusername",{userid:e,username:t})},updateUserPwd:function(e,t){return i.a.apiPostSync("/user/v1/updateuserpwd",{userid:e,userpwd:t})},delUser:function(e){return i.a.apiDeleteSync("/user/v1/deluser",{userid:e})}}};b.$TYPES.__proto__={parse:function(e){return b.$TYPES[e]?b.$TYPES[e]:""}};var w={name:"LogIn",data:function(){return{loading:!1,loginform_margin_top:100,loginform_margin_left:100,loginform:{user:"",password:""},message:",..."}},methods:{handleSubmit:function(){var e=this;m.a.supportES6()?(this.loading=!0,b.login(this.loginform.user,this.loginform.password).then(function(t){e.loading=!1,i.a.saveSession(t),e.$router.push("/main")}).catch(function(t){console.error(t),e.loading=!1,e.$Message.error("")})):alert(", : edge, chrome, firefox")},doAutoHeight:function(e){var t=this;this.$nextTick(function(){t.$refs["login-page"]&&t.$refs.loginwarp&&(t.loginform_margin_top=t.$refs["login-page"].clientHeight/2-t.$refs.loginwarp.clientHeight/2-50,t.loginform_margin_left=t.$refs["login-page"].clientWidth/2-t.$refs.loginwarp.clientWidth/2)}),e||window.addEventListener("resize",function(){t.doAutoHeight(!0)})},doRenderbg:function(){this.$nextTick(function(){h("bg")})}},created:function(){this.doAutoHeight(),this.doRenderbg()}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"login-page",staticClass:"page"},[n("div",[n("div",{ref:"loginwarp",staticClass:"login-warp",style:{"margin-top":e.loginform_margin_top+"px","margin-left":e.loginform_margin_left+"px"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}}},[n("Form",{attrs:{model:e.loginform}},[n("FormItem",[n("span",{staticStyle:{"font-size":"20px",color:"#666"}},[e._v("")])]),e._v(" "),n("FormItem",[n("i-input",{attrs:{type:"text",placeholder:""},model:{value:e.loginform.user,callback:function(t){e.$set(e.loginform,"user",t)},expression:"loginform.user"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("i-input",{attrs:{type:"password",placeholder:""},model:{value:e.loginform.password,callback:function(t){e.$set(e.loginform,"password",t)},expression:"loginform.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",[n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("")])],1)],1)],1)]),e._v(" "),n("div",{staticStyle:{width:"100%",height:"100%",position:"absolute",top:"0px"},attrs:{id:"bg"}})])},staticRenderFns:[]};var k=n("VU/8")(w,x,!1,function(e){n("YEr2")},"data-v-1a8ee678",null).exports,S={name:"Main",data:function(){return{loading:!0,currentMenu:"files",currentAccount:{userType:"",userName:""}}},methods:{onMenuSelected:function(e){this.$route.name!==e&&this.$router.push({name:e})},onDropdownClick:function(e){var t=this;"logout"==e&&b.logout().then(function(e){i.a.destroySession(),t.$router.push("/")}).catch(function(e){t.$Message.error(e.toString())})},doInitCurrentAccountInfo:function(){var e=this,t=i.a.getSession();t&&t.userID&&b.queryuser(t.userID).then(function(t){t&&e.$set(e,"currentAccount",t)}).catch(function(t){e.$Message.error(t.toString())})}},created:function(){this.currentMenu=this.$route.name,this.doInitCurrentAccountInfo()},watch:{$route:function(e,t){this.currentMenu=e.name}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"main-page",staticClass:"page"},[n("Layout",[n("Sider",{attrs:{width:"110"}},[n("div",{staticStyle:{padding:"8px","text-align":"center"}},[n("Dropdown",{attrs:{transfer:""},on:{"on-click":e.onDropdownClick}},[n("div",[n("Icon",{staticClass:"cs_p",style:{"font-size":"48px",color:"#c9ccd0"},attrs:{type:"md-flower"}}),e._v(" "),n("a",{staticClass:"d_block mg_b_5",staticStyle:{color:"rgb(201, 204, 208)","line-height":"20px"},attrs:{href:"javascript:void(0)"}},[e._v(e._s(e.currentAccount.userName))])],1),e._v(" "),n("Dropdown-Menu",{attrs:{slot:"list"},slot:"list"},[n("Dropdown-Item",{attrs:{name:"logout"}},[e._v("")])],1)],1)],1),e._v(" "),n("Menu",{attrs:{"active-name":e.currentMenu,theme:"dark",width:"auto"},on:{"on-select":e.onMenuSelected}},[n("Menu-Item",{attrs:{name:"files"}},[n("Icon",{attrs:{type:"ios-navigate"}}),e._v(" "),n("span",[e._v("")])],1),e._v(" "),n("Menu-Item",{attrs:{name:"settings"}},[n("Icon",{attrs:{type:"ios-settings"}}),e._v(" "),n("span",[e._v("")])],1)],1)],1),e._v(" "),n("Layout",[n("Content",{style:{background:"#fff",minHeight:"220px",height:"100%"}},[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var T=n("VU/8")(S,_,!1,function(e){n("CjfL")},"data-v-2777ce80",null).exports,E=n("dzvC"),C=n("/u7W"),D={name:"uploadfile",props:["show-drawer","parent","drag-ref"],data:function(){return{isShowDrawer:!1,maxuploading:5,countuploading:0,dindex:0,files:[],queueend:!0}},methods:{doSelectFiels:function(e){var t=this,n=!1;m.a.addEvent(this.$refs.upload_selector_file,"change",function(e){if(e.target.files)for(var a=0;a<e.target.files.length;a++){var i=e.target.files[a];i._upload={base:t.parent,index:t.files.length,updater:!1,ps:0},n||(n=!0,t.$emit("on-start")),t.files.push(i),t.doStartUpload()}t.$refs.upload_selector_file.value=""},{once:!0}),m.a.triggerMouseEvent(this.$refs.upload_selector_file,"click")},doStartUpload:function(){var e=this;if(this.files&&this.files.length>0){if(this.countuploading>=this.maxuploading)return;if(this.dindex>=this.files.length)return void(this.queueend=!0);this.queueend&&(this.queueend=!1),this.countuploading++;var t=this.files[this.dindex++];if(t._upload.removed)return this.countuploading--,void this.$nextTick(this.doStartUpload);var n={form:{},header:{},progress:function(n){t._upload.ps=Math.round(n.loaded/n.total*1e3)/10,e.$set(e.files,t._upload.index,t)},error:function(n){t._upload.err=n?n.toString():"",e.$set(e.files,t._upload.index,t)},abort:function(n){t._upload.err="",e.$set(e.files,t._upload.index,t)},loadstart:function(e){},loadend:function(n){e.countuploading--,t._upload.ended=!0,e.$nextTick(function(){e.doStartUpload()})}};t._upload.started=!0,C.a.GetUploadUrl(t._upload.base+"/"+t.name).then(function(e){t._upload.updater=m.a.uploadByFormData(e,t,n),t._upload.updater.start()}).catch(function(e){console.error(e),n.error(e),n.loadend()})}},removeTask:function(e){var t=this.files[e];t&&(!t._upload.ended&&t._upload.started&&t._upload.updater.abort(),t._upload.removed=!0,this.$set(this.files,e,t))},doListenDrag:function(e){var t=this;this.$nextTick(function(){var n=void 0;e&&(t.$refs[e]?n=t.$refs[e]:t.$parent&&t.$parent.$refs&&(n=t.$parent.$refs[e])),n&&(n.ondrop=function(e){e.preventDefault();for(var n=!1,a=e.dataTransfer.files,i=0;i<a.length;i++){var o=a[i];(o.type||0!=o.size)&&(o._upload={base:t.parent,index:t.files.length,updater:!1,ps:0},n||(n=!0,t.$emit("on-start")),t.files.push(o),t.doStartUpload())}})})},stopDrop:function(){try{this.$el.ondrop=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragover=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragleave=function(e){e.preventDefault(),e.stopPropagation()},this.$el.ondragenter=function(e){e.preventDefault(),e.stopPropagation()},this.$el.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()}}catch(e){console.error(e)}}},created:function(){var e=this;this.$nextTick(function(){e.stopDrop(),e.doListenDrag("uploadDrag"),e.doListenDrag(e.dragRef)})},watch:{countuploading:function(e){e<=0&&this.dindex>=this.files.length&&this.$emit("on-end")},showDrawer:function(e){this.isShowDrawer=e}}},M={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Drawer",{attrs:{title:"",width:"450px"},on:{"on-close":function(t){return e.$emit("on-close")}},model:{value:e.isShowDrawer,callback:function(t){e.isShowDrawer=t},expression:"isShowDrawer"}},[n("div",{staticClass:"ivu-upload"},[n("div",{ref:"uploadDrag",staticClass:"ivu-upload ivu-upload-drag",on:{click:e.doSelectFiels}},[n("input",{ref:"upload_selector_file",staticClass:"ivu-upload-input",attrs:{type:"file",multiple:"multiple"}}),e._v(" "),n("div",{staticStyle:{padding:"20px 0px"}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-cloud-upload",staticStyle:{"font-size":"52px",color:"rgb(51, 153, 255)"}}),e._v(" "),n("p",[e._v("")])])]),e._v(" "),n("ul",{staticClass:"ivu-upload-list"},e._l(e.files,function(t,a){return t._upload.removed?e._e():n("li",{key:a,staticClass:"ivu-upload-list-file"},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("i",{staticClass:"ivu-icon ivu-icon-ios-close ivu-upload-list-remove",on:{click:function(n){return e.removeTask(t._upload.index)}}}),e._v(" "),n("div",{staticClass:"ivu-progress ivu-progress-normal ivu-progress-show-info"},[n("div",{staticClass:"ivu-progress-outer"},[n("div",{staticClass:"ivu-progress-inner"},[!t._upload.ps||t._upload.ps<100?n("div",{staticClass:"ivu-progress-bg",style:{width:(t._upload.ps?t._upload.ps:0)+"%",height:"2px"}}):n("div",{staticClass:"ivu-progress-success-bg",staticStyle:{width:"100%",height:"2px"}})])]),e._v(" "),n("span",{staticClass:"ivu-progress-text"},[n("span",{staticClass:"ivu-progress-text-inner",style:{color:t._upload.err?"#b42525":"#515a6e"}},[e._v(e._s(t._upload.err?t._upload.err:t._upload.ps+"%"))])])])])}),0)])])},staticRenderFns:[]};var P=n("VU/8")(D,M,!1,function(e){n("bMA1")},"data-v-51afdfed",null).exports,A={name:"copyfile",props:{showDailog:{type:Boolean,default:!1},srcPaths:{type:Array,default:function(){return[]}},destPath:{type:String,default:"/"},copySettings:{type:Object,default:function(){return{ignore:!1,replace:!1,width:450}}}},data:function(){return{isShowDailog:!1,operations:{stop:"discontinue",ignore:"ignore",ignoreall:"ignoreall",replace:"replace",replaceall:"replaceall"},operationData:{multiCount:0,opCount:0,token:"",srcPaths:[],destPath:"",nowSrcPath:"",nowDstPath:""},copyError:{IsError:!1,Error:"",IsExist:!1}}},methods:{doCopy:function(){var e=this;if(this.operationData.srcPaths&&this.operationData.srcPaths.length>0){var t=this.operationData.srcPaths[this.operationData.srcPaths.length-1],n=this.operationData.destPath+"/"+t.path.getName().parsePath();C.a.CopyAsync(t.path,n,this.copySettings.replace,this.copySettings.ignore).then(function(t){e.operationData.srcPaths.length>1?e.operationData.srcPaths=e.operationData.srcPaths.slice(0,e.operationData.srcPaths.length-1):e.operationData.srcPaths=[],e.operationData.token=t}).catch(function(t){e.$Message.error(t.toString()),e.$emit("on-error")})}},doRefreshPs:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("CopyFile",this.operationData.token).then(function(t){if(t.CountIndex>0&&(e.operationData.opCount=t.CountIndex),t.IsComplete)return e.operationData.token="",void(t.IsDiscontinue?(e.isShowDailog=!1,e.$Message.error(""),e.$emit("on-stop")):e.operationData.srcPaths&&0!=e.operationData.srcPaths.length?(e.operationData.multiCount+=e.operationData.opCount,e.doCopy()):(e.isShowDailog=!1,t.ErrorString&&t.ErrorString.length>0?e.$Message.error(t.ErrorString):e.$Message.success(""),e.$emit("on-end")));e.operationData.nowSrcPath=t.Src,e.operationData.nowDstPath=t.Dst,e.copyError.IsError=!!(t.ErrorString&&t.ErrorString.length>0),e.copyError.Error=e.parseError(t),e.copyError.IsExist=t.IsDstExist,setTimeout(function(){e.doRefreshPs()},100)}).catch(function(t){e.$Message.error(t.toString())})},doStop:function(){var e=this;this.operationData.token&&this.operationData.token.length>0&&C.a.AsyncExecToken("CopyFile",this.operationData.token,{operation:this.operations.stop}).then(function(t){e.operationData.opCount=0,e.operationData.multiCount=0,e.operationData.srcPaths=[],e.operationData.destPath=[]}).catch(function(t){e.$Message.error(t.toString())})},doIgnore:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("CopyFile",this.operationData.token,{operation:this.copySettings.ignore?this.operations.ignoreall:this.operations.ignore}).then(function(e){}).catch(function(t){e.$Message.error(t.toString())})},doReplace:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("CopyFile",this.operationData.token,{operation:this.copySettings.replace?this.operations.replaceall:this.operations.replace}).then(function(e){}).catch(function(t){e.$Message.error(t.toString())})},parseError:function(e){return e&&e.ErrorString?e.IsDstExist?": "+e.Dst:e.IsSrcExist?e.ErrorString:": "+e.Src:""}},watch:{"operationData.token":function(e,t){e&&""!=e&&this.doRefreshPs()},showDailog:function(e,t){e&&(this.copyError.IsError=!1,this.copyError.Error="",this.copyError.IsExist=!1,this.copySettings.ignore=!1,this.copySettings.replace=!1,this.operationData.opCount=0,this.operationData.multiCount=0,this.operationData.showDailog=e,this.operationData.srcPaths=this.srcPaths,this.operationData.destPath=this.destPath,this.doCopy()),this.isShowDailog=e}}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{closable:!1,"mask-closable":!1,width:e.copySettings.width},model:{value:e.isShowDailog,callback:function(t){e.isShowDailog=t},expression:"isShowDailog"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("span",[e._v("")])]),e._v(" "),n("div",{staticStyle:{"text-align":"left"}},[n("div",[n("table",[n("tr",[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.multiCount+e.operationData.opCount))])]),e._v(" "),n("tr",[n("td",{attrs:{width:"30%"}},[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.nowSrcPath))])]),e._v(" "),n("tr",[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.nowDstPath))])]),e._v(" "),n("tr",{directives:[{name:"show",rawName:"v-show",value:e.copyError.IsError,expression:"copyError.IsError"}]},[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.copyError.Error))])])])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.copyError.IsError,expression:"copyError.IsError"}]},[n("Button",{style:{margin:"5px 2px"},attrs:{long:""},on:{click:e.doIgnore}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.copyError.IsExist,expression:"copyError.IsExist"}],style:{margin:"5px 2px"},attrs:{long:""},on:{click:e.doReplace}},[e._v("")]),e._v(" "),n("div",{staticStyle:{margin:"8px 0px",color:"#57a3f3"}},[n("Checkbox",{model:{value:e.copySettings.ignore,callback:function(t){e.$set(e.copySettings,"ignore",t)},expression:"copySettings.ignore"}},[e._v("")]),e._v(" "),n("Checkbox",{directives:[{name:"show",rawName:"v-show",value:e.copyError.IsExist,expression:"copyError.IsExist"}],model:{value:e.copySettings.replace,callback:function(t){e.$set(e.copySettings,"replace",t)},expression:"copySettings.replace"}},[e._v("")])],1)],1),e._v(" "),n("Button",{style:{margin:"5px 2px"},attrs:{type:"error",long:""},on:{click:e.doStop}},[e._v("")])],1)])},staticRenderFns:[]};var F=n("VU/8")(A,L,!1,function(e){n("YjBe")},"data-v-ec9c6bda",null).exports,R={name:"movefile",props:{showDailog:{type:Boolean,default:!1},srcPaths:{type:Array,default:function(){return[]}},destPath:{type:String,default:"/"},moveSettings:{type:Object,default:function(){return{ignore:!1,replace:!1,width:450}}}},data:function(){return{isShowDailog:!1,operations:{stop:"discontinue",ignore:"ignore",ignoreall:"ignoreall",replace:"replace",replaceall:"replaceall"},operationData:{multiCount:0,opCount:0,token:"",srcPaths:[],destPath:"",nowSrcPath:"",nowDstPath:""},moveError:{IsError:!1,Error:"",IsExist:!1}}},created:function(){},methods:{doMove:function(){var e=this;if(this.operationData.srcPaths&&this.operationData.srcPaths.length>0){var t=this.operationData.srcPaths[this.operationData.srcPaths.length-1],n=this.operationData.destPath+"/"+t.path.getName().parsePath();C.a.MoveAsync(t.path,n,this.moveSettings.replace,this.moveSettings.ignore).then(function(t){e.operationData.srcPaths.length>1?e.operationData.srcPaths=e.operationData.srcPaths.slice(0,e.operationData.srcPaths.length-1):e.operationData.srcPaths=[],e.operationData.token=t}).catch(function(t){e.$Message.error(t.toString()),e.$emit("on-error")})}},doRefreshPs:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("MoveFile",this.operationData.token).then(function(t){if(t.CountIndex>0&&(e.operationData.opCount=t.CountIndex),t.IsComplete)return e.operationData.token="",void(t.IsDiscontinue?(e.isShowDailog=!1,e.$Message.error(""),e.$emit("on-stop")):e.operationData.srcPaths&&0!=e.operationData.srcPaths.length?(e.operationData.multiCount+=e.operationData.opCount,e.doMove()):(e.isShowDailog=!1,t.ErrorString&&t.ErrorString.length>0?e.$Message.error(t.ErrorString):e.$Message.success(""),e.$emit("on-end")));e.operationData.nowSrcPath=t.Src,e.operationData.nowDstPath=t.Dst,e.moveError.IsError=!!(t.ErrorString&&t.ErrorString.length>0),e.moveError.Error=e.parseError(t),e.moveError.IsExist=t.IsDstExist,setTimeout(function(){e.doRefreshPs()},100)}).catch(function(t){e.$Message.error(t.toString())})},doStop:function(){var e=this;this.operationData.token&&this.operationData.token.length>0&&C.a.AsyncExecToken("MoveFile",this.operationData.token,{operation:this.operations.stop}).then(function(t){e.operationData.opCount=0,e.operationData.multiCount=0,e.operationData.srcPaths=[],e.operationData.destPath=[]}).catch(function(t){e.$Message.error(t.toString())})},doIgnore:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("MoveFile",this.operationData.token,{operation:this.moveSettings.ignore?this.operations.ignoreall:this.operations.ignore}).then(function(e){}).catch(function(t){e.$Message.error(t.toString())})},doReplace:function(){var e=this;this.operationData.token&&""!=this.operationData.token&&C.a.AsyncExecToken("MoveFile",this.operationData.token,{operation:this.moveSettings.replace?this.operations.replaceall:this.operations.replace}).then(function(e){}).catch(function(t){e.$Message.error(t.toString())})},parseError:function(e){return e&&e.ErrorString?e.IsDstExist?": "+e.Dst:e.IsSrcExist?e.ErrorString:": "+e.Src:""}},watch:{"operationData.token":function(e,t){e&&""!=e&&this.doRefreshPs()},showDailog:function(e,t){e&&(this.moveError.IsError=!1,this.moveError.Error="",this.moveError.IsExist=!1,this.moveSettings.ignore=!1,this.moveSettings.replace=!1,this.operationData.opCount=0,this.operationData.multiCount=0,this.operationData.showDailog=e,this.operationData.srcPaths=this.srcPaths,this.operationData.destPath=this.destPath,this.doMove()),this.isShowDailog=e}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{closable:!1,"mask-closable":!1,width:e.moveSettings.width},model:{value:e.isShowDailog,callback:function(t){e.isShowDailog=t},expression:"isShowDailog"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("span",[e._v("")])]),e._v(" "),n("div",{staticStyle:{"text-align":"left"}},[n("div",[n("table",[n("tr",[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.multiCount+e.operationData.opCount))])]),e._v(" "),n("tr",[n("td",{attrs:{width:"30%"}},[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.nowSrcPath))])]),e._v(" "),n("tr",[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.operationData.nowDstPath))])]),e._v(" "),n("tr",{directives:[{name:"show",rawName:"v-show",value:e.moveError.IsError,expression:"moveError.IsError"}]},[n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.moveError.Error))])])])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.moveError.IsError,expression:"moveError.IsError"}]},[n("Button",{style:{margin:"5px 2px"},attrs:{long:""},on:{click:e.doIgnore}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.moveError.IsExist,expression:"moveError.IsExist"}],style:{margin:"5px 2px"},attrs:{long:""},on:{click:e.doReplace}},[e._v("")]),e._v(" "),n("div",{staticStyle:{margin:"8px 0px",color:"#57a3f3"}},[n("Checkbox",{model:{value:e.moveSettings.ignore,callback:function(t){e.$set(e.moveSettings,"ignore",t)},expression:"moveSettings.ignore"}},[e._v("")]),e._v(" "),n("Checkbox",{directives:[{name:"show",rawName:"v-show",value:e.moveError.IsExist,expression:"moveError.IsExist"}],model:{value:e.moveSettings.replace,callback:function(t){e.$set(e.moveSettings,"replace",t)},expression:"moveSettings.replace"}},[e._v("")])],1)],1),e._v(" "),n("Button",{style:{margin:"5px 2px"},attrs:{type:"error",long:""},on:{click:e.doStop}},[e._v("")])],1)])},staticRenderFns:[]};var I=n("VU/8")(R,B,!1,function(e){n("h4ME")},"data-v-5e0c9b54",null).exports,O=n("rIwW"),q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:e.selectFile?"":"",width:e.fsSettings.width},on:{"on-ok":e.onOk,"on-cancel":e.onCancel},model:{value:e.isShowDailog,callback:function(t){e.isShowDailog=t},expression:"isShowDailog"}},[n("div",{staticStyle:{height:"30px","line-height":"30px","padding-left":"5px"}},[e.fsStatus.loadedPath&&e.fsStatus.loadedPath.length>0?n("fileAdress",{attrs:{depth:4,rootname:e.fsSettings.rootname,path:e.fsStatus.loadedPath},on:{click:e.goToPath}}):e._e()],1),e._v(" "),n("Table",{attrs:{loading:e.fsStatus.fsLoading,columns:e.fsColumns,data:e.fsData,height:e.fsSettings.height},on:{"on-row-click":e.onRowClick,"on-selection-change":e.onSelectionChange}})],1)},staticRenderFns:[]};var z=function(e){n("LFj0")},H=n("VU/8")(O.a,q,!1,z,"data-v-9b1cb1a6",null).exports,N=n("eijq"),$=n("mvHQ"),U=n.n($),j={$TYPE:{VISIBLECHILD:{name:"",value:0},VISIBLE:{name:"",value:1},READ:{name:"",value:2},WRITE:{name:"",value:3}},listFPermissions:function(){return i.a.apiGet("/filepms/v1/listfpermissions",{})},GetUserPermissionSum:function(e,t){return i.a.apiPost("/filepms/v1/getuserpermissionsum",{userid:e||"",paths:t?U()(t):""})},listUserFPermissions:function(e){return i.a.apiGet("/filepms/v1/listuserfpermissions",{userid:e||""})},addFPermission:function(e,t,n){return i.a.apiPost("/filepms/v1/addfpermission",{userid:e||"",path:t||"",permission:n||""})},delFPermission:function(e){return i.a.apiDelete("/filepms/v1/delfpermission",{permissionid:e||""})},updateFPermission:function(e,t){return i.a.apiPost("/filepms/v1/updatefpermission",{permissionid:e||"",permission:t||""})},sync:{delFPermission:function(e){return i.a.apiDeleteSync("/filepms/v1/delfpermission",{permissionid:e||""})}}};j.$TYPE.__proto__={sumInclude:function(e,t){return e=Number(e),t=Number(t),!(void 0==e||e<0||void 0==t||t<0)&&1<<t==(e&1<<t)},sum2Name:function(e){var t=[];if(void 0!=e&&e>0)for(var n in j.$TYPE)n!=j.$TYPE.VISIBLECHILD.name&&j.$TYPE.hasOwnProperty(n)&&j.$TYPE.sumInclude(e,j.$TYPE[n].value)&&t.push(j.$TYPE[n].name);return 0==t.length&&j.$TYPE.sumInclude(e,j.$TYPE.VISIBLECHILD.value)&&t.push(j.$TYPE.VISIBLECHILD.name),t},list2Sum:function(e){var t=-1;if(e&&e.length>0)for(var n=0;n<e.length;n++)t+=1<<Number(e[n]);return t}};var W={supported:{audio:["mp3","flac"],video:["mp4","mov"],picture:["png","gif","jpg","bmp","jpeg","icon"]},askToken:function(e){return i.a.apiGet("/filepreview/v1/asktoken",{path:e||""})},status:function(e){return i.a.apiGet("/filepreview/v1/status/"+e)},samedirFiles:function(e){return i.a.apiGet("/filepreview/v1/samedirfiles/"+e)},buildStreamURL:function(e,t){return i.a.buildAPIURL("/filepreview/v1/stream/"+e+"?fileName="+encodeURI(t||""))},doPreview:function(e,t){return new v.a(function(n,a){W.askToken(e).then(function(a){W.openPreview(a,t?t.toLowerCase():e.getSuffixed(!1).toLowerCase()),n()}).catch(a)})},openPreview:function(e,t){var n="";if(W.isSupport("audio",t))n="audio";else if(W.isSupport("video",t))n="video";else{if(!W.isSupport("picture",t))throw"";n="picture"}window.open("#/preview/"+n+"?token="+e)},isSupport:function(e,t){return t=t.toLowerCase(),e&&t&&W.supported[e]&&W.supported[e].indexOf(t)>-1}},V={name:"FileList",components:{fileAddress:E.a,uploadfile:P,copyfile:F,movefile:I,fileSelector:H,fileicon:N.a},data:function(){var e=this;return{tableHeight:500,searchText:"",fsCopyFile:{showDailog:!1,srcPaths:[],destPath:"",copySettings:{ignore:!1,replace:!1}},fsMoveFile:{showDailog:!1,srcPaths:[],destPath:"",moveSettings:{ignore:!1,replace:!1}},fsSelector:{operationObj:!1,showDailog:!1,selectFile:!0,selectDir:!0,selectMuti:!0,startPath:"/"},fsAddress:{rootPath:"/",rootname:"",loadPath:""},fsUpload:{showDrawer:!1},loading:!1,fsColumns:[{type:"selection",width:60,align:"center"},{title:"",key:"path",render:function(t,n){return t(N.a,{props:{node:n.row,editMode:!!n.row.showRename},on:{click:e.doOpen,rename:function(t,a){e.onRenameAfter(n.index,n.row,a)}}})}},{title:"",key:"mtime",maxWidth:160,render:function(e,t){return e("span",m.a.long2Time(t.row.mtime))}},{title:"",key:"size",maxWidth:160,render:function(e,t){if(t.row.isFile)return e("span",m.a.formatSize(t.row.size));e("span","")}},{title:"",key:"PermissionText",maxWidth:280}],fsData:[],fsData_All:[],fsData_Total:0,fsData_PageSize:40,fsData_CurrentPageIndex:1,permissionsMap:{},fsOperationButtons:{refresh:{name:"",show:!0,handler:function(){e.doRefresh()},icon:"ivu-icon ivu-icon-md-refresh-circle",divided:!1},upload:{name:"",show:!1,handler:function(){e.fsUpload.showDrawer=!0},icon:"ivu-icon ivu-icon-md-cloud-upload",divided:!1},newFolder:{name:"",show:!1,handler:function(){e.onNewFolder()},icon:"ivu-icon ivu-icon-md-add-circle",divided:!1},download:{name:"",show:!1,handler:function(){e.doDownload()},icon:"ivu-icon ivu-icon-md-download",divided:!1},rename:{name:"",show:!1,handler:function(){e.onRename()},icon:"ivu-icon ivu-icon-ios-create",divided:!1},move:{name:"",show:!1,handler:function(){e.doMove()},icon:"ivu-icon ivu-icon-md-move",divided:!1},copy:{name:"",show:!1,handler:function(){e.doCopy()},icon:"ivu-icon ivu-icon-ios-copy",divided:!1},delete:{name:"",show:!1,handler:function(){e.onDelete()},icon:"ivu-icon ivu-icon-md-trash",divided:!1}}}},computed:{},methods:{doRefresh:function(){this.doLoadData(this.fsAddress.loadPath)},doLoadData:function(e){var t=this;this.loading||(this.loading=!0,this.onSelectionChange([],{}),this.fsData_All=[],this.fsData=[],C.a.List(e).then(function(e){t.fsData_All=e,t.fsData_CurrentPageIndex=1,t.loadDatePage()}).catch(function(e){console.error(e),t.loading=!1,t.$Message.error(e.toString())}))},loadDatePage:function(e){var t=[];if(this.searchText)for(var n=this.searchText.toLowerCase(),a=0;a<this.fsData_All.length;a++)this.fsData_All[a].path.getName().toLowerCase().indexOf(n)>-1&&t.push(this.fsData_All[a]);else t=this.fsData_All;this.fsData_Total=t.length,this.fsData_CurrentPageIndex=e||1;var i=this.fsData_CurrentPageIndex*this.fsData_PageSize,o=(this.fsData_CurrentPageIndex-1)*this.fsData_PageSize,r=t.slice(o>0?o:0,i);this.doWarpPermission(r)},doWarpPermission:function(e){var t=this;this.permissionsMap={};var n=[this.fsAddress.loadPath];e.forEach(function(e){n.push(e.path)}),j.GetUserPermissionSum(i.a.getSession().userID,n).then(function(n){t.permissionsMap=n||{};for(var a=0;a<e.length;a++)e[a].Permission=void 0!=t.permissionsMap[e[a].path]?t.permissionsMap[e[a].path]:-1,e[a].PermissionText=j.$TYPE.sum2Name(e[a].Permission).join(", ");t.fsData=e,t.onSelectionChange(),t.loading=!1}).catch(function(e){t.loading=!1,t.$Message.error(e.toString())})},doRename:function(e,t,n){var a=this;t.showRename=!1,this.$set(this.fsData,e,t),n&&t.path.getName()!=n&&C.a.Rename(t.path,n).then(function(){a.$Message.info(""),a.doRefresh()}).catch(function(e){a.$Message.error(": "+e.toString()),a.doRefresh()})},doNewFolder:function(e,t,n){var a=this;n?C.a.NewFolder(this.fsAddress.loadPath+"/"+n).then(function(){a.$Message.info(""),a.doRefresh()}).catch(function(e){a.$Message.error(": "+e.toString()),a.doRefresh()}):this.doRefresh()},onDelete:function(){var e=this;this.$Modal.confirm({title:"",content:", ?",onOk:function(){e.doDelete()}})},doDelete:function(){var e=this,t=this.$refs.fsSelection.getSelection();if(t&&0!=t.length){var n=this.$Message.loading({content:"...",duration:0}),a=[];!function i(o){if(o||(o=0),o==t.length)return n(),e.doRefresh(),void(a&&a.length>0&&e.$Message.error({content:a.join("</br>"),duration:5}));C.a.Delete(t[o].path).then(function(){setTimeout(function(){i(++o)})}).catch(function(e){a.push(t[o].path+": "+e),i(++o)})}(0)}},doCopy:function(){this.fsCopyFile.srcPaths=this.$refs.fsSelection.getSelection(),this.fsSelector.operationObj=this.fsCopyFile,this.fsSelector.selectFile=!1,this.fsSelector.selectDir=!0,this.fsSelector.selectMuti=!1,this.fsSelector.startPath=this.fsAddress.loadPath,this.fsSelector.showDailog=!0},doMove:function(){this.fsMoveFile.srcPaths=this.$refs.fsSelection.getSelection(),this.fsSelector.operationObj=this.fsMoveFile,this.fsSelector.selectFile=!1,this.fsSelector.selectDir=!0,this.fsSelector.selectMuti=!1,this.fsSelector.startPath=this.fsAddress.loadPath,this.fsSelector.showDailog=!0},doDownload:function(){var e=this,t=this.$refs.fsSelection.getSelection();if(t&&0!=t.length)for(var n=function(n){if(!t[n].isFile)return"continue";C.a.GetDownloadUrl(t[n].path).then(function(t){e.$nextTick(function(){var e=document.createElement("iframe");e.src=t,document.body.appendChild(e)})}).catch(function(a){e.$Message.error(": "+t[n].path+", "+a.toString())})},a=t.length-1;a>=0;a--)n(a)},onRename:function(){var e=this.$refs.fsSelection.getSelection();if(e&&0!=e.length){e[0].showRename=!0;for(var t=0;t<this.fsData.length;t++)this.fsData[t].path==e[0].path&&this.$set(this.fsData,t,e[0])}},doOpen:function(e){var t=this;e.isFile?W.doPreview(e.path).catch(function(n){C.a.GetSteamUrl(e.path).then(function(e){t.$nextTick(function(){window.open(e)})}).catch(function(n){t.$Message.error(": "+e.path+", "+n.toString())})}):this.goToPath(e.path)},onRenameAfter:function(e,t,n){t.IsNewFolder?this.doNewFolder(e,t,n):this.doRename(e,t,n)},onNewFolder:function(){var e=this.fsData;e.unshift({path:"",isFile:!1,IsNewFolder:!0,showRename:!0}),this.$set(this,"fsData",e)},onSelectedFile:function(e){this.fsSelector.showDailog=!1,e&&e[0]&&e[0].path&&e[0].path.length>0&&this.fsSelector.operationObj&&(this.fsSelector.operationObj.destPath=e[0].path,this.fsSelector.operationObj.showDailog=!0)},onSelectCancel:function(){this.fsSelector.showDailog=!1},onHiddenCopy:function(){this.fsCopyFile.showDailog=!1},onHiddenMove:function(){this.fsMoveFile.showDailog=!1,this.doRefresh()},goToPath:function(e){this.fsAddress.loadPath!=e?this.fsAddress.loadPath=e:this.doLoadData(e)},onRowClick:function(e,t){for(var n=0;n<this.fsData.length;n++)this.fsData[n]._checked&&t!=n&&this.$set(this.fsData[n],"_checked",!1);this.$set(this.fsData[t],"_checked",!0),this.onSelectionChange([e],e)},onSelectionChange:function(e,t){this.fsOperationButtons.upload.show=!1,this.fsOperationButtons.newFolder.show=!1,this.fsOperationButtons.download.show=!1,this.fsOperationButtons.rename.show=!1,this.fsOperationButtons.delete.show=!1,this.fsOperationButtons.move.show=!1,this.fsOperationButtons.copy.show=!1;var n=e?e.length:0;if(void 0!=this.permissionsMap[this.fsAddress.loadPath]&&j.$TYPE.sumInclude(this.permissionsMap[this.fsAddress.loadPath],j.$TYPE.WRITE.value)&&(this.fsOperationButtons.upload.show=!0,this.fsOperationButtons.newFolder.show=!0),n>=1){for(var a=!1,i=0,o=0;o<e.length;o++)if(e[o].isFile&&i++,!(a=j.$TYPE.sumInclude(e[o].Permission,j.$TYPE.READ.value))){a=!1;break}a&&(this.fsOperationButtons.download.show=i==e.length,this.fsOperationButtons.copy.show=!0);for(var r=!1,s=0;s<e.length;s++)if(!(r=j.$TYPE.sumInclude(e[s].Permission,j.$TYPE.WRITE.value))){r=!1;break}r&&(this.fsOperationButtons.rename.show=1==n,this.fsOperationButtons.move.show=!0,this.fsOperationButtons.delete.show=!0)}},initAreaCover:function(){var e=this;this.$nextTick(function(){m.a.areaCover({background:e.$refs.fsSelection.$el,coverfilter:".ivu-table-row",onCover:function(e){e.querySelector(".ivu-checkbox-input").checked||e.querySelector(".ivu-checkbox-input").click()},onUnCover:function(e){e.querySelector(".ivu-checkbox-input").checked&&e.querySelector(".ivu-checkbox-input").click()}})})}},mounted:function(){},created:function(){this.initAreaCover(),this.goToPath(this.$route.query.path||this.fsAddress.rootPath)},watch:{"fsAddress.loadPath":function(e,t){this.doLoadData(e)}}},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"filelist-page",staticClass:"page"},[n("div",{ref:"fslist-body",staticClass:"file-list",staticStyle:{height:"100%"}},[n("div",{staticStyle:{padding:"5px 20px 5px 5px","border-bottom":"1px solid #dcdee2"}},[n("div",[n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.refresh.show,expression:"fsOperationButtons.refresh.show"}],attrs:{type:"text",icon:e.fsOperationButtons.refresh.icon},on:{click:e.fsOperationButtons.refresh.handler}},[e._v(e._s(e.fsOperationButtons.refresh.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.upload.show,expression:"fsOperationButtons.upload.show"}],attrs:{type:"text",icon:e.fsOperationButtons.upload.icon},on:{click:e.fsOperationButtons.upload.handler}},[e._v(e._s(e.fsOperationButtons.upload.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.newFolder.show,expression:"fsOperationButtons.newFolder.show"}],attrs:{type:"text",icon:e.fsOperationButtons.newFolder.icon},on:{click:e.fsOperationButtons.newFolder.handler}},[e._v(e._s(e.fsOperationButtons.newFolder.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.download.show,expression:"fsOperationButtons.download.show"}],attrs:{type:"text",icon:e.fsOperationButtons.download.icon},on:{click:e.fsOperationButtons.download.handler}},[e._v(e._s(e.fsOperationButtons.download.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.rename.show,expression:"fsOperationButtons.rename.show"}],attrs:{type:"text",icon:e.fsOperationButtons.rename.icon},on:{click:e.fsOperationButtons.rename.handler}},[e._v(e._s(e.fsOperationButtons.rename.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.move.show,expression:"fsOperationButtons.move.show"}],attrs:{type:"text",icon:e.fsOperationButtons.move.icon},on:{click:e.fsOperationButtons.move.handler}},[e._v(e._s(e.fsOperationButtons.move.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.copy.show,expression:"fsOperationButtons.copy.show"}],attrs:{type:"text",icon:e.fsOperationButtons.copy.icon},on:{click:e.fsOperationButtons.copy.handler}},[e._v(e._s(e.fsOperationButtons.copy.name))]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.fsOperationButtons.delete.show,expression:"fsOperationButtons.delete.show"}],attrs:{type:"text",icon:e.fsOperationButtons.delete.icon},on:{click:e.fsOperationButtons.delete.handler}},[e._v(e._s(e.fsOperationButtons.delete.name))])],1)]),e._v(" "),n("div",{staticStyle:{height:"40px","line-height":"40px",padding:"0px 5px 0px 20px",overflow:"hidden"}},[n("fileAddress",{staticStyle:{float:"left","max-width":"calc(100% - 250px)"},attrs:{rootname:e.fsAddress.rootname,path:e.fsAddress.loadPath},on:{click:e.goToPath}}),e._v(" "),n("i-input",{staticStyle:{float:"right","max-width":"240px",padding:"4px 0px"},attrs:{placeholder:"Enter file name"},on:{"on-enter":function(t){return e.loadDatePage(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),n("Table",{directives:[{name:"watch-height",rawName:"v-watch-height",value:function(t,n){return e.tableHeight=n-130},expression:"(ch, ph) => (tableHeight = ph - 130)"}],ref:"fsSelection",attrs:{height:e.tableHeight,loading:e.loading,columns:e.fsColumns,data:e.fsData,"highlight-row":!0},on:{"on-row-click":e.onRowClick,"on-selection-change":e.onSelectionChange}}),e._v(" "),n("Page",{staticStyle:{"line-height":"45px",background:"#fff",float:"right",padding:"0px 45px"},attrs:{"show-total":"",total:e.fsData_Total,size:"small",current:e.fsData_CurrentPageIndex,"page-size":e.fsData_PageSize},on:{"on-change":e.loadDatePage}}),e._v(" "),n("uploadfile",{attrs:{"show-drawer":e.fsUpload.showDrawer,parent:e.fsAddress.loadPath,"drag-ref":"fslist-body"},on:{"on-end":function(t){e.$Message.info(""),e.doRefresh()},"on-start":function(t){return e.$Message.info("")},"on-close":function(t){e.fsUpload.showDrawer=!1}}}),e._v(" "),n("copyfile",{attrs:{"src-paths":e.fsCopyFile.srcPaths,"dest-path":e.fsCopyFile.destPath,"copy-settings":e.fsCopyFile.copySettings,"show-dailog":e.fsCopyFile.showDailog},on:{"on-error":e.onHiddenCopy,"on-stop":e.onHiddenCopy,"on-end":e.onHiddenCopy}}),e._v(" "),n("movefile",{attrs:{"src-paths":e.fsMoveFile.srcPaths,"dest-path":e.fsMoveFile.destPath,"move-settings":e.fsMoveFile.moveSettings,"show-dailog":e.fsMoveFile.showDailog},on:{"on-error":e.onHiddenMove,"on-stop":e.onHiddenMove,"on-end":e.onHiddenMove}}),e._v(" "),n("fileSelector",{attrs:{"select-muti":e.fsSelector.selectMuti,"select-file":e.fsSelector.selectFile,"select-dir":e.fsSelector.selectDir,"start-path":e.fsSelector.startPath,"show-dailog":e.fsSelector.showDailog},on:{"on-select":e.onSelectedFile,"on-cancel":e.onSelectCancel}}),e._v(" "),n("right-click-menu",{attrs:{"bind-ref":"fsSelection",menus:e.fsOperationButtons}})],1)])},staticRenderFns:[]};var X=n("VU/8")(V,Y,!1,function(e){n("vRLG")},"data-v-8e8d9d10",null).exports,G={name:"MyInfo",data:function(){return{user:{userID:"",userType:"",userTypeDesc:"",userName:"",ctTime:""},ruleValidate:{userName:[{required:!0}]}}},methods:{onUserNameonEnter:function(){var e=this;this.user.userName?b.updateUserName(this.user.userID,this.user.userName).then(function(t){e.$Message.info(""),e.loadCurrentAccountInfo()}).catch(function(t){e.$Message.error(""),e.loadCurrentAccountInfo()}):this.$Message.error("")},onUpdataPWD:function(){var e=this,t="";this.$Modal.info({title:"",render:function(e){return e("i-input",{props:{type:"password",value:"",autofocus:!0,placeholder:"Please enter your password..."},on:{input:function(e){t=e}}})},onOk:function(){var n=this;b.updateUserPwd(e.user.userID,t).then(function(e){n.$Message.info("")}).catch(function(e){n.$Message.error("")})}})},loadCurrentAccountInfo:function(){var e=this,t=i.a.getSession();t&&t.userID&&b.queryuser(t.userID).then(function(t){t&&(e.user.userID=t.userID,e.user.userType=t.userType,e.user.userTypeDesc=b.$TYPES.parse(t.userType),e.user.userName=t.userName,e.user.ctTime=t.ctTime,e.$emit("user-changed",e.user))}).catch(function(t){console.error(t),e.$Message.error(t.toString())})}},created:function(){this.loadCurrentAccountInfo()}},K={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",{staticStyle:{padding:"10px"},attrs:{name:"accountform","label-position":"left","label-width":80}},[n("FormItem",{staticClass:"mg_b_10",attrs:{label:": "}},[n("i-input",{staticStyle:{"max-width":"200px"},attrs:{placeholder:"Enter your name"},on:{"on-enter":e.onUserNameonEnter},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": "}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:e.onUpdataPWD}},[e._v("")])]),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": "}},[e._v("\n    "+e._s(e.user.userTypeDesc)+"\n  ")]),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": "}},[e._v("\n    "+e._s(e.user.ctTime)+"\n  ")])],1)},staticRenderFns:[]};var Q={name:"UserList",data:function(){return{loading:!1,tableHeaght:500,datas:[],currentPageIndex:1,pageSize:60,shows:{add:!0,del:!1,edit:!1},userEdit:{show:!1,isAdd:!1,userID:"",userType:"",userName:"",userPWD:""},columns:[{type:"selection",width:60,align:"center"},{title:"",key:"userName"},{title:"",key:"userTypeDesc"},{title:"",key:"ctTime"}]}},computed:{calcPageDatas:function(){var e=this.currentPageIndex*this.pageSize,t=(this.currentPageIndex-1)*this.pageSize;return this.datas.slice(t>0?t:0,e)}},methods:{onRowClick:function(e,t){this.$refs.umgTb.selectAll(!1),this.$refs.umgTb.toggleSelect(t),this.onSelectionChange([e],e)},onSelectionChange:function(e,t){this.shows.add=!0,this.shows.del=!1,this.shows.edit=!1;var n=e.length;n>=1&&(this.shows.del=!0),1==n&&(this.shows.edit=!0)},doListAllUsers:function(){var e=this;this.datas=[],this.loading=!0,this.currentPageIndex=1,b.listAllUsers().then(function(t){if(t)for(var n=0;n<t.length;n++)t[n].userTypeDesc=b.$TYPES.parse(t[n].userType);e.$set(e,"datas",t),e.loading=!1}).catch(function(t){e.$Message.error(t.toString()),e.loading=!1})},onAddUser:function(){this.userEdit.isAdd=!0,this.userEdit.userID="",this.userEdit.userName="",this.userEdit.userType="",this.userEdit.userPWD="",this.userEdit.show=!0},onDelUser:function(){var e=this.$refs.umgTb.getSelection();if(e){try{for(var t=0;t<e.length;t++)b.sync.delUser(e[t].userID);this.$Message.info("")}catch(e){this.$Message.error(e.toString())}this.doListAllUsers()}},onEditUser:function(){var e=this.$refs.umgTb.getSelection();e&&1==e.length&&(this.userEdit.isAdd=!1,this.userEdit.userPWD="",this.userEdit.userID=e[0].userID,this.userEdit.userName=e[0].userName,this.userEdit.userType=e[0].userType,this.userEdit.show=!0)},onSaveUser:function(){var e=this;if(this.userEdit.userID)if(this.userEdit.userName)if(this.userEdit.isAdd)b.addUser(this.userEdit.userID,this.userEdit.userName,this.userEdit.userPWD).then(function(t){e.$Message.info(""),e.doListAllUsers(),e.userEdit.show=!1}).catch(function(t){e.$Message.error(t.toString()),e.doListAllUsers()});else{try{b.sync.updateUserName(this.userEdit.userID,this.userEdit.userName),b.sync.updateUserPwd(this.userEdit.userID,this.userEdit.userPWD),this.userEdit.show=!1,this.$Message.info("")}catch(e){this.$Message.error(e.toString())}this.doListAllUsers()}else this.$Message.error("");else this.$Message.error("ID")},loadList:function(){this.doListAllUsers()}},created:function(){}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{padding:"0px 5px 5px 5px"}},[n("div",[n("Button",{attrs:{type:"text",icon:"md-refresh-circle"},on:{click:e.loadList}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.add,expression:"shows.add"}],attrs:{type:"text",icon:"md-add-circle"},on:{click:e.onAddUser}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.edit,expression:"shows.edit"}],attrs:{type:"text",icon:"ios-create"},on:{click:e.onEditUser}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.del,expression:"shows.del"}],attrs:{type:"text",icon:"md-trash"},on:{click:e.onDelUser}},[e._v("")])],1)]),e._v(" "),n("Table",{directives:[{name:"watch-height",rawName:"v-watch-height",value:function(t,n){return e.tableHeaght=n-80},expression:"(ch, ph) => (tableHeaght = ph - 80)"}],ref:"umgTb",attrs:{height:e.tableHeaght,loading:e.loading,columns:e.columns,data:e.calcPageDatas,"highlight-row":!0},on:{"on-row-click":e.onRowClick,"on-selection-change":e.onSelectionChange}}),e._v(" "),n("Page",{staticStyle:{"line-height":"45px",background:"#fff",float:"right",padding:"0px 45px"},attrs:{"show-total":"",total:e.datas.length,size:"small",current:e.currentPageIndex,"page-size":e.pageSize},on:{"on-change":function(t){return e.currentPageIndex=t}}}),e._v(" "),n("Drawer",{attrs:{title:e.userEdit.isAdd?"":"",width:"450px",closable:!1},model:{value:e.userEdit.show,callback:function(t){e.$set(e.userEdit,"show",t)},expression:"userEdit.show"}},[n("Form",{ref:"useredit",attrs:{"label-position":"left",model:e.userEdit,"label-width":80}},[n("FormItem",{staticClass:"mg_b_10",attrs:{label:"ID: ",prop:"userID"}},[e.userEdit.isAdd?n("i-input",{attrs:{placeholder:"Enter your user ID"},model:{value:e.userEdit.userID,callback:function(t){e.$set(e.userEdit,"userID",t)},expression:"userEdit.userID"}}):n("span",[e._v(e._s(e.userEdit.userID))])],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": ",prop:"UserName"}},[n("i-input",{attrs:{placeholder:"Enter your name"},model:{value:e.userEdit.userName,callback:function(t){e.$set(e.userEdit,"userName",t)},expression:"userEdit.userName"}})],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": ",prop:"UserPWD"}},[n("i-input",{attrs:{placeholder:"Enter your password",type:"password"},model:{value:e.userEdit.userPWD,callback:function(t){e.$set(e.userEdit,"userPWD",t)},expression:"userEdit.userPWD"}})],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": ",prop:"usertype"}},[e._v("\n        \n      ")])],1),e._v(" "),n("div",[n("Button",{staticClass:"fr mg_l_10",attrs:{type:"primary"},on:{click:e.onSaveUser}},[e._v("")]),e._v(" "),n("Button",{staticClass:"fr",attrs:{type:"default"},on:{click:function(t){e.userEdit.show=!1}}},[e._v("")])],1)],1)],1)},staticRenderFns:[]};var J={name:"FilePmsList",components:{fileSelector:H},data:function(){return{datas:[],loading:!1,tableHeaght:500,currentPageIndex:1,pageSize:60,shows:{add:!0,del:!1,edit:!1},permissionMax:3,fPermissionEdit:{show:!1,isAdd:!1,userID:"",path:"",permission:0,permissions:[],permissionID:""},fsSelector:{operationObj:!1,showDailog:!1,selectFile:!0,selectDir:!0,selectMuti:!0,startPath:"/"},userselector:{datas:[]},columns:[{type:"selection",width:60,align:"center"},{title:"ID",key:"userID"},{title:"",key:"path"},{title:"",key:"permission",render:function(e,t){return e("span",{},j.$TYPE.sum2Name(t.row.permission).join(", "))}},{title:"",key:"ctTime"}]}},computed:{calcPageDatas:function(){var e=this.currentPageIndex*this.pageSize,t=(this.currentPageIndex-1)*this.pageSize;return this.datas.slice(t>0?t:0,e)}},methods:{onRowClick:function(e,t){this.$refs.fpmsTb.selectAll(!1),this.$refs.fpmsTb.toggleSelect(t),this.onSelectionChange([e],e)},onSelectionChange:function(e,t){this.shows.add=!0,this.shows.del=!1,this.shows.edit=!1;var n=e.length;n>=1&&(this.shows.del=!0),1==n&&(this.shows.edit=!0)},onSelectDir:function(e){this.fsSelector.operationObj=e,this.fsSelector.selectFile=!1,this.fsSelector.selectDir=!0,this.fsSelector.selectMuti=!1,this.fsSelector.startPath="/",this.fsSelector.showDailog=!0},onSelectCancel:function(){this.fsSelector.showDailog=!1},onSelectedFile:function(e){this.fsSelector.showDailog=!1,this.fsSelector.operationObj&&this[this.fsSelector.operationObj](e)},doListFPermissions:function(){var e=this;this.datas=[],this.loading=!0,this.currentPageIndex=1,j.listFPermissions().then(function(t){e.$set(e,"datas",t),e.loading=!1}).catch(function(t){e.$Message.error(t.toString()),e.loading=!1})},onAddFPermission:function(){var e=this;b.listAllUsers().then(function(t){t&&(e.userselector.datas=t)}).catch(console.error),this.fPermissionEdit.isAdd=!0,this.fPermissionEdit.userID="",this.fPermissionEdit.path="",this.fPermissionEdit.permission=0,this.fPermissionEdit.permissions=[],this.fPermissionEdit.permissionID="",this.fPermissionEdit.show=!0},onBeforFpmsSelectedDir:function(e){e&&e.length>0&&(this.fPermissionEdit.path=e[0].path)},onEditFPermission:function(){var e=this,t=this.$refs.fpmsTb.getSelection();t&&1==t.length&&(this.fPermissionEdit.isAdd=!1,this.fPermissionEdit.userID=t[0].userID,this.fPermissionEdit.path=t[0].path,this.fPermissionEdit.permission=parseInt(t[0].permission),this.fPermissionEdit.permissions=function(t){var n=e.fPermissionEdit.permission,a=[];if(n)for(var i=0;i<=e.permissionMax;i++)1<<i==(n&1<<i)&&a.push(""+i);return a}(),this.fPermissionEdit.permissionID=t[0].permissionID,this.fPermissionEdit.show=!0)},onDelFPermission:function(){var e=this.$refs.fpmsTb.getSelection();if(e){try{for(var t=0;t<e.length;t++)j.sync.delFPermission(e[t].permissionID);this.$Message.info("")}catch(e){this.$Message.error(e.toString())}this.doListFPermissions()}},onSaveFPermission:function(){var e=this;this.fPermissionEdit.userID?this.fPermissionEdit.path?(this.fPermissionEdit.permission=function(){var t=0;if(e.fPermissionEdit.permissions.length>0)for(var n=0;n<e.fPermissionEdit.permissions.length;n++)t+=1<<e.fPermissionEdit.permissions[n];return t}(),this.fPermissionEdit.isAdd?j.addFPermission(this.fPermissionEdit.userID,this.fPermissionEdit.path,this.fPermissionEdit.permission).then(function(t){e.$Message.info(""),e.doListFPermissions(),e.fPermissionEdit.show=!1}).catch(function(t){e.$Message.error(t.toString()),e.doListFPermissions()}):j.updateFPermission(this.fPermissionEdit.permissionID,this.fPermissionEdit.permission).then(function(t){e.$Message.info(""),e.doListFPermissions(),e.fPermissionEdit.show=!1}).catch(function(t){e.$Message.error(t.toString()),e.doListFPermissions()})):this.$Message.error(""):this.$Message.error("ID")},loadList:function(){this.doListFPermissions()}},created:function(){}},ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticStyle:{padding:"0px 5px 5px 5px"}},[n("div",[n("Button",{attrs:{type:"text",icon:"md-refresh-circle"},on:{click:e.loadList}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.add,expression:"shows.add"}],attrs:{type:"text",icon:"md-add-circle"},on:{click:e.onAddFPermission}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.edit,expression:"shows.edit"}],attrs:{type:"text",icon:"ios-create"},on:{click:e.onEditFPermission}},[e._v("")]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shows.del,expression:"shows.del"}],attrs:{type:"text",icon:"md-trash"},on:{click:e.onDelFPermission}},[e._v("")])],1)]),e._v(" "),n("Table",{directives:[{name:"watch-height",rawName:"v-watch-height",value:function(t,n){return e.tableHeaght=n-80},expression:"(ch, ph) => (tableHeaght = ph - 80)"}],ref:"fpmsTb",attrs:{loading:e.loading,columns:e.columns,data:e.calcPageDatas,"highlight-row":!0,height:e.tableHeaght},on:{"on-row-click":e.onRowClick,"on-selection-change":e.onSelectionChange}}),e._v(" "),n("Page",{staticStyle:{"line-height":"45px",background:"#fff",float:"right",padding:"0px 45px"},attrs:{"show-total":"",total:e.datas.length,size:"small",current:e.currentPageIndex,"page-size":e.pageSize},on:{"on-change":function(t){return e.currentPageIndex=t}}}),e._v(" "),n("Drawer",{attrs:{title:e.fPermissionEdit.isAdd?"":"",width:"450px"},model:{value:e.fPermissionEdit.show,callback:function(t){e.$set(e.fPermissionEdit,"show",t)},expression:"fPermissionEdit.show"}},[n("Form",{ref:"useredit",attrs:{"label-position":"left",model:e.fPermissionEdit,"label-width":80}},[n("FormItem",{staticClass:"mg_b_10",attrs:{label:"ID: ",prop:"userID"}},[e.fPermissionEdit.isAdd?n("Select",{attrs:{transfer:""},model:{value:e.fPermissionEdit.userID,callback:function(t){e.$set(e.fPermissionEdit,"userID",t)},expression:"fPermissionEdit.userID"}},e._l(e.userselector.datas,function(t){return n("Option",{key:t.userID,attrs:{value:t.userID}},[e._v(e._s(t.userName))])}),1):n("span",[e._v(e._s(e.fPermissionEdit.userID))])],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": ",prop:"path"}},[e.fPermissionEdit.isAdd?n("i-input",{attrs:{placeholder:"",readonly:""},model:{value:e.fPermissionEdit.path,callback:function(t){e.$set(e.fPermissionEdit,"path",t)},expression:"fPermissionEdit.path"}},[n("Button",{attrs:{slot:"append"},on:{click:function(t){return e.onSelectDir("onBeforFpmsSelectedDir")}},slot:"append"},[e._v("")])],1):n("span",[e._v(e._s(e.fPermissionEdit.path))])],1),e._v(" "),n("FormItem",{staticClass:"mg_b_10",attrs:{label:": ",prop:"Permission"}},[n("Checkbox-Group",{model:{value:e.fPermissionEdit.permissions,callback:function(t){e.$set(e.fPermissionEdit,"permissions",t)},expression:"fPermissionEdit.permissions"}},[n("Checkbox",{attrs:{label:"1"}},[e._v("Visible")]),e._v(" "),n("Checkbox",{attrs:{label:"2"}},[e._v("Read")]),e._v(" "),n("Checkbox",{attrs:{label:"3"}},[e._v("Write")])],1)],1)],1),e._v(" "),n("div",[n("Button",{staticClass:"fr mg_l_10",attrs:{type:"primary"},on:{click:e.onSaveFPermission}},[e._v("")]),e._v(" "),n("Button",{staticClass:"fr",attrs:{type:"default"},on:{click:function(t){e.fPermissionEdit.show=!1}}},[e._v("")])],1)],1),e._v(" "),n("fileSelector",{attrs:{"select-muti":e.fsSelector.selectMuti,"select-file":e.fsSelector.selectFile,"select-dir":e.fsSelector.selectDir,"start-path":e.fsSelector.startPath,"show-dailog":e.fsSelector.showDailog},on:{"on-select":e.onSelectedFile,"on-cancel":e.onSelectCancel}})],1)},staticRenderFns:[]};var te={name:"SysSetting",components:{MyInfo:n("VU/8")(G,K,!1,function(e){n("XaiU")},"data-v-56062024",null).exports,UserList:n("VU/8")(Q,Z,!1,function(e){n("9a7g")},"data-v-67da153a",null).exports,FilePmsList:n("VU/8")(J,ee,!1,function(e){n("vCjF")},"data-v-713240bb",null).exports},data:function(){return{tabHeight:500,currentTab:"currentAccount",currentAccount:{userID:"",userType:"",userName:""}}},methods:{},created:function(){},watch:{currentTab:function(e,t){"userManage"==e?this.$refs.userManage.loadList():"fPermissionManage"==e&&this.$refs.fPermissionManage.loadList()}}},ne={render:function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{ref:"syssetting-page",staticClass:"sys-setting"},[a("Tabs",{directives:[{name:"watch-height",rawName:"v-watch-height",value:function(e){return t.tabHeight=e-52},expression:"(h) => (tabHeight = h - 52)"}],staticStyle:{height:"100%"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("TabPane",{style:{height:t.tabHeight+"px"},attrs:{name:"currentAccount",label:""}},[a("my-info",{on:{"user-changed":function(n){return t.$set(e,"currentAccount",n)}}})],1),t._v(" "),0===t.currentAccount.userType?a("TabPane",{style:{height:t.tabHeight+"px"},attrs:{name:"userManage",label:""}},[a("user-list",{ref:"userManage",staticStyle:{width:"100%",height:"100%"}})],1):t._e(),t._v(" "),0===t.currentAccount.userType?a("TabPane",{style:{height:t.tabHeight+"px"},attrs:{name:"fPermissionManage",label:""}},[a("file-pms-list",{ref:"fPermissionManage"})],1):t._e()],1)],1)},staticRenderFns:[]};var ae=n("VU/8")(te,ne,!1,function(e){n("dsTD")},"data-v-8b0924c4",null).exports,ie=n("fZjL"),oe=n.n(ie),re={name:"Preivew",data:function(){return{loadding:!0,loaddingText:"...",title:"",playerType:"",playerSrc:""}},computed:{},methods:{setTitle:function(){document.title=this.title?this.title:""},onLoading:function(e){var t=this;e&&oe()(e).forEach(function(n){t.$set(t,n,e[n])})}},created:function(){var e=this.$route.query.token;if(this.playerType=this.$route.path.getName(),e&&e.length>0&&this.playerType){switch(this.playerType){case"audio":this.title="";break;case"video":this.title="";break;case"picture":this.title="";break;default:this.title="",this.loaddingText=this.title}setInterval(function(){return W.status(e)},6e4)}else this.title="~",this.$Message.error(", "),setTimeout(window.close,2e3)},watch:{title:function(e,t){this.setTitle()}}},se={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"preview-page",staticClass:"page"},[t("router-view",{on:{"on-loading":this.onLoading}}),this._v(" "),t("Spin",{directives:[{name:"show",rawName:"v-show",value:this.loadding,expression:"loadding"}],attrs:{fix:""}},[t("Icon",{staticStyle:{animation:"ani-demo-spin 1s linear infinite"},attrs:{type:"ios-loading",size:"20"}}),this._v(" "),t("div",[this._v(this._s(this.loaddingText))])],1)],1)},staticRenderFns:[]};var le=n("VU/8")(re,se,!1,function(e){n("9Ctb")},"data-v-3e38d504",null).exports,ce=(n("MIAn"),n("DNQM"),n("KXTU"),{name:"pw-audio",data:function(){return{}},methods:{buildMusicList:function(e,t){var n={cindex:0,list:[]};if(t){var a=t.path;if(t.peerDatas&&t.peerDatas.length>0)for(var i=0;i<t.peerDatas.length;i++){var o=t.peerDatas[i];if(o.isFile){var r=o.path.getSuffixed(!1);W.isSupport("audio",r)&&(o.path==a&&(n.cindex=n.list.length),n.list.push({name:o.path.getName(!1),artist:m.a.formatSize(o.size),url:W.buildStreamURL(e,o.path.getName()),cover:"/static/img/preview/default_cover.png"}))}}}return n},getCover:function(e,t){var n=this;jsmediatags.read(e.url,{onSuccess:function(a){var i=a.tags;e.artist=i.artist?i.artist:"",i.picture?e.cover="data:"+i.picture.format+";base64,"+n.arrayBufferToBase64(i.picture.data):e.cover="/img/preview/default_cover.png",t&&t()},onError:function(e){t&&t(e)}})},arrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)},initAPlayer:function(e){var t=this,n=new APlayer({audio:e,listMaxHeight:0,container:document.getElementById("aplayer")||this.$refs.aplayer.$el});return n.on("listshow",function(e){document.getElementById("aplayer").style.height="100%"}),n.on("listhide",function(e){document.getElementById("aplayer").style.height="66px"}),n.on("listswitch",function(a){var i=e[a.index];i.artist=void 0,t.$emit("on-loading",{title:i.name,loadding:!1}),i._cover_?i.cover&&(document.getElementById("bg").style.backgroundImage="url('"+i.cover+"')"):t.getCover(i,function(){i._cover_=!0,n.template.pic.style.backgroundImage=i.cover?"url('"+i.cover+"')":"",n.template.author.innerHTML=i.artist?i.artist:"",document.getElementById("bg").style.backgroundImage="url('"+i.cover+"')"})}),n},initDatas:function(e){var t=this;try{W.samedirFiles(e).then(function(n){var a=": "+n.path.getName(!1);t.$emit("on-loading",{title:a,loaddingText:a});var i=t.buildMusicList(e,n),o=t.initAPlayer(i.list);i.list.length>0&&(o.list.switch(i.cindex),o.play()),t.$emit("on-loading",{title:n.path.getName(!1),loadding:!1})}).catch(function(e){t.$emit("on-loading",{title:"",loaddingText:e.toString()}),console.error(e)})}catch(e){this.$emit("on-loading",{title:"",loaddingText:e.toString()}),console.error(e)}}},created:function(){this.initDatas(this.$route.query.token)}}),de={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"pw-audio-page",staticClass:"page"},[t("div",{staticStyle:{position:"fixed","background-size":"contain","background-position":"center center",filter:"blur(1px)",width:"100%",height:"100%"},attrs:{id:"bg"}}),this._v(" "),t("div",{ref:"aplayer",attrs:{id:"aplayer"}})])},staticRenderFns:[]};var ue=n("VU/8")(ce,de,!1,function(e){n("mOIF"),n("22FI")},"data-v-db4f5be6",null).exports,pe=n("8S1g"),he={components:{Stick:n.n(pe).a.component},name:"",data:function(){return{isLoading:!1,allDatas:{cindex:0,list:[]},list:[],pageIndex:-1,pageSize:10}},computed:{isEnd:function(){return this.allDatas.list.length<=this.list.length}},methods:{onShowBig:function(e){window.open(e.cover)},doLoadMore:function(){var e=this;this.isLoading=!0,setTimeout(function(){if(e.allDatas.list.length>0){var t=++e.pageIndex*e.pageSize,n=(e.pageIndex+1)*e.pageSize;e.allDatas.list.slice(t,n).forEach(function(t){e.list.push(t)})}e.isLoading=!1})},doBuilList:function(e,t){var n={cindex:-1,list:[],count:-1};if(t){var a=t.path;if(t.peerDatas&&t.peerDatas.length>0)for(var i=0;i<t.peerDatas.length;i++){var o=t.peerDatas[i];if(o.isFile){var r=o.path.getSuffixed(!1);W.isSupport("picture",r)&&(o.path==a&&(n.cindex=0),-1!=n.cindex&&n.list.push({cover:W.buildStreamURL(e,o.path.getName()),title:"SEQ-"+(i+1),intro:o.path.getName()}))}}}return n},initDatas:function(e){var t=this;try{W.samedirFiles(e).then(function(n){var a=": "+n.path.getName(!1);t.$emit("on-loading",{title:a,loaddingText:a}),t.allDatas=t.doBuilList(e,n),t.doLoadMore(),a="",t.$emit("on-loading",{title:n.path.getName(!1),loadding:!1})}).catch(function(e){t.$emit("on-loading",{title:"",loaddingText:e.toString()}),console.error(e)})}catch(e){this.$emit("on-loading",{title:"",loaddingText:e.toString()}),console.error(e)}}},beforeCreate:function(){document.querySelector("body").setAttribute("style","height:unset;")},created:function(){this.initDatas(this.$route.query.token)}},fe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"pw-picture-page",staticClass:"page"},[n("div",{staticClass:"container"},[n("Stick",{attrs:{list:e.list},on:{onScrollEnd:e.doLoadMore},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"card cs_p",on:{click:function(n){return e.onShowBig(t.data)}}},[t.data.cover?n("img",{attrs:{src:t.data.cover}}):e._e(),e._v(" "),n("h2",[e._v(e._s(t.data.title))]),e._v(" "),n("p",[e._v(e._s(t.data.intro))])])]}}])}),e._v(" "),n("div",{staticClass:"tools"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[e._v("...")]),e._v(" "),e.isEnd?n("div",[e._v("")]):e._e(),e._v(" "),e.isEnd||e.isLoading?e._e():n("a",{staticStyle:{color:"#555"},on:{click:e.doLoadMore}},[e._v("\n        \n      ")])])],1)])},staticRenderFns:[]};var me=n("VU/8")(he,fe,!1,function(e){n("uKjd")},"data-v-380dbeba",null).exports,ye=(n("3aDr"),{name:"",data:function(){return{}},methods:{initDatas:function(e){var t=this;try{W.samedirFiles(e).then(function(n){var a=n.path.getName(!1),i="";if(n&&n.peerdatas)for(var o=["vtt"],r=0;r<n.peerdatas.length;r++){var s=n.peerdatas[r].path;if(s&&o.indexOf(s.getSuffixed(!1).toLowerCase())>-1&&s.indexOf(a)>-1){i=n.peerdatas[r].path;break}}var l=": "+a;t.$emit("on-loading",{title:l,loaddingText:l});var c={container:document.getElementById("dplayer")||t.$refs.dplayer.$el,video:{url:W.buildStreamURL(e,n.path.getName())},contextmenu:[]};i&&(c.subtitle={url:W.buildStreamURL(e,i.getName())}),new DPlayer(c).play(),l=a,t.$emit("on-loading",{title:l,loadding:!1})}).catch(function(e){t.$emit("on-loading",{title:"",loaddingText:e.toString()})})}catch(e){this.$emit("on-loading",{title:"",loaddingText:e.toString()})}}},created:function(){this.initDatas(this.$route.query.token)}}),ve={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"pw-video-page",staticClass:"page"},[t("div",{ref:"dplayer",staticStyle:{height:"100%",width:"100%"},attrs:{id:"dplayer"}})])},staticRenderFns:[]};var ge=n("VU/8")(ye,ve,!1,function(e){n("nqF0")},"data-v-417a512a",null).exports;a.default.use(c.a);var be=new c.a({routes:[{path:"/",name:"LogIn",component:k},{path:"/main",name:"Main",component:T,children:[{name:"files",path:"",component:X},{name:"files",path:"files",component:X},{name:"settings",path:"settings",component:ae}]},{path:"/preview",name:"Preview",component:le,children:[{name:"audio",path:"audio",component:ue},{name:"picture",path:"picture",component:me},{name:"video",path:"video",component:ge}]}]}),we=n("b3L9"),xe=n.n(we);n("7QVd"),n("0lA4");a.default.use(be),a.default.use(xe.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:be,components:{App:s},template:"<App/>"})},Tt9T:function(e,t){},XaiU:function(e,t){},YEr2:function(e,t){},YjBe:function(e,t){},bMA1:function(e,t){},dsTD:function(e,t){},dzvC:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("breadcrumb",{attrs:{separator:">"}},[n("BreadcrumbItem",[n("a",{on:{click:function(t){return e.address_GoToRoot()}}},[e._v(e._s(e.showrootname))])]),e._v(" "),e._l(e.paths,function(t,a){return n("BreadcrumbItem",{directives:[{name:"show",rawName:"v-show",value:t&&(a>=e.paths.length-2||a<=e.max),expression:"item && (index >= paths.length - 2 || index <= max)"}],key:a},[n("a",{on:{click:function(n){return e.address_GoToPath(t,a)}}},[e._v(e._s(t))])])})],2)},staticRenderFns:[]};var i=n("VU/8")({name:"fileaddress",props:["path","root","rootname","depth"],data:function(){return{paths:[],max:6,showrootname:""}},created:function(){this.max=this.depth?this.depth-2>0?this.depth-2:2:this.max,this.buildPaths()},methods:{buildPaths:function(){this.showrootname=this.rootname?this.rootname:"/",this.paths=this.path.split("/")},address_GoToRoot:function(){this.$emit("click",this.root?this.root:"/")},address_GoToPath:function(e,t){for(var n="",a=0;a<=t;a++)this.paths[a]&&(n+="/"+this.paths[a]);this.$emit("click",n)}},watch:{path:function(e,t){this.buildPaths()}}},a,!1,function(e){n("7M5M")},"data-v-15f4f49e",null);t.a=i.exports},eijq:function(e,t,n){"use strict";var a={name:"fileicon",props:["node","edit-mode"],data:function(){return{iconTypes:["ai","avi","bmp","catdrawing","catpart","catproduct","cdr","csv","doc","docx","dps","dpt","dwg","eio","eml","et","ett","exb","exe","file","flv","fold","gif","htm","html","jpeg","jpg","mht","mhtml","mid","mp3","mp4","mpeg","msg","odp","ods","odt","pdf","png","pps","ppt","pptx","prt","psd","rar","rm","rmvb","rtf","sldprt","swf","tif","txt","url","wav","wma","wmv","wps","wpt","xls","xlsx","zip"],icon:"",filename:"",isEditMode:!1}},methods:{onBoxClick:function(e){"INPUT"==e.srcElement.tagName.toUpperCase()&&e.stopPropagation()},onNameClick:function(e){e.stopPropagation(),this.$emit("click",this.node,e)},doSave:function(){!0===this.isEditMode&&(this.isEditMode=!1,this.$emit("rename",this.node.path,this.filename))},getFileIcon:function(e){return this.node.isFile?function(e){var t=["ai","avi","bmp","catdrawing","catpart","catproduct","cdr","csv","doc","docx","dps","dpt","dwg","eio","eml","et","ett","exb","exe","file","flv","fold","gif","htm","html","jpeg","jpg","mht","mhtml","mid","mp3","mp4","mpeg","msg","odp","ods","odt","pdf","png","pps","ppt","pptx","prt","psd","rar","rm","rmvb","rtf","sldprt","swf","tif","txt","url","wav","wma","wmv","wps","wpt","xls","xlsx","zip"];if(e)for(var n=e.substring(e.lastIndexOf(".")+1).toLowerCase(),a=0;a<t.length;a++)if(t[a]==n)return"/static/img/file_icons/"+n+".png";return"/static/img/file_icons/file.png"}(e):"/static/img/file_icons/folder.png"},initvalue:function(){this.filename=this.node.path.getName(),this.icon=this.getFileIcon(this.filename)}},created:function(){var e=this;this.initvalue(),this.$nextTick(function(){window.addEventListener("keydown",function(t){13==((t=t||window.event).keyCode||t.which)&&e.doSave()}),window.addEventListener("mousedown",function(t){t.target==e.$el.querySelector("input")||e.doSave()})})},watch:{node:{deep:!0,handler:function(e,t){this.initvalue()}},editMode:function(e){this.isEditMode=e}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"},on:{click:e.onBoxClick}},[n("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[n("img",{staticStyle:{"vertical-align":"middle","margin-right":"5px",width:"32px",height:"32px"},attrs:{src:e.icon}}),e._v(" "),e.isEditMode?n("i-input",{staticStyle:{width:"calc(100% - 50px)"},on:{"on-blur":e.doSave,"on-enter":e.doSave},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}}):n("a",{staticStyle:{color:"#515a6e"},attrs:{title:e.filename},on:{click:e.onNameClick}},[e._v(e._s(e.filename))])],1)])},staticRenderFns:[]};var o=n("VU/8")(a,i,!1,function(e){n("uvlh")},"data-v-f8f5dcb8",null);t.a=o.exports},h4ME:function(e,t){},mF0L:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a,i=n("fZjL"),o=n.n(i),r={extendAttrs:function(e,t,n){if(!e)return t;for(var a in this.isType(e,"object")||(e={}),t)this.isType(t[a],"object")&&!1!==n?e[a]=this.extendAttrs(e[a],t[a]):e[a]=t[a];return e},getType:function(e){try{return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().toLowerCase()}catch(e){return e}},isType:function(e,t){try{return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===t.toLowerCase()}catch(e){return!1}},isArray:function(e){return void 0!=e&&this.isType(e,"Array")},isString:function(e){return void 0!=e&&this.isType(e,"string")},hasKey:function(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)},regExp:{CHINESE_CHARACTER:/[\u4e00-\u9fa5]/,NAME:/^[a-zA-Z\u4e00-\u9fa5]+$/,HTTP_ALL:/http(s?):\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>\"\"])*/g,HTTP_STRICT:/((http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?|www+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?)/gi,HTTP:/^http(s?):\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>\"\"])*$/,DOMAIN:/^(http|https|ws):\/\/([^/:]+)(:\d*)?\//,EMAIL:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,NUMBER_AND_LETTER:/^([A-Z]|[a-z]|[\d])*$/,POSITIVE_NUMBER:/^[1-9]\d*$/,NON_NEGATIVE_NUMBER:/^(0|[1-9]\d*)$/,IP:/^((1?\d?\d|(2([0-4]\d|5[0-5])))\.){3}(1?\d?\d|(2([0-4]\d|5[0-5])))$/,URL:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,PHONE:/^((0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$|^(13|14|15|17|18)[0-9]{9}$/,TELEPHONE:/^(13|14|15|17|18)[0-9]{9}$/,QQ:/^\d{1,10}$/,DATE:/^((?!0000)[0-9]{4}-((0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-8])|(0[13-9]|1[0-2])-(29|30)|(0[13578]|1[02])-31)|([0-9]{2}(0[48]|[2468][048]|[13579][26])|(0[48]|[2468][048]|[13579][26])00)-02-29)$/,POUND_TOPIC:/^#([^\/|\\|\:|\*|\?|\"|<|>|\|]+?)#/,AT:/(@[a-zA-Z0-9_\u4e00-\u9fa5()]+)(\W|$)/gi,DIR_NAME:/[\\/:*?\"<>|]/,EmplName:/[\\\/:*?\"'<>\{};#!|]/,PWD:/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))^.{8,32}$/},random:function(e){var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";e=e||32;for(var n=t.length,a="",i=0;i<e;i++)a+=t.charAt(Math.floor(Math.random()*n));return a},guid:(a=0,function(e){for(var t=(+new Date).toString(32),n=0;n<5;n++)t+=Math.floor(65535*Math.random()).toString(32);return(e||"")+t+(a++).toString(32)}),formatSize:function(e){try{for(var t=e+" bytes",n=["KB","MB","GB","TB","PB","EB","ZB","YB"],a=0,i=e/1024;i>1;i/=1024,a++)t=i.toFixed(3)+" "+n[a];return t}catch(t){return e}},toPercent:function(e,t){return e<=0||t<=0?0:Math.round(t/e*100)},long2Time:function(e){return e&&0!=e?this.dateFormat(new Date(e),"yyyy-MM-dd HH:mm"):""},dateFormat:function(e,t){var n="[object Date]"==Object.prototype.toString.call(e)?e:new Date(e);t||(t="yyyyMMddHHmmss");var a=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|dd|HH|mm|ss/g,function(e){switch(e){case"yyyy":return a(n.getFullYear());case"MM":return a(n.getMonth()+1);case"dd":return a(n.getDate());case"HH":return a(n.getHours());case"mm":return a(n.getMinutes());case"ss":return a(n.getSeconds())}})},getQueryParam:function(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=e.substr(1).match(n);return null!=a?decodeURIComponent(a[2]):null},setCookie:function(e,t,n){var a="";if(void 0!=n&&n>0){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),a="expires="+i.toUTCString()+";"}document.cookie=e+"="+t+";path=/;"+a},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},addEvent:function(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},triggerMouseEvent:function(e,t,n,a){var i=document.createEvent("MouseEvents");i.initEvent(t,n,a),e.dispatchEvent(i)},cuteFile:function(e,t){if(e&&t)return e._cute=e._cute?{_start:e._cute._end,_end:e._cute._end+t}:{_start:0,_end:t},e.slice(e._cute._start,e._cute._end)},supportES6:function(){try{new Function("var _ = () => {};")}catch(e){return!1}return!0},AjaxRequest:function(e){for(var t in e.xhrPayload="",e.async=void 0==e.async||e.async,e.datas=e.datas?e.datas:{},e.method=e.method?e.method.toUpperCase():"GET",e.headers=e.headers?e.headers:{},e.payload=this.buildPayload(e.datas),e.xhrPayload=e.payload.payload_encode,e.xhrPayload&&e.xhrPayload.length>0&&("GET"!=e.method&&"DELETE"!=e.method||(e.uri=e.uri+"?"+e.xhrPayload,e.xhrPayload="")),"POST"!=e.method&&"DELETE"!=e.method||void 0==e.headers["Content-Type"]&&(e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),e.xhr=new XMLHttpRequest,e.xhr.open(e.method,e.uri,e.async),e.xhr.onreadystatechange=function(){if(e.onreadystatechange)return e.onreadystatechange(e.xhr,e)},e.timeout&&(e.xhr.timeout=parseInt(e.timeout)),e.headers)e.xhr.setRequestHeader(t,e.headers[t]);return e.setHeader=function(t,n){e.headers[t.toString()]=n,e.xhr.setRequestHeader(t,n)},e.do=function(t){return e.async&&t&&(e.onreadystatechange=t),e.xhr.send(e.xhrPayload),e.async||!t?e.xhr:t(e.xhr,e)},e},buildPayload:function(e){if(!e)return"";var t={};for(var n in e)void 0!=e[n]&&null!=e[n]&&0!=e[n].length&&(t[n]=e[n]);var a=void 0,i="",r=o()(t);if(r.length>0){r=r.sort();for(var s=[],l=[],c=0;c<r.length;c++){var d=t[r[c]];s.push(r[c]+"="+d),l.push(r[c]+"="+encodeURIComponent(d))}a=s.join("&"),i=l.join("&")}return{payload:a,payload_encode:i}},json2query:function(e,t){t=t||"";var n=[],a=Object.prototype.hasOwnProperty;for(var i in"string"!=typeof t&&(t="?"),e)a.call(e,i)&&n.push(i+"="+encodeURIComponent(e[i]));return n.length?t+n.join("&"):""},uploadByFormData:function(e,t,n){var a={ctrl:{filekey:t.name?t.name:"file",method:"POST",header:{},form:{},loadstart:function(e){},load:function(e){},loadend:function(e){},error:function(e){},abort:function(e){},progress:function(e){}},xhr:new XMLHttpRequest,formData:new FormData,abort:function(){a.xhr.abort()},start:function(){for(var t in a.xhr.open(a.ctrl.method,e),a.ctrl.header)a.xhr.setRequestHeader(t,a.ctrl.header[t]);a.xhr.overrideMimeType("application/octet-stream"),a.xhr.send(a.formData)}};for(var i in a.ctrl=this.extendAttrs(a.ctrl,n),a.ctrl.form)a.formData.append(i,a.ctrl.form[i]);return a.formData.append(a.ctrl.filekey,t),a.xhr.upload.addEventListener("loadstart",a.ctrl.loadstart),a.xhr.upload.addEventListener("load",a.ctrl.load),a.xhr.upload.addEventListener("loadend",a.ctrl.loadend),a.xhr.upload.addEventListener("progress",a.ctrl.progress),a.xhr.upload.addEventListener("error",a.ctrl.error),a.xhr.upload.addEventListener("abort",a.ctrl.abort),a.xhr.onreadystatechange=function(e){var t=e.target;4==t.readyState&&200!=t.status&&a.ctrl.error(new Error(t.responseText?t.responseText:t.statusText))},a},uploadByFileReader:function(e,t,n){var a={ctrl:{method:"POST",header:{"Content-Type":"text/plain"},progress:function(e,t){}},xhr:new XMLHttpRequest,reader:new FileReader,abort:function(){a.reader.abort(),a.xhr.abort()},start:function(){for(var n in a.xhr.open(a.ctrl.method,e),a.ctrl.header)a.xhr.setRequestHeader(n,a.ctrl.header[n]);a.xhr.overrideMimeType("application/octet-stream"),self.reader.readAsArrayBuffer(t)}};return a.ctrl=this.extendAttrs(a.ctrl,n),a.xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&a.ctrl.progress(Math.round(100*e.loaded/e.total),e)},!1),a.reader.onload=function(e){self.xhr.send(e.target.result)},a},areaCover:function(e){var t=void 0,n=void 0;e.ignoreTags=["BUTTON","INPUT","A"],e.background.style.userSelect="none",e.background.style.webkitUserSelect="none",e.background.onmousedown=function(a){var i=a||event;i.stopPropagation();try{t&&e.background.removeEventListener("mousemove",t,!0),n&&e.background.removeEventListener("mouseup",n,!0);var o=document.getElementById("mouse-box");o&&e.background.removeChild(o)}catch(e){}if(!(e.ignoreTags&&e.ignoreTags.indexOf(i.target.tagName)>-1)&&2!=i.which){var r=e.background.getBoundingClientRect?e.background.getBoundingClientRect():{x:0,y:0},s=i.clientX-r.x,l=i.clientY-r.y,c=document.createElement("div");c.id="mouse-box",c.style.background="#e9f3fd",c.style.border="1px dashed #000",c.style.position="absolute",c.style.opacity="0.6",c.style.filter="alpha(opacity=60)",e.background.appendChild(c),t=function(t){var n=t||event;n.stopPropagation();var a=e.background.getBoundingClientRect?e.background.getBoundingClientRect():{x:0,y:0},i=n.clientX-a.x-s,o=n.clientY-a.y-l,r=Math.abs(i),d=Math.abs(o);c.style.left=i>0?s+"px":n.clientX-a.x+"px",c.style.top=o>0?l+"px":n.clientY-a.y+"px",c.style.width=r+"px",c.style.height=d+"px";var u=c.getBoundingClientRect().left,p=c.getBoundingClientRect().top,h=c.getBoundingClientRect().right,f=c.getBoundingClientRect().bottom,m=e.background.querySelectorAll(e.coverfilter);if(m&&m.length>0)for(var y=0;y<m.length;y++){var v=m[y].getBoundingClientRect().left,g=m[y].getBoundingClientRect().top,b=m[y].getBoundingClientRect().right,w=m[y].getBoundingClientRect().bottom;h<v||f<g||u>b||p>w?e.onUnCover(m[y]):e.onCover(m[y])}},n=function(n){try{t&&e.background.removeEventListener("mousemove",t,!0);var a=document.getElementById("mouse-box");a&&e.background.removeChild(a)}catch(e){console.error(e)}},e.background.addEventListener("mousemove",t,!0),e.background.addEventListener("mouseup",n,!0)}}}}},mOIF:function(e,t){},nqF0:function(e,t){},rIwW:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__fileicon_vue__=__webpack_require__("eijq"),__WEBPACK_IMPORTED_MODULE_1__address_vue__=__webpack_require__("dzvC"),__WEBPACK_IMPORTED_MODULE_2__js_utils__=__webpack_require__("mF0L"),__WEBPACK_IMPORTED_MODULE_3__js_apis_fileopts__=__webpack_require__("/u7W");__webpack_exports__.a={name:"fileselector",components:{fileAdress:__WEBPACK_IMPORTED_MODULE_1__address_vue__.a},props:["show-dailog","settings","start-path","select-muti","select-file","select-dir"],data:function(){var e=this;return{isShowDailog:!1,isSelectFile:!1,isSelectDir:!1,isSelectMuti:!1,fsStatus:{loadedPath:"",fsLoading:!0},fsSettings:{rootname:"/",width:680,height:450},fsColumns:[{title:"#",width:60,render:function(t,n){return t("checkbox",{props:{value:void 0!=n.row._checked&&n.row._checked},on:{"on-change":function(t){if(e.fsStatus.fsLoading=!0,!e.isSelectMuti)for(var a=0;a<e.fsData.length;a++)a!=n.index&&(e.fsData[a]._checked=!1);e.$set(e.fsData[n.index],"_checked",t),t?e.putSelect(n.row):e.removeSelect(n.row),e.fsStatus.fsLoading=!1}}})}},{title:"",key:"path",render:function(t,n){return t(__WEBPACK_IMPORTED_MODULE_0__fileicon_vue__.a,{props:{node:n.row,editMode:!1},on:{click:e.doOpenDir}})}},{title:"",key:"CtTime",width:180,render:function(e,t){return e("span",__WEBPACK_IMPORTED_MODULE_2__js_utils__.a.long2Time(t.row.CtTime))}}],fsData:[],selectedDates:[]}},created:function(){},methods:{init:function init(){this.setting&&(this.fsSettings.width=this.settings.width?this.settings.width:this.fsSettings.width,this.fsSettings.height=this.settings.height?this.settings.height:this.fsSettings.height),this.isSelectFile=!!this.selectFile&&this.selectFile,this.isSelectDir=!!this.selectDir&&this.selectDir,this.isSelectMuti=!!this.selectMuti&&eval(this.selectMuti),this.selectedDates=[],this.startPath&&this.startPath.length>0&&this.goToPath(this.startPath)},goToPath:function(e){this.fsStatus.loadedPath!=e&&(this.fsStatus.fsLoading=!0,this.fsStatus.loadedPath=e)},doOpenDir:function(e){e.isFile||this.goToPath(e.path)},onOk:function(){if(this.fsStatus.fsLoading=!0,this.fsData)for(var e=0;e<this.fsData.length;e++)this.fsData[e]._checked=!1;this.fsStatus.fsLoading=!1,this.$emit("on-select",this.selectedDates&&this.selectedDates.length>0?this.selectedDates:this.isSelectDir?[{path:this.fsStatus.loadedPath,isFile:!1}]:[])},onCancel:function(){this.$emit("on-cancel")},onRowClick:function(e,t){for(var n=0;n<this.fsData.length;n++)this.fsData[n]._checked&&t!=n&&this.$set(this.fsData[n],"_checked",!1);this.selectedDates=[e],this.$set(this.fsData[t],"_checked",!0)},putSelect:function(e){if(this.isSelectMuti){for(var t=0;t<this.selectedDates.length;t++)if(this.selectedDates[t].path==e.path)return;this.selectedDates.push(e)}else this.selectedDates=[e]},removeSelect:function(e){for(var t=this.selectedDates.length-1;t>=0;t--)this.selectedDates[t].path==e.path&&this.selectedDates.remove(t)},onSelectionChange:function(e,t){}},watch:{showDailog:function(e,t){e?this.init():this.fsStatus.loadedPath="",this.isShowDailog=e},"fsStatus.loadedPath":function(e,t){var n=this;e&&__WEBPACK_IMPORTED_MODULE_3__js_apis_fileopts__.a.List(e).then(function(e){n.fsData=[],n.selectedDates=[];for(var t=0;t<e.length;t++)(n.isSelectFile&&e[t].isFile||n.isSelectDir&&!e[t].isFile)&&(e[t]._checked=!1,n.fsData.push(e[t]));n.fsStatus.fsLoading=!1}).catch(function(e){n.fsStatus.fsLoading=!1,n.$Message.error(e.toString())})}}}},uKjd:function(e,t){},uvlh:function(e,t){},vCjF:function(e,t){},vRLG:function(e,t){},zIZW:function(e,t){!function(){"use strict";String.prototype.startWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substr(0,e.length)==e},String.prototype.endWith=function(e){return!(null==e||""==e||0==this.length||e.length>this.length)&&this.substring(this.length-e.length)==e},String.prototype.replaceStr=function(e,t){for(var n=this.split(e.toString()),a="",i=0;i<n.length;i++)a+=n[i],i!=n.length-1&&t&&(a+=t);return a},String.prototype.getPath=function(){var e=this.parsePath();if(null!=this&&""!=this){var t=this.lastIndexOf("/");t==this.length-1&&(e=this.substring(0,this.lastIndexOf("/")))}return e},String.prototype.parsePath=function(e){return e&&e.windows?this.replaceStr("//","/").replaceStr("/","\\"):this.replaceStr("\\","/").replaceStr("//","/")},String.prototype.getParent=function(){var e=this.getPath();return""==e?"/":""==(e=e.substring(0,e.lastIndexOf("/")))?"/":e},String.prototype.getName=function(e){var t=this.toString().getPath();return t=t.substring(t.lastIndexOf("/")+1),0==e&&-1!=t.lastIndexOf(".")&&(t=t.substring(0,t.lastIndexOf("."))),t},String.prototype.getSuffixed=function(e){var t=this.toString().getName();if(-1==t.lastIndexOf("."))return"";var n=t.lastIndexOf(".");return 0==e&&n++,t=t.substring(n)},String.prototype.getHost=function(){var e=this.toString();return e?(e.startWith("http://")?(e=e.substr(7)).endWith(":80")&&(e=e.substr(0,e.length-3)):e.startWith("https://")&&(e=e.substr(8)).endWith(":443")&&(e=e.substr(0,e.length-4)),e):""},String.prototype.getPort=function(){var e=this.lastIndexOf(":"),t=this.lastIndexOf("/");return t<e&&e>0&&e<this.length&&e>3&&t>5?this.substring(e+1):null},String.prototype.getServer=function(){var e=this.toString(),t=e.startWith("http://")?7:e.startWith("https://")?8:0,n=e.lastIndexOf(":")>7?e.lastIndexOf(":"):e.length;return e.substring(t,n)},String.prototype.getServerPath=function(){return this.replace(/^.*?\:\/\/[^\/]+/,"")},String.prototype.getStandardUrl=function(e){var t=this.toString();return t?(t.startWith("http://")||t.startWith("https://")||(t=(e||"http")+"://"+t),t.startWith("http://")&&t.lastIndexOf(":")<6?t+=":80":t.startWith("https://")&&t.lastIndexOf(":")<7&&(t+=":443"),t.toLowerCase()):""},String.prototype.getAbsolutePath=function(e){try{for(var t=e.getPath().getPath(),n=this.toString().split("/"),a=0,i="",o=0;o<n.length;o++)".."!=n[o]?"."!=n[o]&&(i+="/"+n[o]):a++;for(var r=0;r<a;r++)t=t.getParent();return(t+=i).getPath()}catch(t){return e}},Array.prototype.remove=function(e){if(isNaN(e)||e>this.length)return!1;for(var t=0,n=0;t<this.length;t++)this[t]!=this[e]&&(this[n++]=this[t]);this.length-=1}}()}},["NHnr"]);
//# sourceMappingURL=app.a0b28eaa9479783f834a.js.map